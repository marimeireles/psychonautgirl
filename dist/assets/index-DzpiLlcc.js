var Iv=t=>{throw TypeError(t)};var zp=(t,e,n)=>e.has(t)||Iv("Cannot "+n);var Q=(t,e,n)=>(zp(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?Iv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_e=(t,e,n,r)=>(zp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),zt=(t,e,n)=>(zp(t,e,"access private method"),n);var Ku=(t,e,n,r)=>({set _(i){_e(t,e,i,n)},get _(){return Q(t,e,r)}});function VR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function El(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var RT={exports:{}},Mf={},NT={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),qR=Symbol.for("react.portal"),KR=Symbol.for("react.fragment"),XR=Symbol.for("react.strict_mode"),QR=Symbol.for("react.profiler"),JR=Symbol.for("react.provider"),ZR=Symbol.for("react.context"),eN=Symbol.for("react.forward_ref"),tN=Symbol.for("react.suspense"),nN=Symbol.for("react.memo"),rN=Symbol.for("react.lazy"),Dv=Symbol.iterator;function iN(t){return t===null||typeof t!="object"?null:(t=Dv&&t[Dv]||t["@@iterator"],typeof t=="function"?t:null)}var IT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DT=Object.assign,PT={};function wl(t,e,n){this.props=t,this.context=e,this.refs=PT,this.updater=n||IT}wl.prototype.isReactComponent={};wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MT(){}MT.prototype=wl.prototype;function gy(t,e,n){this.props=t,this.context=e,this.refs=PT,this.updater=n||IT}var my=gy.prototype=new MT;my.constructor=gy;DT(my,wl.prototype);my.isPureReactComponent=!0;var Pv=Array.isArray,LT=Object.prototype.hasOwnProperty,yy={current:null},FT={key:!0,ref:!0,__self:!0,__source:!0};function BT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)LT.call(e,r)&&!FT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Au,type:t,key:s,ref:o,props:i,_owner:yy.current}}function sN(t,e){return{$$typeof:Au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function by(t){return typeof t=="object"&&t!==null&&t.$$typeof===Au}function oN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mv=/\/+/g;function $p(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oN(""+t.key):e.toString(36)}function lh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Au:case qR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$p(o,0):r,Pv(i)?(n="",t!=null&&(n=t.replace(Mv,"$&/")+"/"),lh(i,e,n,"",function(c){return c})):i!=null&&(by(i)&&(i=sN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Pv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$p(s,a);o+=lh(s,e,n,l,i)}else if(l=iN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$p(s,a++),o+=lh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(t,e,n){if(t==null)return t;var r=[],i=0;return lh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function aN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},ch={transition:null},lN={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:ch,ReactCurrentOwner:yy};function UT(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!by(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=wl;ke.Fragment=KR;ke.Profiler=QR;ke.PureComponent=gy;ke.StrictMode=XR;ke.Suspense=tN;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lN;ke.act=UT;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)LT.call(e,l)&&!FT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Au,type:t.type,key:i,ref:s,props:r,_owner:o}};ke.createContext=function(t){return t={$$typeof:ZR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JR,_context:t},t.Consumer=t};ke.createElement=BT;ke.createFactory=function(t){var e=BT.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:eN,render:t}};ke.isValidElement=by;ke.lazy=function(t){return{$$typeof:rN,_payload:{_status:-1,_result:t},_init:aN}};ke.memo=function(t,e){return{$$typeof:nN,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=ch.transition;ch.transition={};try{t()}finally{ch.transition=e}};ke.unstable_act=UT;ke.useCallback=function(t,e){return pn.current.useCallback(t,e)};ke.useContext=function(t){return pn.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};ke.useEffect=function(t,e){return pn.current.useEffect(t,e)};ke.useId=function(){return pn.current.useId()};ke.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return pn.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};ke.useRef=function(t){return pn.current.useRef(t)};ke.useState=function(t){return pn.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return pn.current.useTransition()};ke.version="18.3.1";NT.exports=ke;var A=NT.exports;const oe=El(A),jT=VR({__proto__:null,default:oe},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cN=A,uN=Symbol.for("react.element"),dN=Symbol.for("react.fragment"),hN=Object.prototype.hasOwnProperty,fN=cN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pN={key:!0,ref:!0,__self:!0,__source:!0};function HT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)hN.call(e,r)&&!pN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uN,type:t,key:s,ref:o,props:i,_owner:fN.current}}Mf.Fragment=dN;Mf.jsx=HT;Mf.jsxs=HT;RT.exports=Mf;var E=RT.exports,WT={exports:{}},Kn={},zT={exports:{}},$T={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,H){var S=D.length;D.push(H);e:for(;0<S;){var ie=S-1>>>1,ee=D[ie];if(0<i(ee,H))D[ie]=H,D[S]=ee,S=ie;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var H=D[0],S=D.pop();if(S!==H){D[0]=S;e:for(var ie=0,ee=D.length,N=ee>>>1;ie<N;){var ae=2*(ie+1)-1,me=D[ae],pe=ae+1,ye=D[pe];if(0>i(me,S))pe<ee&&0>i(ye,me)?(D[ie]=ye,D[pe]=S,ie=pe):(D[ie]=me,D[ae]=S,ie=ae);else if(pe<ee&&0>i(ye,S))D[ie]=ye,D[pe]=S,ie=pe;else break e}}return H}function i(D,H){var S=D.sortIndex-H.sortIndex;return S!==0?S:D.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=D)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function T(D){if(g=!1,_(D),!p)if(n(l)!==null)p=!0,M(x);else{var H=n(c);H!==null&&W(T,H.startTime-D)}}function x(D,H){p=!1,g&&(g=!1,y(I),I=-1),f=!0;var S=h;try{for(_(H),d=n(l);d!==null&&(!(d.expirationTime>H)||D&&!G());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,h=d.priorityLevel;var ee=ie(d.expirationTime<=H);H=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),_(H)}else r(l);d=n(l)}if(d!==null)var N=!0;else{var ae=n(c);ae!==null&&W(T,ae.startTime-H),N=!1}return N}finally{d=null,h=S,f=!1}}var w=!1,C=null,I=-1,U=5,O=-1;function G(){return!(t.unstable_now()-O<U)}function j(){if(C!==null){var D=t.unstable_now();O=D;var H=!0;try{H=C(!0,D)}finally{H?X():(w=!1,C=null)}}else w=!1}var X;if(typeof b=="function")X=function(){b(j)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=j,X=function(){q.postMessage(null)}}else X=function(){v(j,0)};function M(D){C=D,w||(w=!0,X())}function W(D,H){I=v(function(){D(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,M(x))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var S=h;h=H;try{return D()}finally{h=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var S=h;h=D;try{return H()}finally{h=S}},t.unstable_scheduleCallback=function(D,H,S){var ie=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?ie+S:ie):S=ie,D){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=S+ee,D={id:u++,callback:H,priorityLevel:D,startTime:S,expirationTime:ee,sortIndex:-1},S>ie?(D.sortIndex=S,e(c,D),n(l)===null&&D===n(c)&&(g?(y(I),I=-1):g=!0,W(T,S-ie))):(D.sortIndex=ee,e(l,D),p||f||(p=!0,M(x))),D},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(D){var H=h;return function(){var S=h;h=H;try{return D.apply(this,arguments)}finally{h=S}}}})($T);zT.exports=$T;var gN=zT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN=A,qn=gN;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GT=new Set,zc={};function Go(t,e){ol(t,e),ol(t+"Capture",e)}function ol(t,e){for(zc[t]=e,t=0;t<e.length;t++)GT.add(e[t])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ym=Object.prototype.hasOwnProperty,yN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lv={},Fv={};function bN(t){return ym.call(Fv,t)?!0:ym.call(Lv,t)?!1:yN.test(t)?Fv[t]=!0:(Lv[t]=!0,!1)}function vN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _N(t,e,n,r){if(e===null||typeof e>"u"||vN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vy=/[\-:]([a-z])/g;function _y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vy,_y);Wt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vy,_y);Wt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vy,_y);Wt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ey(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_N(e,n,i,r)&&(n=null),r||i===null?bN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qi=mN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qu=Symbol.for("react.element"),Ea=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),wy=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),YT=Symbol.for("react.provider"),VT=Symbol.for("react.context"),Ty=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),_m=Symbol.for("react.suspense_list"),xy=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),qT=Symbol.for("react.offscreen"),Bv=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=Bv&&t[Bv]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Gp;function dc(t){if(Gp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gp=e&&e[1]||""}return`
`+Gp+t}var Yp=!1;function Vp(t,e){if(!t||Yp)return"";Yp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dc(t):""}function EN(t){switch(t.tag){case 5:return dc(t.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return t=Vp(t.type,!1),t;case 11:return t=Vp(t.type.render,!1),t;case 1:return t=Vp(t.type,!0),t;default:return""}}function Em(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case Ea:return"Portal";case bm:return"Profiler";case wy:return"StrictMode";case vm:return"Suspense";case _m:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VT:return(t.displayName||"Context")+".Consumer";case YT:return(t._context.displayName||"Context")+".Provider";case Ty:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xy:return e=t.displayName||null,e!==null?e:Em(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return Em(t(e))}catch{}}return null}function wN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(e);case 8:return e===wy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ws(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TN(t){var e=KT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ju(t){t._valueTracker||(t._valueTracker=TN(t))}function XT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ws(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QT(t,e){e=e.checked,e!=null&&Ey(t,"checked",e,!1)}function Tm(t,e){QT(t,e);var n=Ws(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xm(t,e.type,n):e.hasOwnProperty("defaultValue")&&xm(t,e.type,Ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xm(t,e,n){(e!=="number"||Dh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hc=Array.isArray;function Ba(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ws(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(hc(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ws(n)}}function JT(t,e){var n=Ws(e.value),r=Ws(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zu,ex=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zu=Zu||document.createElement("div"),Zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $c(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xN=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){xN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function tx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function nx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SN=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(SN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Am(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=null;function Sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rm=null,Ua=null,ja=null;function zv(t){if(t=Nu(t)){if(typeof Rm!="function")throw Error(te(280));var e=t.stateNode;e&&(e=jf(e),Rm(t.stateNode,t.type,e))}}function rx(t){Ua?ja?ja.push(t):ja=[t]:Ua=t}function ix(){if(Ua){var t=Ua,e=ja;if(ja=Ua=null,zv(t),e)for(t=0;t<e.length;t++)zv(e[t])}}function sx(t,e){return t(e)}function ox(){}var qp=!1;function ax(t,e,n){if(qp)return t(e,n);qp=!0;try{return sx(t,e,n)}finally{qp=!1,(Ua!==null||ja!==null)&&(ox(),ix())}}function Gc(t,e){var n=t.stateNode;if(n===null)return null;var r=jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var Nm=!1;if(Bi)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){Nm=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Nm=!1}function CN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var vc=!1,Ph=null,Mh=!1,Im=null,kN={onError:function(t){vc=!0,Ph=t}};function AN(t,e,n,r,i,s,o,a,l){vc=!1,Ph=null,CN.apply(kN,arguments)}function ON(t,e,n,r,i,s,o,a,l){if(AN.apply(this,arguments),vc){if(vc){var c=Ph;vc=!1,Ph=null}else throw Error(te(198));Mh||(Mh=!0,Im=c)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $v(t){if(Yo(t)!==t)throw Error(te(188))}function RN(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $v(i),t;if(s===r)return $v(i),e;s=s.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function cx(t){return t=RN(t),t!==null?ux(t):null}function ux(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ux(t);if(e!==null)return e;t=t.sibling}return null}var dx=qn.unstable_scheduleCallback,Gv=qn.unstable_cancelCallback,NN=qn.unstable_shouldYield,IN=qn.unstable_requestPaint,ht=qn.unstable_now,DN=qn.unstable_getCurrentPriorityLevel,Cy=qn.unstable_ImmediatePriority,hx=qn.unstable_UserBlockingPriority,Lh=qn.unstable_NormalPriority,PN=qn.unstable_LowPriority,fx=qn.unstable_IdlePriority,Lf=null,ci=null;function MN(t){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(Lf,t,void 0,(t.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:BN,LN=Math.log,FN=Math.LN2;function BN(t){return t>>>=0,t===0?32:31-(LN(t)/FN|0)|0}var ed=64,td=4194304;function fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=fc(a):(s&=o,s!==0&&(r=fc(s)))}else o=n&~i,o!==0?r=fc(o):s!==0&&(r=fc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Br(e),i=1<<n,r|=t[n],e&=~i;return r}function UN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Br(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=UN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function px(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function Kp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ou(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Br(e),t[e]=n}function HN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Br(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ky(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function gx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mx,Ay,yx,bx,vx,Pm=!1,nd=[],Ps=null,Ms=null,Ls=null,Yc=new Map,Vc=new Map,_s=[],WN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yv(t,e){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function ql(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nu(e),e!==null&&Ay(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zN(t,e,n,r,i){switch(e){case"focusin":return Ps=ql(Ps,t,e,n,r,i),!0;case"dragenter":return Ms=ql(Ms,t,e,n,r,i),!0;case"mouseover":return Ls=ql(Ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yc.set(s,ql(Yc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Vc.set(s,ql(Vc.get(s)||null,t,e,n,r,i)),!0}return!1}function _x(t){var e=yo(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=lx(n),e!==null){t.blockedOn=e,vx(t.priority,function(){yx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Om=r,n.target.dispatchEvent(r),Om=null}else return e=Nu(n),e!==null&&Ay(e),t.blockedOn=n,!1;e.shift()}return!0}function Vv(t,e,n){uh(t)&&n.delete(e)}function $N(){Pm=!1,Ps!==null&&uh(Ps)&&(Ps=null),Ms!==null&&uh(Ms)&&(Ms=null),Ls!==null&&uh(Ls)&&(Ls=null),Yc.forEach(Vv),Vc.forEach(Vv)}function Kl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pm||(Pm=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,$N)))}function qc(t){function e(i){return Kl(i,t)}if(0<nd.length){Kl(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ps!==null&&Kl(Ps,t),Ms!==null&&Kl(Ms,t),Ls!==null&&Kl(Ls,t),Yc.forEach(e),Vc.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)_x(n),n.blockedOn===null&&_s.shift()}var Ha=qi.ReactCurrentBatchConfig,Bh=!0;function GN(t,e,n,r){var i=Le,s=Ha.transition;Ha.transition=null;try{Le=1,Oy(t,e,n,r)}finally{Le=i,Ha.transition=s}}function YN(t,e,n,r){var i=Le,s=Ha.transition;Ha.transition=null;try{Le=4,Oy(t,e,n,r)}finally{Le=i,Ha.transition=s}}function Oy(t,e,n,r){if(Bh){var i=Mm(t,e,n,r);if(i===null)sg(t,e,r,Uh,n),Yv(t,r);else if(zN(i,t,e,n,r))r.stopPropagation();else if(Yv(t,r),e&4&&-1<WN.indexOf(t)){for(;i!==null;){var s=Nu(i);if(s!==null&&mx(s),s=Mm(t,e,n,r),s===null&&sg(t,e,r,Uh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sg(t,e,r,null,n)}}var Uh=null;function Mm(t,e,n,r){if(Uh=null,t=Sy(r),t=yo(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uh=t,null}function Ex(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DN()){case Cy:return 1;case hx:return 4;case Lh:case PN:return 16;case fx:return 536870912;default:return 16}default:return 16}}var Os=null,Ry=null,dh=null;function wx(){if(dh)return dh;var t,e=Ry,n=e.length,r,i="value"in Os?Os.value:Os.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return dh=i.slice(t,1<r?1-r:void 0)}function hh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function qv(){return!1}function Xn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rd:qv,this.isPropagationStopped=qv,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ny=Xn(Tl),Ru=at({},Tl,{view:0,detail:0}),VN=Xn(Ru),Xp,Qp,Xl,Ff=at({},Ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(Xp=t.screenX-Xl.screenX,Qp=t.screenY-Xl.screenY):Qp=Xp=0,Xl=t),Xp)},movementY:function(t){return"movementY"in t?t.movementY:Qp}}),Kv=Xn(Ff),qN=at({},Ff,{dataTransfer:0}),KN=Xn(qN),XN=at({},Ru,{relatedTarget:0}),Jp=Xn(XN),QN=at({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),JN=Xn(QN),ZN=at({},Tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eI=Xn(ZN),tI=at({},Tl,{data:0}),Xv=Xn(tI),nI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iI[t])?!!e[t]:!1}function Iy(){return sI}var oI=at({},Ru,{key:function(t){if(t.key){var e=nI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iy,charCode:function(t){return t.type==="keypress"?hh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aI=Xn(oI),lI=at({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qv=Xn(lI),cI=at({},Ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iy}),uI=Xn(cI),dI=at({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),hI=Xn(dI),fI=at({},Ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pI=Xn(fI),gI=[9,13,27,32],Dy=Bi&&"CompositionEvent"in window,_c=null;Bi&&"documentMode"in document&&(_c=document.documentMode);var mI=Bi&&"TextEvent"in window&&!_c,Tx=Bi&&(!Dy||_c&&8<_c&&11>=_c),Jv=" ",Zv=!1;function xx(t,e){switch(t){case"keyup":return gI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function yI(t,e){switch(t){case"compositionend":return Sx(e);case"keypress":return e.which!==32?null:(Zv=!0,Jv);case"textInput":return t=e.data,t===Jv&&Zv?null:t;default:return null}}function bI(t,e){if(Ta)return t==="compositionend"||!Dy&&xx(t,e)?(t=wx(),dh=Ry=Os=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tx&&e.locale!=="ko"?null:e.data;default:return null}}var vI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vI[t.type]:e==="textarea"}function Cx(t,e,n,r){rx(r),e=jh(e,"onChange"),0<e.length&&(n=new Ny("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,Kc=null;function _I(t){Fx(t,0)}function Bf(t){var e=Ca(t);if(XT(e))return t}function EI(t,e){if(t==="change")return e}var kx=!1;if(Bi){var Zp;if(Bi){var eg="oninput"in document;if(!eg){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),eg=typeof t_.oninput=="function"}Zp=eg}else Zp=!1;kx=Zp&&(!document.documentMode||9<document.documentMode)}function n_(){Ec&&(Ec.detachEvent("onpropertychange",Ax),Kc=Ec=null)}function Ax(t){if(t.propertyName==="value"&&Bf(Kc)){var e=[];Cx(e,Kc,t,Sy(t)),ax(_I,e)}}function wI(t,e,n){t==="focusin"?(n_(),Ec=e,Kc=n,Ec.attachEvent("onpropertychange",Ax)):t==="focusout"&&n_()}function TI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bf(Kc)}function xI(t,e){if(t==="click")return Bf(e)}function SI(t,e){if(t==="input"||t==="change")return Bf(e)}function CI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wr=typeof Object.is=="function"?Object.is:CI;function Xc(t,e){if(Wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ym.call(e,i)||!Wr(t[i],e[i]))return!1}return!0}function r_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i_(t,e){var n=r_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r_(n)}}function Ox(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ox(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rx(){for(var t=window,e=Dh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dh(t.document)}return e}function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kI(t){var e=Rx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ox(n.ownerDocument.documentElement,n)){if(r!==null&&Py(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=i_(n,s);var o=i_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AI=Bi&&"documentMode"in document&&11>=document.documentMode,xa=null,Lm=null,wc=null,Fm=!1;function s_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fm||xa==null||xa!==Dh(r)||(r=xa,"selectionStart"in r&&Py(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wc&&Xc(wc,r)||(wc=r,r=jh(Lm,"onSelect"),0<r.length&&(e=new Ny("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xa)))}function id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sa={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},tg={},Nx={};Bi&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Uf(t){if(tg[t])return tg[t];if(!Sa[t])return t;var e=Sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nx)return tg[t]=e[n];return t}var Ix=Uf("animationend"),Dx=Uf("animationiteration"),Px=Uf("animationstart"),Mx=Uf("transitionend"),Lx=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){Lx.set(t,e),Go(e,[t])}for(var ng=0;ng<o_.length;ng++){var rg=o_[ng],OI=rg.toLowerCase(),RI=rg[0].toUpperCase()+rg.slice(1);Xs(OI,"on"+RI)}Xs(Ix,"onAnimationEnd");Xs(Dx,"onAnimationIteration");Xs(Px,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(Mx,"onTransitionEnd");ol("onMouseEnter",["mouseout","mouseover"]);ol("onMouseLeave",["mouseout","mouseover"]);ol("onPointerEnter",["pointerout","pointerover"]);ol("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NI=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function a_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ON(r,e,void 0,t),t.currentTarget=null}function Fx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;a_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;a_(i,a,c),s=l}}}if(Mh)throw t=Im,Mh=!1,Im=null,t}function qe(t,e){var n=e[Wm];n===void 0&&(n=e[Wm]=new Set);var r=t+"__bubble";n.has(r)||(Bx(e,t,2,!1),n.add(r))}function ig(t,e,n){var r=0;e&&(r|=4),Bx(n,t,r,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[sd]){t[sd]=!0,GT.forEach(function(n){n!=="selectionchange"&&(NI.has(n)||ig(n,!1,t),ig(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,ig("selectionchange",!1,e))}}function Bx(t,e,n,r){switch(Ex(e)){case 1:var i=GN;break;case 4:i=YN;break;default:i=Oy}n=i.bind(null,e,n,t),i=void 0,!Nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ax(function(){var c=s,u=Sy(n),d=[];e:{var h=Lx.get(t);if(h!==void 0){var f=Ny,p=t;switch(t){case"keypress":if(hh(n)===0)break e;case"keydown":case"keyup":f=aI;break;case"focusin":p="focus",f=Jp;break;case"focusout":p="blur",f=Jp;break;case"beforeblur":case"afterblur":f=Jp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Kv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=KN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=uI;break;case Ix:case Dx:case Px:f=JN;break;case Mx:f=hI;break;case"scroll":f=VN;break;case"wheel":f=pI;break;case"copy":case"cut":case"paste":f=eI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Qv}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,_;b!==null;){_=b;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,y!==null&&(T=Gc(b,y),T!=null&&g.push(Jc(b,T,_)))),v)break;b=b.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Om&&(p=n.relatedTarget||n.fromElement)&&(yo(p)||p[Ui]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?yo(p):null,p!==null&&(v=Yo(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=Kv,T="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=Qv,T="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?h:Ca(f),_=p==null?h:Ca(p),h=new g(T,b+"leave",f,n,u),h.target=v,h.relatedTarget=_,T=null,yo(u)===c&&(g=new g(y,b+"enter",p,n,u),g.target=_,g.relatedTarget=v,T=g),v=T,f&&p)t:{for(g=f,y=p,b=0,_=g;_;_=na(_))b++;for(_=0,T=y;T;T=na(T))_++;for(;0<b-_;)g=na(g),b--;for(;0<_-b;)y=na(y),_--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=na(g),y=na(y)}g=null}else g=null;f!==null&&l_(d,h,f,g,!1),p!==null&&v!==null&&l_(d,v,p,g,!0)}}e:{if(h=c?Ca(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=EI;else if(e_(h))if(kx)x=SI;else{x=TI;var w=wI}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=xI);if(x&&(x=x(t,c))){Cx(d,x,n,u);break e}w&&w(t,h,c),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&xm(h,"number",h.value)}switch(w=c?Ca(c):window,t){case"focusin":(e_(w)||w.contentEditable==="true")&&(xa=w,Lm=c,wc=null);break;case"focusout":wc=Lm=xa=null;break;case"mousedown":Fm=!0;break;case"contextmenu":case"mouseup":case"dragend":Fm=!1,s_(d,n,u);break;case"selectionchange":if(AI)break;case"keydown":case"keyup":s_(d,n,u)}var C;if(Dy)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ta?xx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Tx&&n.locale!=="ko"&&(Ta||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ta&&(C=wx()):(Os=u,Ry="value"in Os?Os.value:Os.textContent,Ta=!0)),w=jh(c,I),0<w.length&&(I=new Xv(I,t,null,n,u),d.push({event:I,listeners:w}),C?I.data=C:(C=Sx(n),C!==null&&(I.data=C)))),(C=mI?yI(t,n):bI(t,n))&&(c=jh(c,"onBeforeInput"),0<c.length&&(u=new Xv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}Fx(d,e)})}function Jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gc(t,n),s!=null&&r.unshift(Jc(t,s,i)),s=Gc(t,e),s!=null&&r.push(Jc(t,s,i))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Gc(n,s),l!=null&&o.unshift(Jc(n,l,a))):i||(l=Gc(n,s),l!=null&&o.push(Jc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var II=/\r\n?/g,DI=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(II,`
`).replace(DI,"")}function od(t,e,n){if(e=c_(e),c_(t)!==e&&n)throw Error(te(425))}function Hh(){}var Bm=null,Um=null;function jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,PI=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,MI=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(LI)}:Hm;function LI(t){setTimeout(function(){throw t})}function og(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qc(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xl=Math.random().toString(36).slice(2),ii="__reactFiber$"+xl,Zc="__reactProps$"+xl,Ui="__reactContainer$"+xl,Wm="__reactEvents$"+xl,FI="__reactListeners$"+xl,BI="__reactHandles$"+xl;function yo(t){var e=t[ii];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ui]||n[ii]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d_(t);t!==null;){if(n=t[ii])return n;t=d_(t)}return e}t=n,n=t.parentNode}return null}function Nu(t){return t=t[ii]||t[Ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ca(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function jf(t){return t[Zc]||null}var zm=[],ka=-1;function Qs(t){return{current:t}}function Ke(t){0>ka||(t.current=zm[ka],zm[ka]=null,ka--)}function Ye(t,e){ka++,zm[ka]=t.current,t.current=e}var zs={},Jt=Qs(zs),kn=Qs(!1),Fo=zs;function al(t,e){var n=t.type.contextTypes;if(!n)return zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function Wh(){Ke(kn),Ke(Jt)}function h_(t,e,n){if(Jt.current!==zs)throw Error(te(168));Ye(Jt,e),Ye(kn,n)}function Ux(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,wN(t)||"Unknown",i));return at({},n,r)}function zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,Fo=Jt.current,Ye(Jt,t),Ye(kn,kn.current),!0}function f_(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=Ux(t,e,Fo),r.__reactInternalMemoizedMergedChildContext=t,Ke(kn),Ke(Jt),Ye(Jt,t)):Ke(kn),Ye(kn,n)}var ki=null,Hf=!1,ag=!1;function jx(t){ki===null?ki=[t]:ki.push(t)}function UI(t){Hf=!0,jx(t)}function Js(){if(!ag&&ki!==null){ag=!0;var t=0,e=Le;try{var n=ki;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ki=null,Hf=!1}catch(i){throw ki!==null&&(ki=ki.slice(t+1)),dx(Cy,Js),i}finally{Le=e,ag=!1}}return null}var Aa=[],Oa=0,$h=null,Gh=0,rr=[],ir=0,Bo=null,Ii=1,Di="";function lo(t,e){Aa[Oa++]=Gh,Aa[Oa++]=$h,$h=t,Gh=e}function Hx(t,e,n){rr[ir++]=Ii,rr[ir++]=Di,rr[ir++]=Bo,Bo=t;var r=Ii;t=Di;var i=32-Br(r)-1;r&=~(1<<i),n+=1;var s=32-Br(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ii=1<<32-Br(e)+i|n<<i|r,Di=s+t}else Ii=1<<s|n<<i|r,Di=t}function My(t){t.return!==null&&(lo(t,1),Hx(t,1,0))}function Ly(t){for(;t===$h;)$h=Aa[--Oa],Aa[Oa]=null,Gh=Aa[--Oa],Aa[Oa]=null;for(;t===Bo;)Bo=rr[--ir],rr[ir]=null,Di=rr[--ir],rr[ir]=null,Ii=rr[--ir],rr[ir]=null}var $n=null,zn=null,Je=!1,Dr=null;function Wx(t,e){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,zn=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bo!==null?{id:Ii,overflow:Di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,zn=null,!0):!1;default:return!1}}function $m(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gm(t){if(Je){var e=zn;if(e){var n=e;if(!p_(t,e)){if($m(t))throw Error(te(418));e=Fs(n.nextSibling);var r=$n;e&&p_(t,e)?Wx(r,n):(t.flags=t.flags&-4097|2,Je=!1,$n=t)}}else{if($m(t))throw Error(te(418));t.flags=t.flags&-4097|2,Je=!1,$n=t}}}function g_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function ad(t){if(t!==$n)return!1;if(!Je)return g_(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jm(t.type,t.memoizedProps)),e&&(e=zn)){if($m(t))throw zx(),Error(te(418));for(;e;)Wx(t,e),e=Fs(e.nextSibling)}if(g_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=$n?Fs(t.stateNode.nextSibling):null;return!0}function zx(){for(var t=zn;t;)t=Fs(t.nextSibling)}function ll(){zn=$n=null,Je=!1}function Fy(t){Dr===null?Dr=[t]:Dr.push(t)}var jI=qi.ReactCurrentBatchConfig;function Ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m_(t){var e=t._init;return e(t._payload)}function $x(t){function e(y,b){if(t){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Hs(y,b),y.index=0,y.sibling=null,y}function s(y,b,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,_,T){return b===null||b.tag!==6?(b=pg(_,y.mode,T),b.return=y,b):(b=i(b,_),b.return=y,b)}function l(y,b,_,T){var x=_.type;return x===wa?u(y,b,_.props.children,T,_.key):b!==null&&(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===bs&&m_(x)===b.type)?(T=i(b,_.props),T.ref=Ql(y,b,_),T.return=y,T):(T=vh(_.type,_.key,_.props,null,y.mode,T),T.ref=Ql(y,b,_),T.return=y,T)}function c(y,b,_,T){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=gg(_,y.mode,T),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function u(y,b,_,T,x){return b===null||b.tag!==7?(b=Io(_,y.mode,T,x),b.return=y,b):(b=i(b,_),b.return=y,b)}function d(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=pg(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qu:return _=vh(b.type,b.key,b.props,null,y.mode,_),_.ref=Ql(y,null,b),_.return=y,_;case Ea:return b=gg(b,y.mode,_),b.return=y,b;case bs:var T=b._init;return d(y,T(b._payload),_)}if(hc(b)||Yl(b))return b=Io(b,y.mode,_,null),b.return=y,b;ld(y,b)}return null}function h(y,b,_,T){var x=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(y,b,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qu:return _.key===x?l(y,b,_,T):null;case Ea:return _.key===x?c(y,b,_,T):null;case bs:return x=_._init,h(y,b,x(_._payload),T)}if(hc(_)||Yl(_))return x!==null?null:u(y,b,_,T,null);ld(y,_)}return null}function f(y,b,_,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(_)||null,a(b,y,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Qu:return y=y.get(T.key===null?_:T.key)||null,l(b,y,T,x);case Ea:return y=y.get(T.key===null?_:T.key)||null,c(b,y,T,x);case bs:var w=T._init;return f(y,b,_,w(T._payload),x)}if(hc(T)||Yl(T))return y=y.get(_)||null,u(b,y,T,x,null);ld(b,T)}return null}function p(y,b,_,T){for(var x=null,w=null,C=b,I=b=0,U=null;C!==null&&I<_.length;I++){C.index>I?(U=C,C=null):U=C.sibling;var O=h(y,C,_[I],T);if(O===null){C===null&&(C=U);break}t&&C&&O.alternate===null&&e(y,C),b=s(O,b,I),w===null?x=O:w.sibling=O,w=O,C=U}if(I===_.length)return n(y,C),Je&&lo(y,I),x;if(C===null){for(;I<_.length;I++)C=d(y,_[I],T),C!==null&&(b=s(C,b,I),w===null?x=C:w.sibling=C,w=C);return Je&&lo(y,I),x}for(C=r(y,C);I<_.length;I++)U=f(C,y,I,_[I],T),U!==null&&(t&&U.alternate!==null&&C.delete(U.key===null?I:U.key),b=s(U,b,I),w===null?x=U:w.sibling=U,w=U);return t&&C.forEach(function(G){return e(y,G)}),Je&&lo(y,I),x}function g(y,b,_,T){var x=Yl(_);if(typeof x!="function")throw Error(te(150));if(_=x.call(_),_==null)throw Error(te(151));for(var w=x=null,C=b,I=b=0,U=null,O=_.next();C!==null&&!O.done;I++,O=_.next()){C.index>I?(U=C,C=null):U=C.sibling;var G=h(y,C,O.value,T);if(G===null){C===null&&(C=U);break}t&&C&&G.alternate===null&&e(y,C),b=s(G,b,I),w===null?x=G:w.sibling=G,w=G,C=U}if(O.done)return n(y,C),Je&&lo(y,I),x;if(C===null){for(;!O.done;I++,O=_.next())O=d(y,O.value,T),O!==null&&(b=s(O,b,I),w===null?x=O:w.sibling=O,w=O);return Je&&lo(y,I),x}for(C=r(y,C);!O.done;I++,O=_.next())O=f(C,y,I,O.value,T),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?I:O.key),b=s(O,b,I),w===null?x=O:w.sibling=O,w=O);return t&&C.forEach(function(j){return e(y,j)}),Je&&lo(y,I),x}function v(y,b,_,T){if(typeof _=="object"&&_!==null&&_.type===wa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Qu:e:{for(var x=_.key,w=b;w!==null;){if(w.key===x){if(x=_.type,x===wa){if(w.tag===7){n(y,w.sibling),b=i(w,_.props.children),b.return=y,y=b;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===bs&&m_(x)===w.type){n(y,w.sibling),b=i(w,_.props),b.ref=Ql(y,w,_),b.return=y,y=b;break e}n(y,w);break}else e(y,w);w=w.sibling}_.type===wa?(b=Io(_.props.children,y.mode,T,_.key),b.return=y,y=b):(T=vh(_.type,_.key,_.props,null,y.mode,T),T.ref=Ql(y,b,_),T.return=y,y=T)}return o(y);case Ea:e:{for(w=_.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=gg(_,y.mode,T),b.return=y,y=b}return o(y);case bs:return w=_._init,v(y,b,w(_._payload),T)}if(hc(_))return p(y,b,_,T);if(Yl(_))return g(y,b,_,T);ld(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,_),b.return=y,y=b):(n(y,b),b=pg(_,y.mode,T),b.return=y,y=b),o(y)):n(y,b)}return v}var cl=$x(!0),Gx=$x(!1),Yh=Qs(null),Vh=null,Ra=null,By=null;function Uy(){By=Ra=Vh=null}function jy(t){var e=Yh.current;Ke(Yh),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wa(t,e){Vh=t,By=Ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cn=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(By!==t)if(t={context:t,memoizedValue:e,next:null},Ra===null){if(Vh===null)throw Error(te(308));Ra=t,Vh.dependencies={lanes:0,firstContext:t}}else Ra=Ra.next=t;return e}var bo=null;function Hy(t){bo===null?bo=[t]:bo.push(t)}function Yx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hy(e)):(n.next=i.next,i.next=n),e.interleaved=n,ji(t,r)}function ji(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vs=!1;function Wy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ji(t,n)}return i=r.interleaved,i===null?(e.next=e,Hy(r)):(e.next=i.next,i.next=e),r.interleaved=e,ji(t,n)}function fh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ky(t,n)}}function y_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qh(t,e,n,r){var i=t.updateQueue;vs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=at({},d,h);break e;case 2:vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);jo|=o,t.lanes=o,t.memoizedState=d}}function b_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var Iu={},ui=Qs(Iu),eu=Qs(Iu),tu=Qs(Iu);function vo(t){if(t===Iu)throw Error(te(174));return t}function zy(t,e){switch(Ye(tu,e),Ye(eu,t),Ye(ui,Iu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cm(e,t)}Ke(ui),Ye(ui,e)}function ul(){Ke(ui),Ke(eu),Ke(tu)}function qx(t){vo(tu.current);var e=vo(ui.current),n=Cm(e,t.type);e!==n&&(Ye(eu,t),Ye(ui,n))}function $y(t){eu.current===t&&(Ke(ui),Ke(eu))}var st=Qs(0);function Kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lg=[];function Gy(){for(var t=0;t<lg.length;t++)lg[t]._workInProgressVersionPrimary=null;lg.length=0}var ph=qi.ReactCurrentDispatcher,cg=qi.ReactCurrentBatchConfig,Uo=0,ot=null,Ct=null,Dt=null,Xh=!1,Tc=!1,nu=0,HI=0;function $t(){throw Error(te(321))}function Yy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wr(t[n],e[n]))return!1;return!0}function Vy(t,e,n,r,i,s){if(Uo=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ph.current=t===null||t.memoizedState===null?GI:YI,t=n(r,i),Tc){s=0;do{if(Tc=!1,nu=0,25<=s)throw Error(te(301));s+=1,Dt=Ct=null,e.updateQueue=null,ph.current=VI,t=n(r,i)}while(Tc)}if(ph.current=Qh,e=Ct!==null&&Ct.next!==null,Uo=0,Dt=Ct=ot=null,Xh=!1,e)throw Error(te(300));return t}function qy(){var t=nu!==0;return nu=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ot.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function dr(){if(Ct===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=Dt===null?ot.memoizedState:Dt.next;if(e!==null)Dt=e,Ct=t;else{if(t===null)throw Error(te(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Dt===null?ot.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function ru(t,e){return typeof e=="function"?e(t):e}function ug(t){var e=dr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Ct,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Uo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ot.lanes|=u,jo|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Wr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ot.lanes|=s,jo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dg(t){var e=dr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wr(s,e.memoizedState)||(Cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Kx(){}function Xx(t,e){var n=ot,r=dr(),i=e(),s=!Wr(r.memoizedState,i);if(s&&(r.memoizedState=i,Cn=!0),r=r.queue,Ky(Zx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,iu(9,Jx.bind(null,n,r,i,e),void 0,null),Mt===null)throw Error(te(349));Uo&30||Qx(n,e,i)}return i}function Qx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jx(t,e,n,r){e.value=n,e.getSnapshot=r,eS(e)&&tS(t)}function Zx(t,e,n){return n(function(){eS(e)&&tS(t)})}function eS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wr(t,n)}catch{return!0}}function tS(t){var e=ji(t,1);e!==null&&Ur(e,t,1,-1)}function v_(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:t},e.queue=t,t=t.dispatch=$I.bind(null,ot,t),[e.memoizedState,t]}function iu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nS(){return dr().memoizedState}function gh(t,e,n,r){var i=Kr();ot.flags|=t,i.memoizedState=iu(1|e,n,void 0,r===void 0?null:r)}function Wf(t,e,n,r){var i=dr();r=r===void 0?null:r;var s=void 0;if(Ct!==null){var o=Ct.memoizedState;if(s=o.destroy,r!==null&&Yy(r,o.deps)){i.memoizedState=iu(e,n,s,r);return}}ot.flags|=t,i.memoizedState=iu(1|e,n,s,r)}function __(t,e){return gh(8390656,8,t,e)}function Ky(t,e){return Wf(2048,8,t,e)}function rS(t,e){return Wf(4,2,t,e)}function iS(t,e){return Wf(4,4,t,e)}function sS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oS(t,e,n){return n=n!=null?n.concat([t]):null,Wf(4,4,sS.bind(null,e,t),n)}function Xy(){}function aS(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lS(t,e){var n=dr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cS(t,e,n){return Uo&21?(Wr(n,e)||(n=px(),ot.lanes|=n,jo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n)}function WI(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=cg.transition;cg.transition={};try{t(!1),e()}finally{Le=n,cg.transition=r}}function uS(){return dr().memoizedState}function zI(t,e,n){var r=js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dS(t))hS(e,n);else if(n=Yx(t,e,n,r),n!==null){var i=hn();Ur(n,t,r,i),fS(n,e,r)}}function $I(t,e,n){var r=js(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dS(t))hS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wr(a,o)){var l=e.interleaved;l===null?(i.next=i,Hy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Yx(t,e,i,r),n!==null&&(i=hn(),Ur(n,t,r,i),fS(n,e,r))}}function dS(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function hS(t,e){Tc=Xh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ky(t,n)}}var Qh={readContext:ur,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},GI={readContext:ur,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:__,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gh(4194308,4,sS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gh(4194308,4,t,e)},useInsertionEffect:function(t,e){return gh(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zI.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:v_,useDebugValue:Xy,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=v_(!1),e=t[0];return t=WI.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=Kr();if(Je){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),Mt===null)throw Error(te(349));Uo&30||Qx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,__(Zx.bind(null,r,s,t),[t]),r.flags|=2048,iu(9,Jx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Mt.identifierPrefix;if(Je){var n=Di,r=Ii;n=(r&~(1<<32-Br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YI={readContext:ur,useCallback:aS,useContext:ur,useEffect:Ky,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:ug,useRef:nS,useState:function(){return ug(ru)},useDebugValue:Xy,useDeferredValue:function(t){var e=dr();return cS(e,Ct.memoizedState,t)},useTransition:function(){var t=ug(ru)[0],e=dr().memoizedState;return[t,e]},useMutableSource:Kx,useSyncExternalStore:Xx,useId:uS,unstable_isNewReconciler:!1},VI={readContext:ur,useCallback:aS,useContext:ur,useEffect:Ky,useImperativeHandle:oS,useInsertionEffect:rS,useLayoutEffect:iS,useMemo:lS,useReducer:dg,useRef:nS,useState:function(){return dg(ru)},useDebugValue:Xy,useDeferredValue:function(t){var e=dr();return Ct===null?e.memoizedState=t:cS(e,Ct.memoizedState,t)},useTransition:function(){var t=dg(ru)[0],e=dr().memoizedState;return[t,e]},useMutableSource:Kx,useSyncExternalStore:Xx,useId:uS,unstable_isNewReconciler:!1};function Cr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zf={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=js(t),s=Li(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bs(t,s,i),e!==null&&(Ur(e,t,i,r),fh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=js(t),s=Li(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bs(t,s,i),e!==null&&(Ur(e,t,i,r),fh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=js(t),i=Li(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,r),e!==null&&(Ur(e,t,r,n),fh(e,t,r))}};function E_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xc(n,r)||!Xc(i,s):!0}function pS(t,e,n){var r=!1,i=zs,s=e.contextType;return typeof s=="object"&&s!==null?s=ur(s):(i=An(e)?Fo:Jt.current,r=e.contextTypes,s=(r=r!=null)?al(t,i):zs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function w_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zf.enqueueReplaceState(e,e.state,null)}function qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Wy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ur(s):(s=An(e)?Fo:Jt.current,i.context=al(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zf.enqueueReplaceState(i,i.state,null),qh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e){try{var n="",r=e;do n+=EN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Km(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function gS(t,e,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zh||(Zh=!0,s0=r),Km(t,e)},n}function mS(t,e,n){n=Li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Km(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Km(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function T_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lD.bind(null,t,e,n),e.then(t,t))}function x_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Li(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var KI=qi.ReactCurrentOwner,Cn=!1;function an(t,e,n,r){e.child=t===null?Gx(e,null,n,r):cl(e,t.child,n,r)}function C_(t,e,n,r,i){n=n.render;var s=e.ref;return Wa(e,i),r=Vy(t,e,n,r,s,i),n=qy(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(Je&&n&&My(e),e.flags|=1,an(t,e,r,i),e.child)}function k_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ib(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,yS(t,e,s,r,i)):(t=vh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xc,n(o,r)&&t.ref===e.ref)return Hi(t,e,i)}return e.flags|=1,t=Hs(s,r),t.ref=e.ref,t.return=e,e.child=t}function yS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xc(s,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Cn=!0);else return e.lanes=t.lanes,Hi(t,e,i)}return Xm(t,e,n,r,i)}function bS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ia,Hn),Hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Ia,Hn),Hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ye(Ia,Hn),Hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ye(Ia,Hn),Hn|=r;return an(t,e,i,n),e.child}function vS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xm(t,e,n,r,i){var s=An(n)?Fo:Jt.current;return s=al(e,s),Wa(e,i),n=Vy(t,e,n,r,s,i),r=qy(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(Je&&r&&My(e),e.flags|=1,an(t,e,n,i),e.child)}function A_(t,e,n,r,i){if(An(n)){var s=!0;zh(e)}else s=!1;if(Wa(e,i),e.stateNode===null)mh(t,e),pS(e,n,r),qm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ur(c):(c=An(n)?Fo:Jt.current,c=al(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&w_(e,o,r,c),vs=!1;var h=e.memoizedState;o.state=h,qh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||kn.current||vs?(typeof u=="function"&&(Vm(e,n,u,r),l=e.memoizedState),(a=vs||E_(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Cr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=An(n)?Fo:Jt.current,l=al(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&w_(e,o,r,l),vs=!1,h=e.memoizedState,o.state=h,qh(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||kn.current||vs?(typeof f=="function"&&(Vm(e,n,f,r),p=e.memoizedState),(c=vs||E_(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Qm(t,e,n,r,s,i)}function Qm(t,e,n,r,i,s){vS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&f_(e,n,!1),Hi(t,e,s);r=e.stateNode,KI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cl(e,t.child,null,s),e.child=cl(e,null,a,s)):an(t,e,a,s),e.memoizedState=r.state,i&&f_(e,n,!0),e.child}function _S(t){var e=t.stateNode;e.pendingContext?h_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h_(t,e.context,!1),zy(t,e.containerInfo)}function O_(t,e,n,r,i){return ll(),Fy(i),e.flags|=256,an(t,e,n,r),e.child}var Jm={dehydrated:null,treeContext:null,retryLane:0};function Zm(t){return{baseLanes:t,cachePool:null,transitions:null}}function ES(t,e,n){var r=e.pendingProps,i=st.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(st,i&1),t===null)return Gm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yf(o,r,0,null),t=Io(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zm(n),e.memoizedState=Jm,t):Qy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hs(a,s):(s=Io(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Zm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Jm,r}return s=t.child,t=s.sibling,r=Hs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qy(t,e){return e=Yf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&Fy(r),cl(e,t.child,null,n),t=Qy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=hg(Error(te(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yf({mode:"visible",children:r.children},i,0,null),s=Io(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cl(e,t.child,null,o),e.child.memoizedState=Zm(o),e.memoizedState=Jm,s);if(!(e.mode&1))return cd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(te(419)),r=hg(s,r,void 0),cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Cn||a){if(r=Mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ji(t,i),Ur(r,t,i,-1))}return rb(),r=hg(Error(te(421))),cd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zn=Fs(i.nextSibling),$n=e,Je=!0,Dr=null,t!==null&&(rr[ir++]=Ii,rr[ir++]=Di,rr[ir++]=Bo,Ii=t.id,Di=t.overflow,Bo=e),e=Qy(e,r.children),e.flags|=4096,e)}function R_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function fg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(an(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R_(t,n,e);else if(t.tag===19)R_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fg(e,!0,n,null,s);break;case"together":fg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),jo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QI(t,e,n){switch(e.tag){case 3:_S(e),ll();break;case 5:qx(e);break;case 1:An(e.type)&&zh(e);break;case 4:zy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(Yh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?ES(t,e,n):(Ye(st,st.current&1),t=Hi(t,e,n),t!==null?t.sibling:null);Ye(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,bS(t,e,n)}return Hi(t,e,n)}var TS,e0,xS,SS;TS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e0=function(){};xS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vo(ui.current);var s=null;switch(n){case"input":i=wm(t,i),r=wm(t,r),s=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),s=[];break;case"textarea":i=Sm(t,i),r=Sm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hh)}km(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};SS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jl(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JI(t,e,n){var r=e.pendingProps;switch(Ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return An(e.type)&&Wh(),Gt(e),null;case 3:return r=e.stateNode,ul(),Ke(kn),Ke(Jt),Gy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dr!==null&&(l0(Dr),Dr=null))),e0(t,e),Gt(e),null;case 5:$y(e);var i=vo(tu.current);if(n=e.type,t!==null&&e.stateNode!=null)xS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return Gt(e),null}if(t=vo(ui.current),ad(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ii]=e,r[Zc]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<pc.length;i++)qe(pc[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Uv(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":Hv(r,s),qe("invalid",r)}km(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&od(r.textContent,a,t),i=["children",""+a]):zc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Ju(r),jv(r,s,!0);break;case"textarea":Ju(r),Wv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ii]=e,t[Zc]=r,TS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Am(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<pc.length;i++)qe(pc[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":Uv(t,r),i=wm(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),qe("invalid",t);break;case"textarea":Hv(t,r),i=Sm(t,r),qe("invalid",t);break;default:i=r}km(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?nx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ex(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$c(t,l):typeof l=="number"&&$c(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",t):l!=null&&Ey(t,s,l,o))}switch(n){case"input":Ju(t),jv(t,r,!1);break;case"textarea":Ju(t),Wv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ws(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ba(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)SS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=vo(tu.current),vo(ui.current),ad(e)){if(r=e.stateNode,n=e.memoizedProps,r[ii]=e,(s=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ii]=e,e.stateNode=r}return Gt(e),null;case 13:if(Ke(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&zn!==null&&e.mode&1&&!(e.flags&128))zx(),ll(),e.flags|=98560,s=!1;else if(s=ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[ii]=e}else ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else Dr!==null&&(l0(Dr),Dr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?At===0&&(At=3):rb())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return ul(),e0(t,e),t===null&&Qc(e.stateNode.containerInfo),Gt(e),null;case 10:return jy(e.type._context),Gt(e),null;case 17:return An(e.type)&&Wh(),Gt(e),null;case 19:if(Ke(st),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jl(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kh(t),o!==null){for(e.flags|=128,Jl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>hl&&(e.flags|=128,r=!0,Jl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Kh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Je)return Gt(e),null}else 2*ht()-s.renderingStartTime>hl&&n!==1073741824&&(e.flags|=128,r=!0,Jl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,n=st.current,Ye(st,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return nb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Hn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function ZI(t,e){switch(Ly(e),e.tag){case 1:return An(e.type)&&Wh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ul(),Ke(kn),Ke(Jt),Gy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $y(e),null;case 13:if(Ke(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(st),null;case 4:return ul(),null;case 10:return jy(e.type._context),null;case 22:case 23:return nb(),null;case 24:return null;default:return null}}var ud=!1,qt=!1,eD=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function t0(t,e,n){try{n()}catch(r){ct(t,e,r)}}var N_=!1;function tD(t,e){if(Bm=Bh,t=Rx(),Py(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Um={focusedElem:t,selectionRange:n},Bh=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Cr(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(T){ct(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return p=N_,N_=!1,p}function xc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&t0(e,n,s)}i=i.next}while(i!==r)}}function $f(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function n0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CS(t){var e=t.alternate;e!==null&&(t.alternate=null,CS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ii],delete e[Zc],delete e[Wm],delete e[FI],delete e[BI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kS(t){return t.tag===5||t.tag===3||t.tag===4}function I_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function r0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hh));else if(r!==4&&(t=t.child,t!==null))for(r0(t,e,n),t=t.sibling;t!==null;)r0(t,e,n),t=t.sibling}function i0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(i0(t,e,n),t=t.sibling;t!==null;)i0(t,e,n),t=t.sibling}var Ut=null,Rr=!1;function is(t,e,n){for(n=n.child;n!==null;)AS(t,e,n),n=n.sibling}function AS(t,e,n){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(Lf,n)}catch{}switch(n.tag){case 5:qt||Na(n,e);case 6:var r=Ut,i=Rr;Ut=null,is(t,e,n),Ut=r,Rr=i,Ut!==null&&(Rr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(Rr?(t=Ut,n=n.stateNode,t.nodeType===8?og(t.parentNode,n):t.nodeType===1&&og(t,n),qc(t)):og(Ut,n.stateNode));break;case 4:r=Ut,i=Rr,Ut=n.stateNode.containerInfo,Rr=!0,is(t,e,n),Ut=r,Rr=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&t0(n,e,o),i=i.next}while(i!==r)}is(t,e,n);break;case 1:if(!qt&&(Na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,is(t,e,n),qt=r):is(t,e,n);break;default:is(t,e,n)}}function D_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eD),e.forEach(function(r){var i=uD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,Rr=!1;break e;case 3:Ut=a.stateNode.containerInfo,Rr=!0;break e;case 4:Ut=a.stateNode.containerInfo,Rr=!0;break e}a=a.return}if(Ut===null)throw Error(te(160));AS(s,o,i),Ut=null,Rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ct(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OS(e,t),e=e.sibling}function OS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_r(e,t),Vr(t),r&4){try{xc(3,t,t.return),$f(3,t)}catch(g){ct(t,t.return,g)}try{xc(5,t,t.return)}catch(g){ct(t,t.return,g)}}break;case 1:_r(e,t),Vr(t),r&512&&n!==null&&Na(n,n.return);break;case 5:if(_r(e,t),Vr(t),r&512&&n!==null&&Na(n,n.return),t.flags&32){var i=t.stateNode;try{$c(i,"")}catch(g){ct(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QT(i,s),Am(a,o);var c=Am(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?nx(i,d):u==="dangerouslySetInnerHTML"?ex(i,d):u==="children"?$c(i,d):Ey(i,u,d,c)}switch(a){case"input":Tm(i,s);break;case"textarea":JT(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ba(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ba(i,!!s.multiple,s.defaultValue,!0):Ba(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zc]=s}catch(g){ct(t,t.return,g)}}break;case 6:if(_r(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){ct(t,t.return,g)}}break;case 3:if(_r(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qc(e.containerInfo)}catch(g){ct(t,t.return,g)}break;case 4:_r(e,t),Vr(t);break;case 13:_r(e,t),Vr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(eb=ht())),r&4&&D_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(c=qt)||u,_r(e,t),qt=c):_r(e,t),Vr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ue=t,u=t.child;u!==null;){for(d=ue=u;ue!==null;){switch(h=ue,f=h.child,h.tag){case 0:case 11:case 14:case 15:xc(4,h,h.return);break;case 1:Na(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){ct(r,n,g)}}break;case 5:Na(h,h.return);break;case 22:if(h.memoizedState!==null){M_(d);continue}}f!==null?(f.return=h,ue=f):M_(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tx("display",o))}catch(g){ct(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ct(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_r(e,t),Vr(t),r&4&&D_(t);break;case 21:break;default:_r(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kS(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($c(i,""),r.flags&=-33);var s=I_(t);i0(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=I_(t);r0(t,a,o);break;default:throw Error(te(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nD(t,e,n){ue=t,RS(t)}function RS(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ud;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qt;a=ud;var c=qt;if(ud=o,(qt=l)&&!c)for(ue=i;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?L_(i):l!==null?(l.return=o,ue=l):L_(i);for(;s!==null;)ue=s,RS(s),s=s.sibling;ue=i,ud=a,qt=c}P_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):P_(t)}}function P_(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||$f(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&b_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&qc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}qt||e.flags&512&&n0(e)}catch(h){ct(e,e.return,h)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function M_(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function L_(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$f(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var s=e.return;try{n0(e)}catch(l){ct(e,s,l)}break;case 5:var o=e.return;try{n0(e)}catch(l){ct(e,o,l)}}}catch(l){ct(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var rD=Math.ceil,Jh=qi.ReactCurrentDispatcher,Jy=qi.ReactCurrentOwner,cr=qi.ReactCurrentBatchConfig,Ne=0,Mt=null,wt=null,Ht=0,Hn=0,Ia=Qs(0),At=0,su=null,jo=0,Gf=0,Zy=0,Sc=null,xn=null,eb=0,hl=1/0,Si=null,Zh=!1,s0=null,Us=null,dd=!1,Rs=null,ef=0,Cc=0,o0=null,yh=-1,bh=0;function hn(){return Ne&6?ht():yh!==-1?yh:yh=ht()}function js(t){return t.mode&1?Ne&2&&Ht!==0?Ht&-Ht:jI.transition!==null?(bh===0&&(bh=px()),bh):(t=Le,t!==0||(t=window.event,t=t===void 0?16:Ex(t.type)),t):1}function Ur(t,e,n,r){if(50<Cc)throw Cc=0,o0=null,Error(te(185));Ou(t,n,r),(!(Ne&2)||t!==Mt)&&(t===Mt&&(!(Ne&2)&&(Gf|=n),At===4&&Es(t,Ht)),On(t,r),n===1&&Ne===0&&!(e.mode&1)&&(hl=ht()+500,Hf&&Js()))}function On(t,e){var n=t.callbackNode;jN(t,e);var r=Fh(t,t===Mt?Ht:0);if(r===0)n!==null&&Gv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gv(n),e===1)t.tag===0?UI(F_.bind(null,t)):jx(F_.bind(null,t)),MI(function(){!(Ne&6)&&Js()}),n=null;else{switch(gx(r)){case 1:n=Cy;break;case 4:n=hx;break;case 16:n=Lh;break;case 536870912:n=fx;break;default:n=Lh}n=BS(n,NS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NS(t,e){if(yh=-1,bh=0,Ne&6)throw Error(te(327));var n=t.callbackNode;if(za()&&t.callbackNode!==n)return null;var r=Fh(t,t===Mt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tf(t,r);else{e=r;var i=Ne;Ne|=2;var s=DS();(Mt!==t||Ht!==e)&&(Si=null,hl=ht()+500,No(t,e));do try{oD();break}catch(a){IS(t,a)}while(!0);Uy(),Jh.current=s,Ne=i,wt!==null?e=0:(Mt=null,Ht=0,e=At)}if(e!==0){if(e===2&&(i=Dm(t),i!==0&&(r=i,e=a0(t,i))),e===1)throw n=su,No(t,0),Es(t,r),On(t,ht()),n;if(e===6)Es(t,r);else{if(i=t.current.alternate,!(r&30)&&!iD(i)&&(e=tf(t,r),e===2&&(s=Dm(t),s!==0&&(r=s,e=a0(t,s))),e===1))throw n=su,No(t,0),Es(t,r),On(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:co(t,xn,Si);break;case 3:if(Es(t,r),(r&130023424)===r&&(e=eb+500-ht(),10<e)){if(Fh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hm(co.bind(null,t,xn,Si),e);break}co(t,xn,Si);break;case 4:if(Es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Br(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rD(r/1960))-r,10<r){t.timeoutHandle=Hm(co.bind(null,t,xn,Si),r);break}co(t,xn,Si);break;case 5:co(t,xn,Si);break;default:throw Error(te(329))}}}return On(t,ht()),t.callbackNode===n?NS.bind(null,t):null}function a0(t,e){var n=Sc;return t.current.memoizedState.isDehydrated&&(No(t,e).flags|=256),t=tf(t,e),t!==2&&(e=xn,xn=n,e!==null&&l0(e)),t}function l0(t){xn===null?xn=t:xn.push.apply(xn,t)}function iD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Es(t,e){for(e&=~Zy,e&=~Gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Br(e),r=1<<n;t[n]=-1,e&=~r}}function F_(t){if(Ne&6)throw Error(te(327));za();var e=Fh(t,0);if(!(e&1))return On(t,ht()),null;var n=tf(t,e);if(t.tag!==0&&n===2){var r=Dm(t);r!==0&&(e=r,n=a0(t,r))}if(n===1)throw n=su,No(t,0),Es(t,e),On(t,ht()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,co(t,xn,Si),On(t,ht()),null}function tb(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(hl=ht()+500,Hf&&Js())}}function Ho(t){Rs!==null&&Rs.tag===0&&!(Ne&6)&&za();var e=Ne;Ne|=1;var n=cr.transition,r=Le;try{if(cr.transition=null,Le=1,t)return t()}finally{Le=r,cr.transition=n,Ne=e,!(Ne&6)&&Js()}}function nb(){Hn=Ia.current,Ke(Ia)}function No(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PI(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(Ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wh();break;case 3:ul(),Ke(kn),Ke(Jt),Gy();break;case 5:$y(r);break;case 4:ul();break;case 13:Ke(st);break;case 19:Ke(st);break;case 10:jy(r.type._context);break;case 22:case 23:nb()}n=n.return}if(Mt=t,wt=t=Hs(t.current,null),Ht=Hn=e,At=0,su=null,Zy=Gf=jo=0,xn=Sc=null,bo!==null){for(e=0;e<bo.length;e++)if(n=bo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bo=null}return t}function IS(t,e){do{var n=wt;try{if(Uy(),ph.current=Qh,Xh){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xh=!1}if(Uo=0,Dt=Ct=ot=null,Tc=!1,nu=0,Jy.current=null,n===null||n.return===null){At=1,su=e,wt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=x_(o);if(f!==null){f.flags&=-257,S_(f,o,a,s,e),f.mode&1&&T_(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){T_(s,c,e),rb();break e}l=Error(te(426))}}else if(Je&&a.mode&1){var v=x_(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),S_(v,o,a,s,e),Fy(dl(l,a));break e}}s=l=dl(l,a),At!==4&&(At=2),Sc===null?Sc=[s]:Sc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=gS(s,l,e);y_(s,y);break e;case 1:a=l;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Us===null||!Us.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=mS(s,a,e);y_(s,T);break e}}s=s.return}while(s!==null)}MS(n)}catch(x){e=x,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function DS(){var t=Jh.current;return Jh.current=Qh,t===null?Qh:t}function rb(){(At===0||At===3||At===2)&&(At=4),Mt===null||!(jo&268435455)&&!(Gf&268435455)||Es(Mt,Ht)}function tf(t,e){var n=Ne;Ne|=2;var r=DS();(Mt!==t||Ht!==e)&&(Si=null,No(t,e));do try{sD();break}catch(i){IS(t,i)}while(!0);if(Uy(),Ne=n,Jh.current=r,wt!==null)throw Error(te(261));return Mt=null,Ht=0,At}function sD(){for(;wt!==null;)PS(wt)}function oD(){for(;wt!==null&&!NN();)PS(wt)}function PS(t){var e=FS(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?MS(t):wt=e,Jy.current=null}function MS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZI(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,wt=null;return}}else if(n=JI(n,e,Hn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);At===0&&(At=5)}function co(t,e,n){var r=Le,i=cr.transition;try{cr.transition=null,Le=1,aD(t,e,n,r)}finally{cr.transition=i,Le=r}return null}function aD(t,e,n,r){do za();while(Rs!==null);if(Ne&6)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(HN(t,s),t===Mt&&(wt=Mt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,BS(Lh,function(){return za(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=cr.transition,cr.transition=null;var o=Le;Le=1;var a=Ne;Ne|=4,Jy.current=null,tD(t,n),OS(n,t),kI(Um),Bh=!!Bm,Um=Bm=null,t.current=n,nD(n),IN(),Ne=a,Le=o,cr.transition=s}else t.current=n;if(dd&&(dd=!1,Rs=t,ef=i),s=t.pendingLanes,s===0&&(Us=null),MN(n.stateNode),On(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zh)throw Zh=!1,t=s0,s0=null,t;return ef&1&&t.tag!==0&&za(),s=t.pendingLanes,s&1?t===o0?Cc++:(Cc=0,o0=t):Cc=0,Js(),null}function za(){if(Rs!==null){var t=gx(ef),e=cr.transition,n=Le;try{if(cr.transition=null,Le=16>t?16:t,Rs===null)var r=!1;else{if(t=Rs,Rs=null,ef=0,Ne&6)throw Error(te(331));var i=Ne;for(Ne|=4,ue=t.current;ue!==null;){var s=ue,o=s.child;if(ue.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var u=ue;switch(u.tag){case 0:case 11:case 15:xc(8,u,s)}var d=u.child;if(d!==null)d.return=u,ue=d;else for(;ue!==null;){u=ue;var h=u.sibling,f=u.return;if(CS(u),u===c){ue=null;break}if(h!==null){h.return=f,ue=h;break}ue=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ue=o;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ue=y;break e}ue=s.return}}var b=t.current;for(ue=b;ue!==null;){o=ue;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ue=_;else e:for(o=b;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$f(9,a)}}catch(x){ct(a,a.return,x)}if(a===o){ue=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ue=T;break e}ue=a.return}}if(Ne=i,Js(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(Lf,t)}catch{}r=!0}return r}finally{Le=n,cr.transition=e}}return!1}function B_(t,e,n){e=dl(n,e),e=gS(t,e,1),t=Bs(t,e,1),e=hn(),t!==null&&(Ou(t,1,e),On(t,e))}function ct(t,e,n){if(t.tag===3)B_(t,t,n);else for(;e!==null;){if(e.tag===3){B_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=dl(n,t),t=mS(e,t,1),e=Bs(e,t,1),t=hn(),e!==null&&(Ou(e,1,t),On(e,t));break}}e=e.return}}function lD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(Ht&n)===n&&(At===4||At===3&&(Ht&130023424)===Ht&&500>ht()-eb?No(t,0):Zy|=n),On(t,e)}function LS(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=hn();t=ji(t,e),t!==null&&(Ou(t,e,n),On(t,n))}function cD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),LS(t,n)}function uD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),LS(t,n)}var FS;FS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cn=!1,QI(t,e,n);Cn=!!(t.flags&131072)}else Cn=!1,Je&&e.flags&1048576&&Hx(e,Gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mh(t,e),t=e.pendingProps;var i=al(e,Jt.current);Wa(e,n),i=Vy(null,e,r,t,i,n);var s=qy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(s=!0,zh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wy(e),i.updater=zf,e.stateNode=i,i._reactInternals=e,qm(e,r,t,n),e=Qm(null,e,r,!0,s,n)):(e.tag=0,Je&&s&&My(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hD(r),t=Cr(r,t),i){case 0:e=Xm(null,e,r,t,n);break e;case 1:e=A_(null,e,r,t,n);break e;case 11:e=C_(null,e,r,t,n);break e;case 14:e=k_(null,e,r,Cr(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),Xm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),A_(t,e,r,i,n);case 3:e:{if(_S(e),t===null)throw Error(te(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vx(t,e),qh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dl(Error(te(423)),e),e=O_(t,e,r,n,i);break e}else if(r!==i){i=dl(Error(te(424)),e),e=O_(t,e,r,n,i);break e}else for(zn=Fs(e.stateNode.containerInfo.firstChild),$n=e,Je=!0,Dr=null,n=Gx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ll(),r===i){e=Hi(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return qx(e),t===null&&Gm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jm(r,i)?o=null:s!==null&&jm(r,s)&&(e.flags|=32),vS(t,e),an(t,e,o,n),e.child;case 6:return t===null&&Gm(e),null;case 13:return ES(t,e,n);case 4:return zy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cl(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),C_(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ye(Yh,r._currentValue),r._currentValue=o,s!==null)if(Wr(s.value,o)){if(s.children===i.children&&!kn.current){e=Hi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Li(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ym(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ym(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wa(e,n),i=ur(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=Cr(r,e.pendingProps),i=Cr(r.type,i),k_(t,e,r,i,n);case 15:return yS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),mh(t,e),e.tag=1,An(r)?(t=!0,zh(e)):t=!1,Wa(e,n),pS(e,r,i),qm(e,r,i,n),Qm(null,e,r,!0,t,n);case 19:return wS(t,e,n);case 22:return bS(t,e,n)}throw Error(te(156,e.tag))};function BS(t,e){return dx(t,e)}function dD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,n,r){return new dD(t,e,n,r)}function ib(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hD(t){if(typeof t=="function")return ib(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ty)return 11;if(t===xy)return 14}return 2}function Hs(t,e){var n=t.alternate;return n===null?(n=lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ib(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wa:return Io(n.children,i,s,e);case wy:o=8,i|=8;break;case bm:return t=lr(12,n,e,i|2),t.elementType=bm,t.lanes=s,t;case vm:return t=lr(13,n,e,i),t.elementType=vm,t.lanes=s,t;case _m:return t=lr(19,n,e,i),t.elementType=_m,t.lanes=s,t;case qT:return Yf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YT:o=10;break e;case VT:o=9;break e;case Ty:o=11;break e;case xy:o=14;break e;case bs:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=lr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Io(t,e,n,r){return t=lr(7,t,r,e),t.lanes=n,t}function Yf(t,e,n,r){return t=lr(22,t,r,e),t.elementType=qT,t.lanes=n,t.stateNode={isHidden:!1},t}function pg(t,e,n){return t=lr(6,t,null,e),t.lanes=n,t}function gg(t,e,n){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kp(0),this.expirationTimes=Kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sb(t,e,n,r,i,s,o,a,l){return t=new fD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wy(s),t}function pD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function US(t){if(!t)return zs;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(An(n))return Ux(t,n,e)}return e}function jS(t,e,n,r,i,s,o,a,l){return t=sb(n,r,!0,t,i,s,o,a,l),t.context=US(null),n=t.current,r=hn(),i=js(n),s=Li(r,i),s.callback=e??null,Bs(n,s,i),t.current.lanes=i,Ou(t,i,r),On(t,r),t}function Vf(t,e,n,r){var i=e.current,s=hn(),o=js(i);return n=US(n),e.context===null?e.context=n:e.pendingContext=n,e=Li(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(i,e,o),t!==null&&(Ur(t,i,o,s),fh(t,i,o)),o}function nf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ob(t,e){U_(t,e),(t=t.alternate)&&U_(t,e)}function gD(){return null}var HS=typeof reportError=="function"?reportError:function(t){console.error(t)};function ab(t){this._internalRoot=t}qf.prototype.render=ab.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Vf(t,e,null,null)};qf.prototype.unmount=ab.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ho(function(){Vf(null,t,null,null)}),e[Ui]=null}};function qf(t){this._internalRoot=t}qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=bx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&_x(t)}};function lb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j_(){}function mD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=nf(o);s.call(c)}}var o=jS(e,r,t,0,null,!1,!1,"",j_);return t._reactRootContainer=o,t[Ui]=o.current,Qc(t.nodeType===8?t.parentNode:t),Ho(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=nf(l);a.call(c)}}var l=sb(t,0,!1,null,null,!1,!1,"",j_);return t._reactRootContainer=l,t[Ui]=l.current,Qc(t.nodeType===8?t.parentNode:t),Ho(function(){Vf(e,l,n,r)}),l}function Xf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=nf(o);a.call(l)}}Vf(e,o,t,i)}else o=mD(n,e,t,i,r);return nf(o)}mx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fc(e.pendingLanes);n!==0&&(ky(e,n|1),On(e,ht()),!(Ne&6)&&(hl=ht()+500,Js()))}break;case 13:Ho(function(){var r=ji(t,1);if(r!==null){var i=hn();Ur(r,t,1,i)}}),ob(t,1)}};Ay=function(t){if(t.tag===13){var e=ji(t,134217728);if(e!==null){var n=hn();Ur(e,t,134217728,n)}ob(t,134217728)}};yx=function(t){if(t.tag===13){var e=js(t),n=ji(t,e);if(n!==null){var r=hn();Ur(n,t,e,r)}ob(t,e)}};bx=function(){return Le};vx=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Rm=function(t,e,n){switch(e){case"input":if(Tm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jf(r);if(!i)throw Error(te(90));XT(r),Tm(r,i)}}}break;case"textarea":JT(t,n);break;case"select":e=n.value,e!=null&&Ba(t,!!n.multiple,e,!1)}};sx=tb;ox=Ho;var yD={usingClientEntryPoint:!1,Events:[Nu,Ca,jf,rx,ix,tb]},Zl={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bD={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cx(t),t===null?null:t.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||gD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Lf=hd.inject(bD),ci=hd}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yD;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lb(e))throw Error(te(200));return pD(t,e,null,n)};Kn.createRoot=function(t,e){if(!lb(t))throw Error(te(299));var n=!1,r="",i=HS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sb(t,1,!1,null,null,n,!1,r,i),t[Ui]=e.current,Qc(t.nodeType===8?t.parentNode:t),new ab(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=cx(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return Ho(t)};Kn.hydrate=function(t,e,n){if(!Kf(e))throw Error(te(200));return Xf(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!lb(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=HS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jS(e,null,t,1,n??null,i,!1,s,o),t[Ui]=e.current,Qc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qf(e)};Kn.render=function(t,e,n){if(!Kf(e))throw Error(te(200));return Xf(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!Kf(t))throw Error(te(40));return t._reactRootContainer?(Ho(function(){Xf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ui]=null})}),!0):!1};Kn.unstable_batchedUpdates=tb;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kf(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Xf(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function WS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WS)}catch(t){console.error(t)}}WS(),WT.exports=Kn;var Ki=WT.exports;const zS=El(Ki);var $S,H_=Ki;$S=H_.createRoot,H_.hydrateRoot;const vD=1,_D=1e6;let mg=0;function ED(){return mg=(mg+1)%Number.MAX_SAFE_INTEGER,mg.toString()}const yg=new Map,W_=t=>{if(yg.has(t))return;const e=setTimeout(()=>{yg.delete(t),kc({type:"REMOVE_TOAST",toastId:t})},_D);yg.set(t,e)},wD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,vD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?W_(n):t.toasts.forEach(r=>{W_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_h=[];let Eh={toasts:[]};function kc(t){Eh=wD(Eh,t),_h.forEach(e=>{e(Eh)})}function TD({...t}){const e=ED(),n=i=>kc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>kc({type:"DISMISS_TOAST",toastId:e});return kc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function xD(){const[t,e]=A.useState(Eh);return A.useEffect(()=>(_h.push(e),()=>{const n=_h.indexOf(e);n>-1&&_h.splice(n,1)}),[t]),{...t,toast:TD,dismiss:n=>kc({type:"DISMISS_TOAST",toastId:n})}}function kt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function z_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function GS(...t){return e=>{let n=!1;const r=t.map(i=>{const s=z_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():z_(t[i],null)}}}}function zr(...t){return A.useCallback(GS(...t),t)}function Qf(t,e=[]){let n=[];function r(s,o){const a=A.createContext(o),l=n.length;n=[...n,o];const c=d=>{var y;const{scope:h,children:f,...p}=d,g=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=A.useMemo(()=>p,Object.values(p));return E.jsx(g.Provider,{value:v,children:f})};c.displayName=s+"Provider";function u(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,p=A.useContext(f);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,SD(i,...e)]}function SD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function c0(t){const e=CD(t),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,a=A.Children.toArray(s),l=a.find(AD);if(l){const c=l.props.children,u=a.map(d=>d===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:d);return E.jsx(e,{...o,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,u):null})}return E.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function CD(t){const e=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=RD(i),a=OD(s,i.props);return i.type!==A.Fragment&&(a.ref=r?GS(r,o):o),A.cloneElement(i,a)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YS=Symbol("radix.slottable");function kD(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=YS,e}function AD(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YS}function OD(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function RD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ND(t){const e=t+"CollectionProvider",[n,r]=Qf(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,b=oe.useRef(null),_=oe.useRef(new Map).current;return E.jsx(i,{scope:v,itemMap:_,collectionRef:b,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=c0(a),c=oe.forwardRef((g,v)=>{const{scope:y,children:b}=g,_=s(a,y),T=zr(v,_.collectionRef);return E.jsx(l,{ref:T,children:b})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=c0(u),f=oe.forwardRef((g,v)=>{const{scope:y,children:b,..._}=g,T=oe.useRef(null),x=zr(v,T),w=s(u,y);return oe.useEffect(()=>(w.itemMap.set(T,{ref:T,..._}),()=>void w.itemMap.delete(T))),E.jsx(h,{[d]:"",ref:x,children:b})});f.displayName=u;function p(g){const v=s(t+"CollectionConsumer",g);return oe.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((w,C)=>_.indexOf(w.ref.current)-_.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,r]}var ID=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pn=ID.reduce((t,e)=>{const n=c0(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function VS(t,e){t&&Ki.flushSync(()=>t.dispatchEvent(e))}function $s(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function DD(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PD="DismissableLayer",u0="dismissableLayer.update",MD="dismissableLayer.pointerDownOutside",LD="dismissableLayer.focusOutside",$_,qS=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cb=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=A.useContext(qS),[u,d]=A.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=A.useState({}),p=zr(e,C=>d(C)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=u?g.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,T=b>=y,x=BD(C=>{const I=C.target,U=[...c.branches].some(O=>O.contains(I));!T||U||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},h),w=UD(C=>{const I=C.target;[...c.branches].some(O=>O.contains(I))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},h);return DD(C=>{b===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},h),A.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),G_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=$_)}},[u,h,n,c]),A.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),G_())},[u,c]),A.useEffect(()=>{const C=()=>f({});return document.addEventListener(u0,C),()=>document.removeEventListener(u0,C)},[]),E.jsx(Pn.div,{...l,ref:p,style:{pointerEvents:_?T?"auto":"none":void 0,...t.style},onFocusCapture:kt(t.onFocusCapture,w.onFocusCapture),onBlurCapture:kt(t.onBlurCapture,w.onBlurCapture),onPointerDownCapture:kt(t.onPointerDownCapture,x.onPointerDownCapture)})});cb.displayName=PD;var FD="DismissableLayerBranch",KS=A.forwardRef((t,e)=>{const n=A.useContext(qS),r=A.useRef(null),i=zr(e,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(Pn.div,{...t,ref:i})});KS.displayName=FD;function BD(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){XS(MD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UD(t,e=globalThis==null?void 0:globalThis.document){const n=$s(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&XS(LD,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G_(){const t=new CustomEvent(u0);document.dispatchEvent(t)}function XS(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VS(i,s):i.dispatchEvent(s)}var jD=cb,HD=KS,Gs=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},WD="Portal",QS=A.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=A.useState(!1);Gs(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zS.createPortal(E.jsx(Pn.div,{...r,ref:e}),o):null});QS.displayName=WD;function zD(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var ub=t=>{const{present:e,children:n}=t,r=$D(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=zr(r.ref,GD(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};ub.displayName="Presence";function $D(t){const[e,n]=A.useState(),r=A.useRef(null),i=A.useRef(t),s=A.useRef("none"),o=t?"mounted":"unmounted",[a,l]=zD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=fd(r.current);s.current=a==="mounted"?c:"none"},[a]),Gs(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,f=fd(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Gs(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const g=fd(r.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=f=>{f.target===e&&(s.current=fd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:A.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function fd(t){return(t==null?void 0:t.animationName)||"none"}function GD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var YD=jT[" useInsertionEffect ".trim().toString()]||Gs;function VD({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=qD({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=A.useRef(t!==void 0);A.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=A.useCallback(u=>{var d;if(a){const h=KD(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function qD({defaultProp:t,onChange:e}){const[n,r]=A.useState(t),i=A.useRef(n),s=A.useRef(e);return YD(()=>{s.current=e},[e]),A.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function KD(t){return typeof t=="function"}var XD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QD="VisuallyHidden",Jf=A.forwardRef((t,e)=>E.jsx(Pn.span,{...t,ref:e,style:{...XD,...t.style}}));Jf.displayName=QD;var JD=Jf,db="ToastProvider",[hb,ZD,eP]=ND("Toast"),[JS,qQ]=Qf("Toast",[eP]),[tP,Zf]=JS(db),ZS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=A.useState(null),[c,u]=A.useState(0),d=A.useRef(!1),h=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${db}\`. Expected non-empty \`string\`.`),E.jsx(hb.Provider,{scope:e,children:E.jsx(tP,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:A.useCallback(()=>u(f=>f+1),[]),onToastRemove:A.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};ZS.displayName=db;var eC="ToastViewport",nP=["F8"],d0="toast.viewportPause",h0="toast.viewportResume",tC=A.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=nP,label:i="Notifications ({hotkey})",...s}=t,o=Zf(eC,n),a=ZD(n),l=A.useRef(null),c=A.useRef(null),u=A.useRef(null),d=A.useRef(null),h=zr(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;A.useEffect(()=>{const v=y=>{var _;r.length!==0&&r.every(T=>y[T]||y.code===T)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),A.useEffect(()=>{const v=l.current,y=d.current;if(p&&v&&y){const b=()=>{if(!o.isClosePausedRef.current){const w=new CustomEvent(d0);y.dispatchEvent(w),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const w=new CustomEvent(h0);y.dispatchEvent(w),o.isClosePausedRef.current=!1}},T=w=>{!v.contains(w.relatedTarget)&&_()},x=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",b),v.addEventListener("focusout",T),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",x),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",T),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",x),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[p,o.isClosePausedRef]);const g=A.useCallback(({tabbingDirection:v})=>{const b=a().map(_=>{const T=_.ref.current,x=[T,...gP(T)];return v==="forwards"?x:x.reverse()});return(v==="forwards"?b.reverse():b).flat()},[a]);return A.useEffect(()=>{const v=d.current;if(v){const y=b=>{var x,w,C;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const I=document.activeElement,U=b.shiftKey;if(b.target===v&&U){(x=c.current)==null||x.focus();return}const j=g({tabbingDirection:U?"backwards":"forwards"}),X=j.findIndex($=>$===I);bg(j.slice(X+1))?b.preventDefault():U?(w=c.current)==null||w.focus():(C=u.current)==null||C.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[a,g]),E.jsxs(HD,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&E.jsx(f0,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});bg(v)}}),E.jsx(hb.Slot,{scope:n,children:E.jsx(Pn.ol,{tabIndex:-1,...s,ref:h})}),p&&E.jsx(f0,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});bg(v)}})]})});tC.displayName=eC;var nC="ToastFocusProxy",f0=A.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Zf(nC,n);return E.jsx(Jf,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});f0.displayName=nC;var Du="Toast",rP="toast.swipeStart",iP="toast.swipeMove",sP="toast.swipeCancel",oP="toast.swipeEnd",rC=A.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=VD({prop:r,defaultProp:i??!0,onChange:s,caller:Du});return E.jsx(ub,{present:n||a,children:E.jsx(cP,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:$s(t.onPause),onResume:$s(t.onResume),onSwipeStart:kt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:kt(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:kt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:kt(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});rC.displayName=Du;var[aP,lP]=JS(Du,{onClose(){}}),cP=A.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...p}=t,g=Zf(Du,n),[v,y]=A.useState(null),b=zr(e,$=>y($)),_=A.useRef(null),T=A.useRef(null),x=i||g.duration,w=A.useRef(0),C=A.useRef(x),I=A.useRef(0),{onToastAdd:U,onToastRemove:O}=g,G=$s(()=>{var q;(v==null?void 0:v.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),j=A.useCallback($=>{!$||$===1/0||(window.clearTimeout(I.current),w.current=new Date().getTime(),I.current=window.setTimeout(G,$))},[G]);A.useEffect(()=>{const $=g.viewport;if($){const q=()=>{j(C.current),c==null||c()},M=()=>{const W=new Date().getTime()-w.current;C.current=C.current-W,window.clearTimeout(I.current),l==null||l()};return $.addEventListener(d0,M),$.addEventListener(h0,q),()=>{$.removeEventListener(d0,M),$.removeEventListener(h0,q)}}},[g.viewport,x,l,c,j]),A.useEffect(()=>{s&&!g.isClosePausedRef.current&&j(x)},[s,x,g.isClosePausedRef,j]),A.useEffect(()=>(U(),()=>O()),[U,O]);const X=A.useMemo(()=>v?uC(v):null,[v]);return g.viewport?E.jsxs(E.Fragment,{children:[X&&E.jsx(uP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),E.jsx(aP,{scope:n,onClose:G,children:Ki.createPortal(E.jsx(hb.ItemSlot,{scope:n,children:E.jsx(jD,{asChild:!0,onEscapeKeyDown:kt(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||G(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Pn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:kt(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:kt(t.onPointerDown,$=>{$.button===0&&(_.current={x:$.clientX,y:$.clientY})}),onPointerMove:kt(t.onPointerMove,$=>{if(!_.current)return;const q=$.clientX-_.current.x,M=$.clientY-_.current.y,W=!!T.current,D=["left","right"].includes(g.swipeDirection),H=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,S=D?H(0,q):0,ie=D?0:H(0,M),ee=$.pointerType==="touch"?10:2,N={x:S,y:ie},ae={originalEvent:$,delta:N};W?(T.current=N,pd(iP,d,ae,{discrete:!1})):Y_(N,g.swipeDirection,ee)?(T.current=N,pd(rP,u,ae,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(q)>ee||Math.abs(M)>ee)&&(_.current=null)}),onPointerUp:kt(t.onPointerUp,$=>{const q=T.current,M=$.target;if(M.hasPointerCapture($.pointerId)&&M.releasePointerCapture($.pointerId),T.current=null,_.current=null,q){const W=$.currentTarget,D={originalEvent:$,delta:q};Y_(q,g.swipeDirection,g.swipeThreshold)?pd(oP,f,D,{discrete:!0}):pd(sP,h,D,{discrete:!0}),W.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),uP=t=>{const{__scopeToast:e,children:n,...r}=t,i=Zf(Du,e),[s,o]=A.useState(!1),[a,l]=A.useState(!1);return fP(()=>o(!0)),A.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:E.jsx(QS,{asChild:!0,children:E.jsx(Jf,{...r,children:s&&E.jsxs(E.Fragment,{children:[i.label," ",n]})})})},dP="ToastTitle",iC=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(Pn.div,{...r,ref:e})});iC.displayName=dP;var hP="ToastDescription",sC=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(Pn.div,{...r,ref:e})});sC.displayName=hP;var oC="ToastAction",aC=A.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?E.jsx(cC,{altText:n,asChild:!0,children:E.jsx(fb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${oC}\`. Expected non-empty \`string\`.`),null)});aC.displayName=oC;var lC="ToastClose",fb=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=lP(lC,n);return E.jsx(cC,{asChild:!0,children:E.jsx(Pn.button,{type:"button",...r,ref:e,onClick:kt(t.onClick,i.onClose)})})});fb.displayName=lC;var cC=A.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return E.jsx(Pn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function uC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),pP(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...uC(r))}}),e}function pd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?VS(i,s):i.dispatchEvent(s)}var Y_=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function fP(t=()=>{}){const e=$s(t);Gs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function pP(t){return t.nodeType===t.ELEMENT_NODE}function gP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mP=ZS,dC=tC,hC=rC,fC=iC,pC=sC,gC=aC,mC=fb;function yC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bC(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yC(t))&&(r&&(r+=" "),r+=e);return r}const V_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,q_=bC,yP=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return q_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=V_(u)||V_(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...s,...a}[g]):{...s,...a}[g]===v})?[...c,d,h]:c},[]);return q_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>A.createElement("svg",{ref:l,...vP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vC("lucide",i),...a},[...o.map(([c,u])=>A.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(_P,{ref:s,iconNode:e,className:vC(`lucide-${bP(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Fe("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=Fe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=Fe("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=Fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Fe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Fe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Fe("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Fe("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=Fe("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Fe("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=Fe("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Fe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Fe("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Fe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=Fe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=Fe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pb="-",GP=t=>{const e=VP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(pb);return a[0]===""&&a.length!==1&&a.shift(),wC(a,e)||YP(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},wC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?wC(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(pb);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},X_=/^\[(.+)\]$/,YP=t=>{if(X_.test(t)){const e=X_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},VP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return KP(Object.entries(t.classGroups),n).forEach(([s,o])=>{g0(o,r,s,e)}),r},g0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Q_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(qP(i)){g0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{g0(o,Q_(e,s),n,r)})})},Q_=(t,e)=>{let n=t;return e.split(pb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},qP=t=>t.isThemeGetter,KP=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,XP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},TC="!",QP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let v=0;v<a.length;v++){let y=a[v];if(c===0){if(y===i&&(r||a.slice(v,v+s)===e)){l.push(a.slice(u,v)),u=v+s;continue}if(y==="/"){d=v;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(TC),p=f?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},JP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ZP=t=>({cache:XP(t.cacheSize),parseClassName:QP(t),...GP(t)}),eM=/\s+/,tM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(eM);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let p=!!f,g=r(p?h.substring(0,f):h);if(!g){if(!p){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}p=!1}const v=JP(u).join(":"),y=d?v+TC:v,b=y+g;if(s.includes(b))continue;s.push(b);const _=i(g,p);for(let T=0;T<_.length;++T){const x=_[T];s.push(y+x)}a=c+(a.length>0?" "+a:a)}return a};function nM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xC(e))&&(r&&(r+=" "),r+=n);return r}const xC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xC(t[r]))&&(n&&(n+=" "),n+=e);return n};function rM(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=ZP(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=tM(l,n);return i(l,u),u}return function(){return s(nM.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},SC=/^\[(?:([a-z-]+):)?(.+)\]$/i,iM=/^\d+\/\d+$/,sM=new Set(["px","full","screen"]),oM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wi=t=>$a(t)||sM.has(t)||iM.test(t),ss=t=>Sl(t,"length",bM),$a=t=>!!t&&!Number.isNaN(Number(t)),_g=t=>Sl(t,"number",$a),ec=t=>!!t&&Number.isInteger(Number(t)),dM=t=>t.endsWith("%")&&$a(t.slice(0,-1)),we=t=>SC.test(t),os=t=>oM.test(t),hM=new Set(["length","size","percentage"]),fM=t=>Sl(t,hM,CC),pM=t=>Sl(t,"position",CC),gM=new Set(["image","url"]),mM=t=>Sl(t,gM,_M),yM=t=>Sl(t,"",vM),tc=()=>!0,Sl=(t,e,n)=>{const r=SC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bM=t=>aM.test(t)&&!lM.test(t),CC=()=>!1,vM=t=>cM.test(t),_M=t=>uM.test(t),EM=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),i=Ve("borderColor"),s=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),c=Ve("grayscale"),u=Ve("hueRotate"),d=Ve("invert"),h=Ve("gap"),f=Ve("gradientColorStops"),p=Ve("gradientColorStopPositions"),g=Ve("inset"),v=Ve("margin"),y=Ve("opacity"),b=Ve("padding"),_=Ve("saturate"),T=Ve("scale"),x=Ve("sepia"),w=Ve("skew"),C=Ve("space"),I=Ve("translate"),U=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",we,e],j=()=>[we,e],X=()=>["",wi,ss],$=()=>["auto",$a,we],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",we],S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[$a,we];return{cacheSize:500,separator:":",theme:{colors:[tc],spacing:[wi,ss],blur:["none","",os,we],brightness:ie(),borderColor:[t],borderRadius:["none","","full",os,we],borderSpacing:j(),borderWidth:X(),contrast:ie(),grayscale:H(),hueRotate:ie(),invert:H(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[dM,ss],inset:G(),margin:G(),opacity:ie(),padding:j(),saturate:ie(),scale:ie(),sepia:H(),skew:ie(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[os]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),we]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ec,we]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",ec,we]}],"grid-cols":[{"grid-cols":[tc]}],"col-start-end":[{col:["auto",{span:["full",ec,we]},we]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[tc]}],"row-start-end":[{row:["auto",{span:[ec,we]},we]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,e]}],"min-w":[{"min-w":[we,e,"min","max","fit"]}],"max-w":[{"max-w":[we,e,"none","full","min","max","fit","prose",{screen:[os]},os]}],h:[{h:[we,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,e,"auto","min","max","fit"]}],"font-size":[{text:["base",os,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_g]}],"font-family":[{font:[tc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",$a,_g]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wi,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wi,ss]}],"underline-offset":[{"underline-offset":["auto",wi,we]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),pM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[wi,we]}],"outline-w":[{outline:[wi,ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[wi,ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",os,yM]}],"shadow-color":[{shadow:[tc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",os,we]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[ec,we]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wi,ss,_g]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wM=rM(EM);function Vo(...t){return wM(bC(t))}const TM=mP,kC=A.forwardRef(({className:t,...e},n)=>E.jsx(dC,{ref:n,className:Vo("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));kC.displayName=dC.displayName;const xM=yP("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AC=A.forwardRef(({className:t,variant:e,...n},r)=>E.jsx(hC,{ref:r,className:Vo(xM({variant:e}),t),...n}));AC.displayName=hC.displayName;const SM=A.forwardRef(({className:t,...e},n)=>E.jsx(gC,{ref:n,className:Vo("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));SM.displayName=gC.displayName;const OC=A.forwardRef(({className:t,...e},n)=>E.jsx(mC,{ref:n,className:Vo("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:E.jsx(EC,{className:"h-4 w-4"})}));OC.displayName=mC.displayName;const RC=A.forwardRef(({className:t,...e},n)=>E.jsx(fC,{ref:n,className:Vo("text-sm font-semibold",t),...e}));RC.displayName=fC.displayName;const NC=A.forwardRef(({className:t,...e},n)=>E.jsx(pC,{ref:n,className:Vo("text-sm opacity-90",t),...e}));NC.displayName=pC.displayName;function CM(){const{toasts:t}=xD();return E.jsxs(TM,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return E.jsxs(AC,{...s,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(RC,{children:n}),r&&E.jsx(NC,{children:r})]}),i,E.jsx(OC,{})]},e)}),E.jsx(kC,{})]})}var J_=["light","dark"],kM="(prefers-color-scheme: dark)",AM=A.createContext(void 0),OM={setTheme:t=>{},themes:[]},RM=()=>{var t;return(t=A.useContext(AM))!=null?t:OM};A.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?J_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,g=!1,v=!0)=>{let y=o?o[p]:p,b=g?p+"|| ''":`'${y}'`,_="";return i&&v&&!g&&J_.includes(p)&&(_+=`d.style.colorScheme = '${p}';`),n==="class"?g||y?_+=`c.add(${b})`:_+="null":y&&(_+=`d[s](n,${b})`),_},f=t?`!function(){${u}${h(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${kM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return A.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var NM=t=>{switch(t){case"success":return PM;case"info":return LM;case"warning":return MM;case"error":return FM;default:return null}},IM=Array(12).fill(0),DM=({visible:t,className:e})=>oe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},oe.createElement("div",{className:"sonner-spinner"},IM.map((n,r)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),PM=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),MM=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LM=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FM=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BM=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UM=()=>{let[t,e]=oe.useState(document.hidden);return oe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},m0=1,jM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:m0++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],oe.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(WM(c)&&!c.ok){s=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,d=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:d})}else if(n.success!==void 0){s=!1;let u=typeof n.success=="function"?await n.success(c):n.success,d=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){s=!1;let u=typeof n.error=="function"?await n.error(c):n.error,d=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||m0++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wn=new jM,HM=(t,e)=>{let n=(e==null?void 0:e.id)||m0++;return wn.addToast({title:t,...e,id:n}),n},WM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zM=HM,$M=()=>wn.toasts,GM=()=>wn.getActiveToasts(),Mr=Object.assign(zM,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:$M,getToasts:GM});function YM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}YM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gd(t){return t.label!==void 0}var VM=3,qM="32px",KM="16px",Z_=4e3,XM=356,QM=14,JM=20,ZM=200;function Er(...t){return t.filter(Boolean).join(" ")}function eL(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var tL=t=>{var e,n,r,i,s,o,a,l,c,u,d;let{invert:h,toast:f,unstyled:p,interacting:g,setHeights:v,visibleToasts:y,heights:b,index:_,toasts:T,expanded:x,removeToast:w,defaultRichColors:C,closeButton:I,style:U,cancelButtonStyle:O,actionButtonStyle:G,className:j="",descriptionClassName:X="",duration:$,position:q,gap:M,loadingIcon:W,expandByDefault:D,classNames:H,icons:S,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ee}=t,[N,ae]=oe.useState(null),[me,pe]=oe.useState(null),[ye,et]=oe.useState(!1),[tt,je]=oe.useState(!1),[Lt,Qn]=oe.useState(!1),[Ft,gr]=oe.useState(!1),[Tt,Ae]=oe.useState(!1),[tn,de]=oe.useState(0),[mn,nt]=oe.useState(0),Oe=oe.useRef(f.duration||$||Z_),Ei=oe.useRef(null),Bt=oe.useRef(null),no=_===0,ro=_+1<=y,F=f.type,V=f.dismissible!==!1,se=f.className||"",le=f.descriptionClassName||"",ge=oe.useMemo(()=>b.findIndex(ve=>ve.toastId===f.id)||0,[b,f.id]),rt=oe.useMemo(()=>{var ve;return(ve=f.closeButton)!=null?ve:I},[f.closeButton,I]),Jn=oe.useMemo(()=>f.duration||$||Z_,[f.duration,$]),nn=oe.useRef(0),Zn=oe.useRef(0),Zi=oe.useRef(0),gt=oe.useRef(null),[es,mr]=q.split("-"),Rv=oe.useMemo(()=>b.reduce((ve,Be,Xe)=>Xe>=ge?ve:ve+Be.height,0),[b,ge]),Nv=UM(),GR=f.invert||h,Wp=F==="loading";Zn.current=oe.useMemo(()=>ge*M+Rv,[ge,Rv]),oe.useEffect(()=>{Oe.current=Jn},[Jn]),oe.useEffect(()=>{et(!0)},[]),oe.useEffect(()=>{let ve=Bt.current;if(ve){let Be=ve.getBoundingClientRect().height;return nt(Be),v(Xe=>[{toastId:f.id,height:Be,position:f.position},...Xe]),()=>v(Xe=>Xe.filter(yr=>yr.toastId!==f.id))}},[v,f.id]),oe.useLayoutEffect(()=>{if(!ye)return;let ve=Bt.current,Be=ve.style.height;ve.style.height="auto";let Xe=ve.getBoundingClientRect().height;ve.style.height=Be,nt(Xe),v(yr=>yr.find(br=>br.toastId===f.id)?yr.map(br=>br.toastId===f.id?{...br,height:Xe}:br):[{toastId:f.id,height:Xe,position:f.position},...yr])},[ye,f.title,f.description,v,f.id]);let ts=oe.useCallback(()=>{je(!0),de(Zn.current),v(ve=>ve.filter(Be=>Be.toastId!==f.id)),setTimeout(()=>{w(f)},ZM)},[f,w,v,Zn]);oe.useEffect(()=>{if(f.promise&&F==="loading"||f.duration===1/0||f.type==="loading")return;let ve;return x||g||ee&&Nv?(()=>{if(Zi.current<nn.current){let Be=new Date().getTime()-nn.current;Oe.current=Oe.current-Be}Zi.current=new Date().getTime()})():Oe.current!==1/0&&(nn.current=new Date().getTime(),ve=setTimeout(()=>{var Be;(Be=f.onAutoClose)==null||Be.call(f,f),ts()},Oe.current)),()=>clearTimeout(ve)},[x,g,f,F,ee,Nv,ts]),oe.useEffect(()=>{f.delete&&ts()},[ts,f.delete]);function YR(){var ve,Be,Xe;return S!=null&&S.loading?oe.createElement("div",{className:Er(H==null?void 0:H.loader,(ve=f==null?void 0:f.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":F==="loading"},S.loading):W?oe.createElement("div",{className:Er(H==null?void 0:H.loader,(Be=f==null?void 0:f.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":F==="loading"},W):oe.createElement(DM,{className:Er(H==null?void 0:H.loader,(Xe=f==null?void 0:f.classNames)==null?void 0:Xe.loader),visible:F==="loading"})}return oe.createElement("li",{tabIndex:0,ref:Bt,className:Er(j,se,H==null?void 0:H.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[F],(n=f==null?void 0:f.classNames)==null?void 0:n[F]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:C,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":ye,"data-promise":!!f.promise,"data-swiped":Tt,"data-removed":tt,"data-visible":ro,"data-y-position":es,"data-x-position":mr,"data-index":_,"data-front":no,"data-swiping":Lt,"data-dismissible":V,"data-type":F,"data-invert":GR,"data-swipe-out":Ft,"data-swipe-direction":me,"data-expanded":!!(x||D&&ye),style:{"--index":_,"--toasts-before":_,"--z-index":T.length-_,"--offset":`${tt?tn:Zn.current}px`,"--initial-height":D?"auto":`${mn}px`,...U,...f.style},onDragEnd:()=>{Qn(!1),ae(null),gt.current=null},onPointerDown:ve=>{Wp||!V||(Ei.current=new Date,de(Zn.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(Qn(!0),gt.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Be,Xe,yr;if(Ft||!V)return;gt.current=null;let br=Number(((ve=Bt.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ns=Number(((Be=Bt.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),io=new Date().getTime()-((Xe=Ei.current)==null?void 0:Xe.getTime()),vr=N==="x"?br:ns,rs=Math.abs(vr)/io;if(Math.abs(vr)>=JM||rs>.11){de(Zn.current),(yr=f.onDismiss)==null||yr.call(f,f),pe(N==="x"?br>0?"right":"left":ns>0?"down":"up"),ts(),gr(!0),Ae(!1);return}Qn(!1),ae(null)},onPointerMove:ve=>{var Be,Xe,yr,br;if(!gt.current||!V||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;let ns=ve.clientY-gt.current.y,io=ve.clientX-gt.current.x,vr=(Xe=t.swipeDirections)!=null?Xe:eL(q);!N&&(Math.abs(io)>1||Math.abs(ns)>1)&&ae(Math.abs(io)>Math.abs(ns)?"x":"y");let rs={x:0,y:0};N==="y"?(vr.includes("top")||vr.includes("bottom"))&&(vr.includes("top")&&ns<0||vr.includes("bottom")&&ns>0)&&(rs.y=ns):N==="x"&&(vr.includes("left")||vr.includes("right"))&&(vr.includes("left")&&io<0||vr.includes("right")&&io>0)&&(rs.x=io),(Math.abs(rs.x)>0||Math.abs(rs.y)>0)&&Ae(!0),(yr=Bt.current)==null||yr.style.setProperty("--swipe-amount-x",`${rs.x}px`),(br=Bt.current)==null||br.style.setProperty("--swipe-amount-y",`${rs.y}px`)}},rt&&!f.jsx?oe.createElement("button",{"aria-label":ie,"data-disabled":Wp,"data-close-button":!0,onClick:Wp||!V?()=>{}:()=>{var ve;ts(),(ve=f.onDismiss)==null||ve.call(f,f)},className:Er(H==null?void 0:H.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=S==null?void 0:S.close)!=null?s:BM):null,f.jsx||A.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:oe.createElement(oe.Fragment,null,F||f.icon||f.promise?oe.createElement("div",{"data-icon":"",className:Er(H==null?void 0:H.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||YR():null,f.type!=="loading"?f.icon||(S==null?void 0:S[F])||NM(F):null):null,oe.createElement("div",{"data-content":"",className:Er(H==null?void 0:H.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},oe.createElement("div",{"data-title":"",className:Er(H==null?void 0:H.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?oe.createElement("div",{"data-description":"",className:Er(X,le,H==null?void 0:H.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),A.isValidElement(f.cancel)?f.cancel:f.cancel&&gd(f.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||O,onClick:ve=>{var Be,Xe;gd(f.cancel)&&V&&((Xe=(Be=f.cancel).onClick)==null||Xe.call(Be,ve),ts())},className:Er(H==null?void 0:H.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,A.isValidElement(f.action)?f.action:f.action&&gd(f.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||G,onClick:ve=>{var Be,Xe;gd(f.action)&&((Xe=(Be=f.action).onClick)==null||Xe.call(Be,ve),!ve.defaultPrevented&&ts())},className:Er(H==null?void 0:H.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function eE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nL(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?KM:qM;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var rL=A.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:p=VM,toastOptions:g,dir:v=eE(),gap:y=QM,loadingIcon:b,icons:_,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:x}=t,[w,C]=oe.useState([]),I=oe.useMemo(()=>Array.from(new Set([r].concat(w.filter(ee=>ee.position).map(ee=>ee.position)))),[w,r]),[U,O]=oe.useState([]),[G,j]=oe.useState(!1),[X,$]=oe.useState(!1),[q,M]=oe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=oe.useRef(null),D=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=oe.useRef(null),S=oe.useRef(!1),ie=oe.useCallback(ee=>{C(N=>{var ae;return(ae=N.find(me=>me.id===ee.id))!=null&&ae.delete||wn.dismiss(ee.id),N.filter(({id:me})=>me!==ee.id)})},[]);return oe.useEffect(()=>wn.subscribe(ee=>{if(ee.dismiss){C(N=>N.map(ae=>ae.id===ee.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{zS.flushSync(()=>{C(N=>{let ae=N.findIndex(me=>me.id===ee.id);return ae!==-1?[...N.slice(0,ae),{...N[ae],...ee},...N.slice(ae+1)]:[ee,...N]})})})}),[]),oe.useEffect(()=>{if(u!=="system"){M(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:N})=>{M(N?"dark":"light")})}catch{ee.addListener(({matches:ae})=>{try{M(ae?"dark":"light")}catch(me){console.error(me)}})}},[u]),oe.useEffect(()=>{w.length<=1&&j(!1)},[w]),oe.useEffect(()=>{let ee=N=>{var ae,me;i.every(pe=>N[pe]||N.code===pe)&&(j(!0),(ae=W.current)==null||ae.focus()),N.code==="Escape"&&(document.activeElement===W.current||(me=W.current)!=null&&me.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[i]),oe.useEffect(()=>{if(W.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,S.current=!1)}},[W.current]),oe.createElement("section",{ref:e,"aria-label":`${T} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((ee,N)=>{var ae;let[me,pe]=ee.split("-");return w.length?oe.createElement("ol",{key:ee,dir:v==="auto"?eE():v,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":me,"data-lifted":G&&w.length>1&&!s,"data-x-position":pe,style:{"--front-toast-height":`${((ae=U[0])==null?void 0:ae.height)||0}px`,"--width":`${XM}px`,"--gap":`${y}px`,...f,...nL(l,c)},onBlur:ye=>{S.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(S.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||S.current||(S.current=!0,H.current=ye.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{X||j(!1)},onDragEnd:()=>j(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},w.filter(ye=>!ye.position&&N===0||ye.position===ee).map((ye,et)=>{var tt,je;return oe.createElement(tL,{key:ye.id,icons:_,index:et,toast:ye,defaultRichColors:d,duration:(tt=g==null?void 0:g.duration)!=null?tt:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:p,closeButton:(je=g==null?void 0:g.closeButton)!=null?je:o,interacting:X,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ie,toasts:w.filter(Lt=>Lt.position==ye.position),heights:U.filter(Lt=>Lt.position==ye.position),setHeights:O,expandByDefault:s,gap:y,loadingIcon:b,expanded:G,pauseWhenPageIsHidden:x,swipeDirections:t.swipeDirections})})):null}))});const iL=({...t})=>{const{theme:e="system"}=RM();return E.jsx(rL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},sL=["top","right","bottom","left"],Ys=Math.min,Wn=Math.max,rf=Math.round,md=Math.floor,di=t=>({x:t,y:t}),oL={left:"right",right:"left",bottom:"top",top:"bottom"},aL={start:"end",end:"start"};function y0(t,e,n){return Wn(t,Ys(e,n))}function Wi(t,e){return typeof t=="function"?t(e):t}function zi(t){return t.split("-")[0]}function Cl(t){return t.split("-")[1]}function gb(t){return t==="x"?"y":"x"}function mb(t){return t==="y"?"height":"width"}const lL=new Set(["top","bottom"]);function oi(t){return lL.has(zi(t))?"y":"x"}function yb(t){return gb(oi(t))}function cL(t,e,n){n===void 0&&(n=!1);const r=Cl(t),i=yb(t),s=mb(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=sf(o)),[o,sf(o)]}function uL(t){const e=sf(t);return[b0(t),e,b0(e)]}function b0(t){return t.replace(/start|end/g,e=>aL[e])}const tE=["left","right"],nE=["right","left"],dL=["top","bottom"],hL=["bottom","top"];function fL(t,e,n){switch(t){case"top":case"bottom":return n?e?nE:tE:e?tE:nE;case"left":case"right":return e?dL:hL;default:return[]}}function pL(t,e,n,r){const i=Cl(t);let s=fL(zi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(b0)))),s}function sf(t){return t.replace(/left|right|bottom|top/g,e=>oL[e])}function gL(t){return{top:0,right:0,bottom:0,left:0,...t}}function IC(t){return typeof t!="number"?gL(t):{top:t,right:t,bottom:t,left:t}}function of(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function rE(t,e,n){let{reference:r,floating:i}=t;const s=oi(e),o=yb(e),a=mb(o),l=zi(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Cl(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const mL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=rE(c,r,l),h=r,f={},p=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:b,y:_,data:T,reset:x}=await y({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,d=_??d,f={...f,[v]:{...f[v],...T}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(c=x.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:u,y:d}=rE(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function ou(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Wi(e,t),p=IC(f),v=a[h?d==="floating"?"reference":"floating":d],y=of(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=of(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:_,strategy:l}):b);return{top:(y.top-x.top+p.top)/T.y,bottom:(x.bottom-y.bottom+p.bottom)/T.y,left:(y.left-x.left+p.left)/T.x,right:(x.right-y.right+p.right)/T.x}}const yL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Wi(t,e)||{};if(c==null)return{};const d=IC(u),h={x:n,y:r},f=yb(i),p=mb(f),g=await o.getDimensions(c),v=f==="y",y=v?"top":"left",b=v?"bottom":"right",_=v?"clientHeight":"clientWidth",T=s.reference[p]+s.reference[f]-h[f]-s.floating[p],x=h[f]-s.reference[f],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=w?w[_]:0;(!C||!await(o.isElement==null?void 0:o.isElement(w)))&&(C=a.floating[_]||s.floating[p]);const I=T/2-x/2,U=C/2-g[p]/2-1,O=Ys(d[y],U),G=Ys(d[b],U),j=O,X=C-g[p]-G,$=C/2-g[p]/2+I,q=y0(j,$,X),M=!l.arrow&&Cl(i)!=null&&$!==q&&s.reference[p]/2-($<j?O:G)-g[p]/2<0,W=M?$<j?$-j:$-X:0;return{[f]:h[f]+W,data:{[f]:q,centerOffset:$-q-W,...M&&{alignmentOffset:W}},reset:M}}}),bL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Wi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=zi(i),b=oi(a),_=zi(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),x=h||(_||!g?[sf(a)]:uL(a)),w=p!=="none";!h&&w&&x.push(...pL(a,g,p,T));const C=[a,...x],I=await ou(e,v),U=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&U.push(I[y]),d){const $=cL(i,o,T);U.push(I[$[0]],I[$[1]])}if(O=[...O,{placement:i,overflows:U}],!U.every($=>$<=0)){var G,j;const $=(((G=s.flip)==null?void 0:G.index)||0)+1,q=C[$];if(q&&(!(d==="alignment"?b!==oi(q):!1)||O.every(D=>D.overflows[0]>0&&oi(D.placement)===b)))return{data:{index:$,overflows:O},reset:{placement:q}};let M=(j=O.filter(W=>W.overflows[0]<=0).sort((W,D)=>W.overflows[1]-D.overflows[1])[0])==null?void 0:j.placement;if(!M)switch(f){case"bestFit":{var X;const W=(X=O.filter(D=>{if(w){const H=oi(D.placement);return H===b||H==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(H=>H>0).reduce((H,S)=>H+S,0)]).sort((D,H)=>D[1]-H[1])[0])==null?void 0:X[0];W&&(M=W);break}case"initialPlacement":M=a;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function iE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sE(t){return sL.some(e=>t[e]>=0)}const vL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Wi(t,e);switch(r){case"referenceHidden":{const s=await ou(e,{...i,elementContext:"reference"}),o=iE(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sE(o)}}}case"escaped":{const s=await ou(e,{...i,altBoundary:!0}),o=iE(s,n.floating);return{data:{escapedOffsets:o,escaped:sE(o)}}}default:return{}}}}},DC=new Set(["left","top"]);async function _L(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=zi(n),a=Cl(n),l=oi(n)==="y",c=DC.has(o)?-1:1,u=s&&l?-1:1,d=Wi(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const EL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await _L(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},wL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=Wi(t,e),c={x:n,y:r},u=await ou(e,l),d=oi(zi(i)),h=gb(d);let f=c[h],p=c[d];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=f+u[v],_=f-u[y];f=y0(b,f,_)}if(o){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=p+u[v],_=p-u[y];p=y0(b,p,_)}const g=a.fn({...e,[h]:f,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[d]:o}}}}}},TL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Wi(t,e),u={x:n,y:r},d=oi(i),h=gb(d);let f=u[h],p=u[d];const g=Wi(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=h==="y"?"height":"width",T=s.reference[h]-s.floating[_]+v.mainAxis,x=s.reference[h]+s.reference[_]-v.mainAxis;f<T?f=T:f>x&&(f=x)}if(c){var y,b;const _=h==="y"?"width":"height",T=DC.has(zi(i)),x=s.reference[d]-s.floating[_]+(T&&((y=o.offset)==null?void 0:y[d])||0)+(T?0:v.crossAxis),w=s.reference[d]+s.reference[_]+(T?0:((b=o.offset)==null?void 0:b[d])||0)-(T?v.crossAxis:0);p<x?p=x:p>w&&(p=w)}return{[h]:f,[d]:p}}}},xL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Wi(t,e),u=await ou(e,c),d=zi(i),h=Cl(i),f=oi(i)==="y",{width:p,height:g}=s.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,v=h==="end"?"top":"bottom");const b=g-u.top-u.bottom,_=p-u.left-u.right,T=Ys(g-u[v],b),x=Ys(p-u[y],_),w=!e.middlewareData.shift;let C=T,I=x;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=b),w&&!h){const O=Wn(u.left,0),G=Wn(u.right,0),j=Wn(u.top,0),X=Wn(u.bottom,0);f?I=p-2*(O!==0||G!==0?O+G:Wn(u.left,u.right)):C=g-2*(j!==0||X!==0?j+X:Wn(u.top,u.bottom))}await l({...e,availableWidth:I,availableHeight:C});const U=await o.getDimensions(a.floating);return p!==U.width||g!==U.height?{reset:{rects:!0}}:{}}}};function ep(){return typeof window<"u"}function kl(t){return PC(t)?(t.nodeName||"").toLowerCase():"#document"}function Gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gi(t){var e;return(e=(PC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PC(t){return ep()?t instanceof Node||t instanceof Gn(t).Node:!1}function $r(t){return ep()?t instanceof Element||t instanceof Gn(t).Element:!1}function fi(t){return ep()?t instanceof HTMLElement||t instanceof Gn(t).HTMLElement:!1}function oE(t){return!ep()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gn(t).ShadowRoot}const SL=new Set(["inline","contents"]);function Pu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!SL.has(i)}const CL=new Set(["table","td","th"]);function kL(t){return CL.has(kl(t))}const AL=[":popover-open",":modal"];function tp(t){return AL.some(e=>{try{return t.matches(e)}catch{return!1}})}const OL=["transform","translate","scale","rotate","perspective"],RL=["transform","translate","scale","rotate","perspective","filter"],NL=["paint","layout","strict","content"];function bb(t){const e=vb(),n=$r(t)?Gr(t):t;return OL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||RL.some(r=>(n.willChange||"").includes(r))||NL.some(r=>(n.contain||"").includes(r))}function IL(t){let e=Vs(t);for(;fi(e)&&!fl(e);){if(bb(e))return e;if(tp(e))return null;e=Vs(e)}return null}function vb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DL=new Set(["html","body","#document"]);function fl(t){return DL.has(kl(t))}function Gr(t){return Gn(t).getComputedStyle(t)}function np(t){return $r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vs(t){if(kl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||oE(t)&&t.host||gi(t);return oE(e)?e.host:e}function MC(t){const e=Vs(t);return fl(e)?t.ownerDocument?t.ownerDocument.body:t.body:fi(e)&&Pu(e)?e:MC(e)}function au(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=MC(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Gn(i);if(s){const a=v0(o);return e.concat(o,o.visualViewport||[],Pu(i)?i:[],a&&n?au(a):[])}return e.concat(i,au(i,[],n))}function v0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function LC(t){const e=Gr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=fi(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=rf(n)!==s||rf(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function _b(t){return $r(t)?t:t.contextElement}function Ga(t){const e=_b(t);if(!fi(e))return di(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=LC(e);let o=(s?rf(n.width):n.width)/r,a=(s?rf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const PL=di(0);function FC(t){const e=Gn(t);return!vb()||!e.visualViewport?PL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ML(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Gn(t)?!1:e}function Wo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=_b(t);let o=di(1);e&&(r?$r(r)&&(o=Ga(r)):o=Ga(t));const a=ML(s,n,r)?FC(s):di(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Gn(s),f=r&&$r(r)?Gn(r):r;let p=h,g=v0(p);for(;g&&r&&f!==p;){const v=Ga(g),y=g.getBoundingClientRect(),b=Gr(g),_=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,T=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=_,c+=T,p=Gn(g),g=v0(p)}}return of({width:u,height:d,x:l,y:c})}function Eb(t,e){const n=np(t).scrollLeft;return e?e.left+n:Wo(gi(t)).left+n}function BC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Eb(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function LL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=gi(r),a=e?tp(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=di(1);const u=di(0),d=fi(r);if((d||!d&&!s)&&((kl(r)!=="body"||Pu(o))&&(l=np(r)),fi(r))){const f=Wo(r);c=Ga(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const h=o&&!d&&!s?BC(o,l,!0):di(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function FL(t){return Array.from(t.getClientRects())}function BL(t){const e=gi(t),n=np(t),r=t.ownerDocument.body,i=Wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Eb(t);const a=-n.scrollTop;return Gr(r).direction==="rtl"&&(o+=Wn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function UL(t,e){const n=Gn(t),r=gi(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=vb();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const jL=new Set(["absolute","fixed"]);function HL(t,e){const n=Wo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=fi(t)?Ga(t):di(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function aE(t,e,n){let r;if(e==="viewport")r=UL(t,n);else if(e==="document")r=BL(gi(t));else if($r(e))r=HL(e,n);else{const i=FC(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return of(r)}function UC(t,e){const n=Vs(t);return n===e||!$r(n)||fl(n)?!1:Gr(n).position==="fixed"||UC(n,e)}function WL(t,e){const n=e.get(t);if(n)return n;let r=au(t,[],!1).filter(a=>$r(a)&&kl(a)!=="body"),i=null;const s=Gr(t).position==="fixed";let o=s?Vs(t):t;for(;$r(o)&&!fl(o);){const a=Gr(o),l=bb(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&jL.has(i.position)||Pu(o)&&!l&&UC(t,o))?r=r.filter(u=>u!==o):i=a,o=Vs(o)}return e.set(t,r),r}function zL(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?tp(e)?[]:WL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=aE(e,u,i);return c.top=Wn(d.top,c.top),c.right=Ys(d.right,c.right),c.bottom=Ys(d.bottom,c.bottom),c.left=Wn(d.left,c.left),c},aE(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $L(t){const{width:e,height:n}=LC(t);return{width:e,height:n}}function GL(t,e,n){const r=fi(e),i=gi(e),s=n==="fixed",o=Wo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=di(0);function c(){l.x=Eb(i)}if(r||!r&&!s)if((kl(e)!=="body"||Pu(i))&&(a=np(e)),r){const f=Wo(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?BC(i,a):di(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function Eg(t){return Gr(t).position==="static"}function lE(t,e){if(!fi(t)||Gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gi(t)===n&&(n=n.ownerDocument.body),n}function jC(t,e){const n=Gn(t);if(tp(t))return n;if(!fi(t)){let i=Vs(t);for(;i&&!fl(i);){if($r(i)&&!Eg(i))return i;i=Vs(i)}return n}let r=lE(t,e);for(;r&&kL(r)&&Eg(r);)r=lE(r,e);return r&&fl(r)&&Eg(r)&&!bb(r)?n:r||IL(t)||n}const YL=async function(t){const e=this.getOffsetParent||jC,n=this.getDimensions,r=await n(t.floating);return{reference:GL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function VL(t){return Gr(t).direction==="rtl"}const qL={convertOffsetParentRelativeRectToViewportRelativeRect:LL,getDocumentElement:gi,getClippingRect:zL,getOffsetParent:jC,getElementRects:YL,getClientRects:FL,getDimensions:$L,getScale:Ga,isElement:$r,isRTL:VL};function HC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function KL(t,e){let n=null,r;const i=gi(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const p=md(d),g=md(i.clientWidth-(u+h)),v=md(i.clientHeight-(d+f)),y=md(u),_={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Wn(0,Ys(1,l))||1};let T=!0;function x(w){const C=w[0].intersectionRatio;if(C!==l){if(!T)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!HC(c,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(x,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,_)}n.observe(t)}return o(!0),s}function XL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=_b(t),u=i||s?[...c?au(c):[],...au(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?KL(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,g=l?Wo(t):null;l&&v();function v(){const y=Wo(t);g&&!HC(g,y)&&n(),g=y,p=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const QL=EL,JL=wL,ZL=bL,e3=xL,t3=vL,cE=yL,n3=TL,r3=(t,e,n)=>{const r=new Map,i={platform:qL,...n},s={...i.platform,_c:r};return mL(t,e,{...i,platform:s})};var i3=typeof document<"u",s3=function(){},wh=i3?A.useLayoutEffect:s3;function af(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!af(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!af(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function WC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function uE(t,e){const n=WC(t);return Math.round(e*n)/n}function wg(t){const e=A.useRef(t);return wh(()=>{e.current=t}),e}function o3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=A.useState(r);af(h,r)||f(r);const[p,g]=A.useState(null),[v,y]=A.useState(null),b=A.useCallback(D=>{D!==w.current&&(w.current=D,g(D))},[]),_=A.useCallback(D=>{D!==C.current&&(C.current=D,y(D))},[]),T=s||p,x=o||v,w=A.useRef(null),C=A.useRef(null),I=A.useRef(u),U=l!=null,O=wg(l),G=wg(i),j=wg(c),X=A.useCallback(()=>{if(!w.current||!C.current)return;const D={placement:e,strategy:n,middleware:h};G.current&&(D.platform=G.current),r3(w.current,C.current,D).then(H=>{const S={...H,isPositioned:j.current!==!1};$.current&&!af(I.current,S)&&(I.current=S,Ki.flushSync(()=>{d(S)}))})},[h,e,n,G,j]);wh(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const $=A.useRef(!1);wh(()=>($.current=!0,()=>{$.current=!1}),[]),wh(()=>{if(T&&(w.current=T),x&&(C.current=x),T&&x){if(O.current)return O.current(T,x,X);X()}},[T,x,X,O,U]);const q=A.useMemo(()=>({reference:w,floating:C,setReference:b,setFloating:_}),[b,_]),M=A.useMemo(()=>({reference:T,floating:x}),[T,x]),W=A.useMemo(()=>{const D={position:n,left:0,top:0};if(!M.floating)return D;const H=uE(M.floating,u.x),S=uE(M.floating,u.y);return a?{...D,transform:"translate("+H+"px, "+S+"px)",...WC(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:S}},[n,a,M.floating,u.x,u.y]);return A.useMemo(()=>({...u,update:X,refs:q,elements:M,floatingStyles:W}),[u,X,q,M,W])}const a3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?cE({element:r.current,padding:i}).fn(n):{}:r?cE({element:r,padding:i}).fn(n):{}}}},l3=(t,e)=>({...QL(t),options:[t,e]}),c3=(t,e)=>({...JL(t),options:[t,e]}),u3=(t,e)=>({...n3(t),options:[t,e]}),d3=(t,e)=>({...ZL(t),options:[t,e]}),h3=(t,e)=>({...e3(t),options:[t,e]}),f3=(t,e)=>({...t3(t),options:[t,e]}),p3=(t,e)=>({...a3(t),options:[t,e]});var g3="Arrow",zC=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return E.jsx(Pn.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});zC.displayName=g3;var m3=zC;function y3(t){const[e,n]=A.useState(void 0);return Gs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $C="Popper",[GC,YC]=Qf($C),[XQ,VC]=GC($C),qC="PopperAnchor",KC=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=VC(qC,n),o=A.useRef(null),a=zr(e,o);return A.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:E.jsx(Pn.div,{...i,ref:a})});KC.displayName=qC;var wb="PopperContent",[b3,v3]=GC(wb),XC=A.forwardRef((t,e)=>{var ye,et,tt,je,Lt,Qn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=t,v=VC(wb,n),[y,b]=A.useState(null),_=zr(e,Ft=>b(Ft)),[T,x]=A.useState(null),w=y3(T),C=(w==null?void 0:w.width)??0,I=(w==null?void 0:w.height)??0,U=r+(s!=="center"?"-"+s:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},G=Array.isArray(c)?c:[c],j=G.length>0,X={padding:O,boundary:G.filter(E3),altBoundary:j},{refs:$,floatingStyles:q,placement:M,isPositioned:W,middlewareData:D}=o3({strategy:"fixed",placement:U,whileElementsMounted:(...Ft)=>XL(...Ft,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[l3({mainAxis:i+I,alignmentAxis:o}),l&&c3({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?u3():void 0,...X}),l&&d3({...X}),h3({...X,apply:({elements:Ft,rects:gr,availableWidth:Tt,availableHeight:Ae})=>{const{width:tn,height:de}=gr.reference,mn=Ft.floating.style;mn.setProperty("--radix-popper-available-width",`${Tt}px`),mn.setProperty("--radix-popper-available-height",`${Ae}px`),mn.setProperty("--radix-popper-anchor-width",`${tn}px`),mn.setProperty("--radix-popper-anchor-height",`${de}px`)}}),T&&p3({element:T,padding:a}),w3({arrowWidth:C,arrowHeight:I}),h&&f3({strategy:"referenceHidden",...X})]}),[H,S]=ZC(M),ie=$s(p);Gs(()=>{W&&(ie==null||ie())},[W,ie]);const ee=(ye=D.arrow)==null?void 0:ye.x,N=(et=D.arrow)==null?void 0:et.y,ae=((tt=D.arrow)==null?void 0:tt.centerOffset)!==0,[me,pe]=A.useState();return Gs(()=>{y&&pe(window.getComputedStyle(y).zIndex)},[y]),E.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(je=D.transformOrigin)==null?void 0:je.x,(Lt=D.transformOrigin)==null?void 0:Lt.y].join(" "),...((Qn=D.hide)==null?void 0:Qn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(b3,{scope:n,placedSide:H,onArrowChange:x,arrowX:ee,arrowY:N,shouldHideArrow:ae,children:E.jsx(Pn.div,{"data-side":H,"data-align":S,...g,ref:_,style:{...g.style,animation:W?void 0:"none"}})})})});XC.displayName=wb;var QC="PopperArrow",_3={top:"bottom",right:"left",bottom:"top",left:"right"},JC=A.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=v3(QC,r),o=_3[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(m3,{...i,ref:n,style:{...i.style,display:"block"}})})});JC.displayName=QC;function E3(t){return t!==null}var w3=t=>({name:"transformOrigin",options:t,fn(e){var v,y,b;const{placement:n,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=ZC(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,f=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=o?d:`${h}px`,g=`${-l}px`):c==="top"?(p=o?d:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=o?d:`${f}px`):c==="left"&&(p=`${r.floating.width+l}px`,g=o?d:`${f}px`),{data:{x:p,y:g}}}});function ZC(t){const[e,n="center"]=t.split("-");return[e,n]}var T3=KC,x3=XC,S3=JC,[rp,QQ]=Qf("Tooltip",[YC]),Tb=YC(),ek="TooltipProvider",C3=700,dE="tooltip.open",[k3,tk]=rp(ek),nk=t=>{const{__scopeTooltip:e,delayDuration:n=C3,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=A.useRef(!0),a=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),E.jsx(k3,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:A.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};nk.displayName=ek;var rk="Tooltip",[JQ,ip]=rp(rk),_0="TooltipTrigger",A3=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ip(_0,n),s=tk(_0,n),o=Tb(n),a=A.useRef(null),l=zr(e,a,i.onTriggerChange),c=A.useRef(!1),u=A.useRef(!1),d=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),E.jsx(T3,{asChild:!0,...o,children:E.jsx(Pn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:kt(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:kt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:kt(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:kt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:kt(t.onBlur,i.onClose),onClick:kt(t.onClick,i.onClose)})})});A3.displayName=_0;var O3="TooltipPortal",[ZQ,R3]=rp(O3,{forceMount:void 0}),pl="TooltipContent",ik=A.forwardRef((t,e)=>{const n=R3(pl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=ip(pl,t.__scopeTooltip);return E.jsx(ub,{present:r||o.open,children:o.disableHoverableContent?E.jsx(sk,{side:i,...s,ref:e}):E.jsx(N3,{side:i,...s,ref:e})})}),N3=A.forwardRef((t,e)=>{const n=ip(pl,t.__scopeTooltip),r=tk(pl,t.__scopeTooltip),i=A.useRef(null),s=zr(e,i),[o,a]=A.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,h=A.useCallback(()=>{a(null),d(!1)},[d]),f=A.useCallback((p,g)=>{const v=p.currentTarget,y={x:p.clientX,y:p.clientY},b=L3(y,v.getBoundingClientRect()),_=F3(y,b),T=B3(g.getBoundingClientRect()),x=j3([..._,...T]);a(x),d(!0)},[d]);return A.useEffect(()=>()=>h(),[h]),A.useEffect(()=>{if(l&&u){const p=v=>f(v,u),g=v=>f(v,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,f,h]),A.useEffect(()=>{if(o){const p=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),_=!U3(y,o);b?h():_&&(h(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,o,c,h]),E.jsx(sk,{...t,ref:s})}),[I3,D3]=rp(rk,{isInside:!1}),P3=kD("TooltipContent"),sk=A.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=ip(pl,n),c=Tb(n),{onClose:u}=l;return A.useEffect(()=>(document.addEventListener(dE,u),()=>document.removeEventListener(dE,u)),[u]),A.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),E.jsx(cb,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:E.jsxs(x3,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(P3,{children:r}),E.jsx(I3,{scope:n,isInside:!0,children:E.jsx(JD,{id:l.contentId,role:"tooltip",children:i||r})})]})})});ik.displayName=pl;var ok="TooltipArrow",M3=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Tb(n);return D3(ok,n).isInside?null:E.jsx(S3,{...i,...r,ref:e})});M3.displayName=ok;function L3(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function F3(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function B3(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function U3(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=!i)}return i}function j3(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),H3(e)}function H3(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var W3=nk,ak=ik;const z3=W3,$3=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>E.jsx(ak,{ref:r,sideOffset:e,className:Vo("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));$3.displayName=ak.displayName;var sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},op=typeof window>"u"||"Deno"in globalThis;function kr(){}function G3(t,e){return typeof t=="function"?t(e):t}function Y3(t){return typeof t=="number"&&t>=0&&t!==1/0}function V3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function E0(t,e){return typeof t=="function"?t(e):t}function q3(t,e){return typeof t=="function"?t(e):t}function hE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==xb(o,e.options))return!1}else if(!cu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function fE(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(lu(e.options.mutationKey)!==lu(s))return!1}else if(!cu(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function xb(t,e){return((e==null?void 0:e.queryKeyHashFn)||lu)(t)}function lu(t){return JSON.stringify(t,(e,n)=>w0(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>cu(t[n],e[n])):!1}function lk(t,e){if(t===e)return t;const n=pE(t)&&pE(e);if(n||w0(t)&&w0(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=lk(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function pE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function w0(t){if(!gE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!gE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gE(t){return Object.prototype.toString.call(t)==="[object Object]"}function K3(t){return new Promise(e=>{setTimeout(e,t)})}function X3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?lk(t,e):e}function Q3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function J3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Sb=Symbol();function ck(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Sb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var So,xs,Ja,ET,Z3=(ET=class extends sp{constructor(){super();De(this,So);De(this,xs);De(this,Ja);_e(this,Ja,e=>{if(!op&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Q(this,xs)||this.setEventListener(Q(this,Ja))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,xs))==null||e.call(this),_e(this,xs,void 0))}setEventListener(e){var n;_e(this,Ja,e),(n=Q(this,xs))==null||n.call(this),_e(this,xs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Q(this,So)!==e&&(_e(this,So,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Q(this,So)=="boolean"?Q(this,So):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},So=new WeakMap,xs=new WeakMap,Ja=new WeakMap,ET),uk=new Z3,Za,Ss,el,wT,eF=(wT=class extends sp{constructor(){super();De(this,Za,!0);De(this,Ss);De(this,el);_e(this,el,e=>{if(!op&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Q(this,Ss)||this.setEventListener(Q(this,el))}onUnsubscribe(){var e;this.hasListeners()||((e=Q(this,Ss))==null||e.call(this),_e(this,Ss,void 0))}setEventListener(e){var n;_e(this,el,e),(n=Q(this,Ss))==null||n.call(this),_e(this,Ss,e(this.setOnline.bind(this)))}setOnline(e){Q(this,Za)!==e&&(_e(this,Za,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Q(this,Za)}},Za=new WeakMap,Ss=new WeakMap,el=new WeakMap,wT),lf=new eF;function tF(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function nF(t){return Math.min(1e3*2**t,3e4)}function dk(t){return(t??"online")==="online"?lf.isOnline():!0}var hk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Tg(t){return t instanceof hk}function fk(t){let e=!1,n=0,r=!1,i;const s=tF(),o=g=>{var v;r||(h(new hk(g)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>uk.isFocused()&&(t.networkMode==="always"||lf.isOnline())&&t.canRun(),u=()=>dk(t.networkMode)&&t.canRun(),d=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),s.reject(g))},f=()=>new Promise(g=>{var v;i=y=>{(r||c())&&g(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var w;if(r)return;const b=t.retry??(op?0:3),_=t.retryDelay??nF,T=typeof _=="function"?_(n,y):_,x=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!x){h(y);return}n++,(w=t.onFail)==null||w.call(t,n,y),K3(T).then(()=>c()?void 0:f()).then(()=>{e?h(y):p()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():f().then(p),s)}}var rF=t=>setTimeout(t,0);function iF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=rF;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var cn=iF(),Co,TT,pk=(TT=class{constructor(){De(this,Co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y3(this.gcTime)&&_e(this,Co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(op?1/0:5*60*1e3))}clearGcTimeout(){Q(this,Co)&&(clearTimeout(Q(this,Co)),_e(this,Co,void 0))}},Co=new WeakMap,TT),tl,ko,tr,Ao,Vt,Cu,Oo,Ar,Ti,xT,sF=(xT=class extends pk{constructor(e){super();De(this,Ar);De(this,tl);De(this,ko);De(this,tr);De(this,Ao);De(this,Vt);De(this,Cu);De(this,Oo);_e(this,Oo,!1),_e(this,Cu,e.defaultOptions),this.setOptions(e.options),this.observers=[],_e(this,Ao,e.client),_e(this,tr,Q(this,Ao).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,_e(this,tl,aF(this.options)),this.state=e.state??Q(this,tl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Q(this,Vt))==null?void 0:e.promise}setOptions(e){this.options={...Q(this,Cu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Q(this,tr).remove(this)}setData(e,n){const r=X3(this.state.data,e,this.options);return zt(this,Ar,Ti).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){zt(this,Ar,Ti).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Q(this,Vt))==null?void 0:r.promise;return(i=Q(this,Vt))==null||i.cancel(e),n?n.then(kr).catch(kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Q(this,tl))}isActive(){return this.observers.some(e=>q3(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>E0(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!V3(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Q(this,Vt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Q(this,Vt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Q(this,tr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Q(this,Vt)&&(Q(this,Oo)?Q(this,Vt).cancel({revert:!0}):Q(this,Vt).cancelRetry()),this.scheduleGc()),Q(this,tr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,Ar,Ti).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Q(this,Vt))return Q(this,Vt).continueRetry(),Q(this,Vt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(_e(this,Oo,!0),r.signal)})},s=()=>{const h=ck(this.options,n),p=(()=>{const g={client:Q(this,Ao),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return _e(this,Oo,!1),this.options.persister?this.options.persister(h,p,this):h(p)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Q(this,Ao),state:this.state,fetchFn:s};return i(h),h})();(c=this.options.behavior)==null||c.onFetch(a,this),_e(this,ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&zt(this,Ar,Ti).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,p,g,v;Tg(h)&&h.silent||zt(this,Ar,Ti).call(this,{type:"error",error:h}),Tg(h)||((p=(f=Q(this,tr).config).onError)==null||p.call(f,h,this),(v=(g=Q(this,tr).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return _e(this,Vt,fk({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,g,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(p=(f=Q(this,tr).config).onSuccess)==null||p.call(f,h,this),(v=(g=Q(this,tr).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{zt(this,Ar,Ti).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{zt(this,Ar,Ti).call(this,{type:"pause"})},onContinue:()=>{zt(this,Ar,Ti).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),Q(this,Vt).start()}},tl=new WeakMap,ko=new WeakMap,tr=new WeakMap,Ao=new WeakMap,Vt=new WeakMap,Cu=new WeakMap,Oo=new WeakMap,Ar=new WeakSet,Ti=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...oF(r.data,this.options),fetchMeta:e.meta??null};case"success":return _e(this,ko,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Tg(i)&&i.revert&&Q(this,ko)?{...Q(this,ko),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),cn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Q(this,tr).notify({query:this,type:"updated",action:e})})},xT);function oF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function aF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zr,ST,lF=(ST=class extends sp{constructor(e={}){super();De(this,Zr);this.config=e,_e(this,Zr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??xb(i,n);let o=this.get(s);return o||(o=new sF({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Q(this,Zr).has(e.queryHash)||(Q(this,Zr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Q(this,Zr).get(e.queryHash);n&&(e.destroy(),n===e&&Q(this,Zr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Q(this,Zr).get(e)}getAll(){return[...Q(this,Zr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>hE(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zr=new WeakMap,ST),ei,sn,Ro,ti,ps,CT,cF=(CT=class extends pk{constructor(e){super();De(this,ti);De(this,ei);De(this,sn);De(this,Ro);this.mutationId=e.mutationId,_e(this,sn,e.mutationCache),_e(this,ei,[]),this.state=e.state||uF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Q(this,ei).includes(e)||(Q(this,ei).push(e),this.clearGcTimeout(),Q(this,sn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){_e(this,ei,Q(this,ei).filter(n=>n!==e)),this.scheduleGc(),Q(this,sn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Q(this,ei).length||(this.state.status==="pending"?this.scheduleGc():Q(this,sn).remove(this))}continue(){var e;return((e=Q(this,Ro))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,l,c,u,d,h,f,p,g,v,y,b,_,T,x,w,C,I;const n=()=>{zt(this,ti,ps).call(this,{type:"continue"})};_e(this,Ro,fk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(U,O)=>{zt(this,ti,ps).call(this,{type:"failed",failureCount:U,error:O})},onPause:()=>{zt(this,ti,ps).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Q(this,sn).canRun(this)}));const r=this.state.status==="pending",i=!Q(this,Ro).canStart();try{if(r)n();else{zt(this,ti,ps).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=Q(this,sn).config).onMutate)==null?void 0:o.call(s,e,this));const O=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));O!==this.state.context&&zt(this,ti,ps).call(this,{type:"pending",context:O,variables:e,isPaused:i})}const U=await Q(this,Ro).start();return await((u=(c=Q(this,sn).config).onSuccess)==null?void 0:u.call(c,U,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,U,e,this.state.context)),await((p=(f=Q(this,sn).config).onSettled)==null?void 0:p.call(f,U,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,U,null,e,this.state.context)),zt(this,ti,ps).call(this,{type:"success",data:U}),U}catch(U){try{throw await((b=(y=Q(this,sn).config).onError)==null?void 0:b.call(y,U,e,this.state.context,this)),await((T=(_=this.options).onError)==null?void 0:T.call(_,U,e,this.state.context)),await((w=(x=Q(this,sn).config).onSettled)==null?void 0:w.call(x,void 0,U,this.state.variables,this.state.context,this)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,void 0,U,e,this.state.context)),U}finally{zt(this,ti,ps).call(this,{type:"error",error:U})}}finally{Q(this,sn).runNext(this)}}},ei=new WeakMap,sn=new WeakMap,Ro=new WeakMap,ti=new WeakSet,ps=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),cn.batch(()=>{Q(this,ei).forEach(r=>{r.onMutationUpdate(e)}),Q(this,sn).notify({mutation:this,type:"updated",action:e})})},CT);function uF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ri,Or,ku,kT,dF=(kT=class extends sp{constructor(e={}){super();De(this,Ri);De(this,Or);De(this,ku);this.config=e,_e(this,Ri,new Set),_e(this,Or,new Map),_e(this,ku,0)}build(e,n,r){const i=new cF({mutationCache:this,mutationId:++Ku(this,ku)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Q(this,Ri).add(e);const n=yd(e);if(typeof n=="string"){const r=Q(this,Or).get(n);r?r.push(e):Q(this,Or).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Q(this,Ri).delete(e)){const n=yd(e);if(typeof n=="string"){const r=Q(this,Or).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Q(this,Or).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yd(e);if(typeof n=="string"){const r=Q(this,Or).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=yd(e);if(typeof n=="string"){const i=(r=Q(this,Or).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cn.batch(()=>{Q(this,Ri).forEach(e=>{this.notify({type:"removed",mutation:e})}),Q(this,Ri).clear(),Q(this,Or).clear()})}getAll(){return Array.from(Q(this,Ri))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fE(n,r))}findAll(e={}){return this.getAll().filter(n=>fE(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch(kr))))}},Ri=new WeakMap,Or=new WeakMap,ku=new WeakMap,kT);function yd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function mE(t){return{onFetch:(e,n)=>{var u,d,h,f,p;const r=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=ck(e.options,e.fetchOptions),b=async(_,T,x)=>{if(g)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const C=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:T,direction:x?"backward":"forward",meta:e.options.meta};return v(G),G})(),I=await y(C),{maxPages:U}=e.options,O=x?J3:Q3;return{pages:O(_.pages,I,U),pageParams:O(_.pageParams,T,U)}};if(i&&s.length){const _=i==="backward",T=_?hF:yE,x={pages:s,pageParams:o},w=T(r,x);a=await b(x,w,_)}else{const _=t??s.length;do{const T=l===0?o[0]??r.initialPageParam:yE(r,a);if(l>0&&T==null)break;a=await b(a,T),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function yE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function hF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lt,Cs,ks,nl,rl,As,il,sl,AT,fF=(AT=class{constructor(t={}){De(this,lt);De(this,Cs);De(this,ks);De(this,nl);De(this,rl);De(this,As);De(this,il);De(this,sl);_e(this,lt,t.queryCache||new lF),_e(this,Cs,t.mutationCache||new dF),_e(this,ks,t.defaultOptions||{}),_e(this,nl,new Map),_e(this,rl,new Map),_e(this,As,0)}mount(){Ku(this,As)._++,Q(this,As)===1&&(_e(this,il,uk.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,lt).onFocus())})),_e(this,sl,lf.subscribe(async t=>{t&&(await this.resumePausedMutations(),Q(this,lt).onOnline())})))}unmount(){var t,e;Ku(this,As)._--,Q(this,As)===0&&((t=Q(this,il))==null||t.call(this),_e(this,il,void 0),(e=Q(this,sl))==null||e.call(this),_e(this,sl,void 0))}isFetching(t){return Q(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Q(this,Cs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Q(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Q(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(E0(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Q(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Q(this,lt).get(r.queryHash),s=i==null?void 0:i.state.data,o=G3(e,s);if(o!==void 0)return Q(this,lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return cn.batch(()=>Q(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Q(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Q(this,lt);cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Q(this,lt);return cn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=cn.batch(()=>Q(this,lt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(kr).catch(kr)}invalidateQueries(t,e={}){return cn.batch(()=>(Q(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=cn.batch(()=>Q(this,lt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(kr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(kr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Q(this,lt).build(this,e);return n.isStaleByTime(E0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(kr).catch(kr)}fetchInfiniteQuery(t){return t.behavior=mE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(kr).catch(kr)}ensureInfiniteQueryData(t){return t.behavior=mE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lf.isOnline()?Q(this,Cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Q(this,lt)}getMutationCache(){return Q(this,Cs)}getDefaultOptions(){return Q(this,ks)}setDefaultOptions(t){_e(this,ks,t)}setQueryDefaults(t,e){Q(this,nl).set(lu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Q(this,nl).values()],n={};return e.forEach(r=>{cu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Q(this,rl).set(lu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Q(this,rl).values()],n={};return e.forEach(r=>{cu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Q(this,ks).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Sb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Q(this,ks).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Q(this,lt).clear(),Q(this,Cs).clear()}},lt=new WeakMap,Cs=new WeakMap,ks=new WeakMap,nl=new WeakMap,rl=new WeakMap,As=new WeakMap,il=new WeakMap,sl=new WeakMap,AT),pF=A.createContext(void 0),gF=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(pF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}var Ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ns||(Ns={}));const bE="popstate";function mF(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return T0("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mk(i)}return bF(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yF(){return Math.random().toString(36).substr(2,8)}function vE(t,e){return{usr:t.state,key:t.key,idx:e}}function T0(t,e,n,r){return n===void 0&&(n=null),uu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Al(e):e,{state:n,key:e&&e.key||r||yF()})}function mk(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ns.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(uu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ns.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:y})}function h(v,y){a=Ns.Push;let b=T0(g.location,v,y);c=u()+1;let _=vE(b,c),T=g.createHref(b);try{o.pushState(_,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(T)}s&&l&&l({action:a,location:g.location,delta:1})}function f(v,y){a=Ns.Replace;let b=T0(g.location,v,y);c=u();let _=vE(b,c),T=g.createHref(b);o.replaceState(_,"",T),s&&l&&l({action:a,location:g.location,delta:0})}function p(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:mk(v);return b=b.replace(/ $/,"%20"),Ot(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bE,d),l=v,()=>{i.removeEventListener(bE,d),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(v){return o.go(v)}};return g}var _E;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_E||(_E={}));function vF(t,e,n){return n===void 0&&(n="/"),_F(t,e,n,!1)}function _F(t,e,n,r){let i=typeof e=="string"?Al(e):e,s=vk(i.pathname||"/",n);if(s==null)return null;let o=yk(t);EF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=IF(s);a=RF(o[l],c,r)}return a}function yk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Do([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yk(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:AF(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bk(s.path))i(s,o,l)}),e}function bk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function EF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wF=/^:[\w-]+$/,TF=3,xF=2,SF=1,CF=10,kF=-2,EE=t=>t==="*";function AF(t,e){let n=t.split("/"),r=n.length;return n.some(EE)&&(r+=kF),e&&(r+=xF),n.filter(i=>!EE(i)).reduce((i,s)=>i+(wF.test(s)?TF:s===""?SF:CF),r)}function OF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function RF(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=wE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=wE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Do([s,d.pathname]),pathnameBase:BF(Do([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Do([s,d.pathnameBase]))}return o}function wE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function NF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function IF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Al(t):t;return{pathname:n?n.startsWith("/")?n:PF(n,e):e,search:UF(r),hash:jF(i)}}function PF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LF(t,e){let n=MF(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FF(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Al(t):(i=uu({},t),Ot(!i.pathname||!i.pathname.includes("?"),xg("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),xg("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),xg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=DF(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Do=t=>t.join("/").replace(/\/\/+/g,"/"),BF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _k=["post","put","patch","delete"];new Set(_k);const WF=["get",..._k];new Set(WF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}const Cb=A.createContext(null),zF=A.createContext(null),ap=A.createContext(null),lp=A.createContext(null),Ol=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Ek=A.createContext(null);function cp(){return A.useContext(lp)!=null}function kb(){return cp()||Ot(!1),A.useContext(lp).location}function wk(t){A.useContext(ap).static||A.useLayoutEffect(t)}function Tk(){let{isDataRoute:t}=A.useContext(Ol);return t?n4():$F()}function $F(){cp()||Ot(!1);let t=A.useContext(Cb),{basename:e,future:n,navigator:r}=A.useContext(ap),{matches:i}=A.useContext(Ol),{pathname:s}=kb(),o=JSON.stringify(LF(i,n.v7_relativeSplatPath)),a=A.useRef(!1);return wk(()=>{a.current=!0}),A.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=FF(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Do([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function GF(t,e){return YF(t,e)}function YF(t,e,n,r){cp()||Ot(!1);let{navigator:i}=A.useContext(ap),{matches:s}=A.useContext(Ol),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kb(),u;if(e){var d;let v=typeof e=="string"?Al(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Ot(!1),u=v}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=vF(t,{pathname:f}),g=QF(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Do([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Do([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?A.createElement(lp.Provider,{value:{location:du({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ns.Pop}},g):g}function VF(){let t=t4(),e=HF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const qF=A.createElement(VF,null);class KF extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Ol.Provider,{value:this.props.routeContext},A.createElement(Ek.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XF(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(Cb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Ol.Provider,{value:e},r)}function QF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ot(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||qF,l&&(c<0&&h===0?(p=!0,v=null):c===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),b=()=>{let _;return f?_=g:p?_=v:d.route.Component?_=A.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,A.createElement(XF,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?A.createElement(KF,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var xk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xk||{}),cf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cf||{});function JF(t){let e=A.useContext(Cb);return e||Ot(!1),e}function ZF(t){let e=A.useContext(zF);return e||Ot(!1),e}function e4(t){let e=A.useContext(Ol);return e||Ot(!1),e}function Sk(t){let e=e4(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function t4(){var t;let e=A.useContext(Ek),n=ZF(cf.UseRouteError),r=Sk(cf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function n4(){let{router:t}=JF(xk.UseNavigateStable),e=Sk(cf.UseNavigateStable),n=A.useRef(!1);return wk(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,du({fromRouteId:e},s)))},[t,e])}function r4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Th(t){Ot(!1)}function i4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ns.Pop,navigator:s,static:o=!1,future:a}=t;cp()&&Ot(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:s,static:o,future:du({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Al(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=A.useMemo(()=>{let v=vk(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return g==null?null:A.createElement(ap.Provider,{value:c},A.createElement(lp.Provider,{children:n,value:g}))}function s4(t){let{children:e,location:n}=t;return GF(x0(e),n)}new Promise(()=>{});function x0(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,x0(r.props.children,s));return}r.type!==Th&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=x0(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const o4="6";try{window.__reactRouterVersion=o4}catch{}const a4="startTransition",TE=jT[a4];function l4(t){let{basename:e,children:n,future:r,window:i}=t,s=A.useRef();s.current==null&&(s.current=mF({window:i,v5Compat:!0}));let o=s.current,[a,l]=A.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=A.useCallback(d=>{c&&TE?TE(()=>l(d)):l(d)},[l,c]);return A.useLayoutEffect(()=>o.listen(u),[o,u]),A.useEffect(()=>r4(r),[r]),A.createElement(i4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var xE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xE||(xE={}));var SE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SE||(SE={}));var up={exports:{}},Ck={},kk={exports:{}},c4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",u4=c4,d4=u4;function Ak(){}function Ok(){}Ok.resetWarningCache=Ak;var h4=function(){function t(r,i,s,o,a,l){if(l!==d4){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Ok,resetWarningCache:Ak};return n.PropTypes=n,n};kk.exports=h4();var Rk=kk.exports;function Nk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Nk(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function CE(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Nk(t))&&(r&&(r+=" "),r+=e);return r}const f4=Object.freeze(Object.defineProperty({__proto__:null,clsx:CE,default:CE},Symbol.toStringTag,{value:"Module"})),p4=OT(f4);var ut={},mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.dontSetMe=v4;mi.findInArray=g4;mi.int=b4;mi.isFunction=m4;mi.isNum=y4;function g4(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function m4(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function y4(t){return typeof t=="number"&&!isNaN(t)}function b4(t){return parseInt(t,10)}function v4(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))}var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.browserPrefixToKey=Dk;qo.browserPrefixToStyle=_4;qo.default=void 0;qo.getPrefix=Ik;const Sg=["Moz","Webkit","O","ms"];function Ik(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!n||e in n)return"";for(let r=0;r<Sg.length;r++)if(Dk(e,Sg[r])in n)return Sg[r];return""}function Dk(t,e){return e?"".concat(e).concat(E4(t)):t}function _4(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function E4(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}qo.default=Ik();Object.defineProperty(ut,"__esModule",{value:!0});ut.addClassName=Lk;ut.addEvent=x4;ut.addUserSelectStyles=M4;ut.createCSSTransform=N4;ut.createSVGTransform=I4;ut.getTouch=D4;ut.getTouchIdentifier=P4;ut.getTranslation=Ab;ut.innerHeight=A4;ut.innerWidth=O4;ut.matchesSelector=Mk;ut.matchesSelectorAndParentsTo=T4;ut.offsetXYFromParent=R4;ut.outerHeight=C4;ut.outerWidth=k4;ut.removeClassName=Fk;ut.removeEvent=S4;ut.removeUserSelectStyles=L4;var Yn=mi,kE=w4(qo);function Pk(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Pk=function(r){return r?n:e})(t)}function w4(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Pk(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}let bd="";function Mk(t,e){return bd||(bd=(0,Yn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Yn.isFunction)(t[n])})),(0,Yn.isFunction)(t[bd])?t[bd](e):!1}function T4(t,e,n){let r=t;do{if(Mk(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function x4(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function S4(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function C4(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Yn.int)(n.borderTopWidth),e+=(0,Yn.int)(n.borderBottomWidth),e}function k4(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Yn.int)(n.borderLeftWidth),e+=(0,Yn.int)(n.borderRightWidth),e}function A4(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Yn.int)(n.paddingTop),e-=(0,Yn.int)(n.paddingBottom),e}function O4(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Yn.int)(n.paddingLeft),e-=(0,Yn.int)(n.paddingRight),e}function R4(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(t.clientX+e.scrollLeft-i.left)/n,o=(t.clientY+e.scrollTop-i.top)/n;return{x:s,y:o}}function N4(t,e){const n=Ab(t,e,"px");return{[(0,kE.browserPrefixToKey)("transform",kE.default)]:n}}function I4(t,e){return Ab(t,e,"")}function Ab(t,e,n){let{x:r,y:i}=t,s="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+n),a="".concat(typeof e.y=="string"?e.y:e.y+n);s="translate(".concat(o,", ").concat(a,")")+s}return s}function D4(t,e){return t.targetTouches&&(0,Yn.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Yn.findInArray)(t.changedTouches,n=>e===n.identifier)}function P4(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function M4(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&Lk(t.body,"react-draggable-transparent-selection")}function L4(t){if(t)try{if(t.body&&Fk(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Lk(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function Fk(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.canDragX=U4;yi.canDragY=j4;yi.createCoreData=W4;yi.createDraggableData=z4;yi.getBoundPosition=F4;yi.getControlPosition=H4;yi.snapToGrid=B4;var Fn=mi,Da=ut;function F4(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:$4(r);const i=Ob(t);if(typeof r=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(r==="parent"?a=i.parentNode:a=s.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=a,c=o.getComputedStyle(i),u=o.getComputedStyle(l);r={left:-i.offsetLeft+(0,Fn.int)(u.paddingLeft)+(0,Fn.int)(c.marginLeft),top:-i.offsetTop+(0,Fn.int)(u.paddingTop)+(0,Fn.int)(c.marginTop),right:(0,Da.innerWidth)(l)-(0,Da.outerWidth)(i)-i.offsetLeft+(0,Fn.int)(u.paddingRight)-(0,Fn.int)(c.marginRight),bottom:(0,Da.innerHeight)(l)-(0,Da.outerHeight)(i)-i.offsetTop+(0,Fn.int)(u.paddingBottom)-(0,Fn.int)(c.marginBottom)}}return(0,Fn.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Fn.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Fn.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Fn.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function B4(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function U4(t){return t.props.axis==="both"||t.props.axis==="x"}function j4(t){return t.props.axis==="both"||t.props.axis==="y"}function H4(t,e,n){const r=typeof e=="number"?(0,Da.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=Ob(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Da.offsetXYFromParent)(r||t,s,n.props.scale)}function W4(t,e,n){const r=!(0,Fn.isNum)(t.lastX),i=Ob(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function z4(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function $4(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function Ob(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var dp={},hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.default=G4;function G4(){}Object.defineProperty(dp,"__esModule",{value:!0});dp.default=void 0;var Cg=V4(A),yn=Rb(Rk),Y4=Rb(Ki),Yt=ut,as=yi,kg=mi,nc=Rb(hp);function Rb(t){return t&&t.__esModule?t:{default:t}}function Bk(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Bk=function(r){return r?n:e})(t)}function V4(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Bk(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function rn(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=K4(t,"string");return typeof e=="symbol"?e:String(e)}function K4(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Tr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ls=Tr.mouse,fp=class extends Cg.Component{constructor(){super(...arguments),rn(this,"dragging",!1),rn(this,"lastX",NaN),rn(this,"lastY",NaN),rn(this,"touchIdentifier",null),rn(this,"mounted",!1),rn(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Yt.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,Yt.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Yt.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,as.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,l=(0,as.createCoreData)(this,o,a);(0,nc.default)("DraggableCore: handleDragStart: %j",l),(0,nc.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Yt.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Yt.addEvent)(r,ls.move,this.handleDrag),(0,Yt.addEvent)(r,ls.stop,this.handleDragStop))}),rn(this,"handleDrag",e=>{const n=(0,as.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,l=i-this.lastY;if([a,l]=(0,as.snapToGrid)(this.props.grid,a,l),!a&&!l)return;r=this.lastX+a,i=this.lastY+l}const s=(0,as.createCoreData)(this,r,i);if((0,nc.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=i}),rn(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,as.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=i-this.lastY||0;[l,c]=(0,as.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,i=this.lastY+c}const s=(0,as.createCoreData)(this,r,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Yt.removeUserSelectStyles)(a.ownerDocument),(0,nc.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,nc.default)("DraggableCore: Removing handlers"),(0,Yt.removeEvent)(a.ownerDocument,ls.move,this.handleDrag),(0,Yt.removeEvent)(a.ownerDocument,ls.stop,this.handleDragStop))}),rn(this,"onMouseDown",e=>(ls=Tr.mouse,this.handleDragStart(e))),rn(this,"onMouseUp",e=>(ls=Tr.mouse,this.handleDragStop(e))),rn(this,"onTouchStart",e=>(ls=Tr.touch,this.handleDragStart(e))),rn(this,"onTouchEnd",e=>(ls=Tr.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Yt.addEvent)(e,Tr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,Yt.removeEvent)(n,Tr.mouse.move,this.handleDrag),(0,Yt.removeEvent)(n,Tr.touch.move,this.handleDrag),(0,Yt.removeEvent)(n,Tr.mouse.stop,this.handleDragStop),(0,Yt.removeEvent)(n,Tr.touch.stop,this.handleDragStop),(0,Yt.removeEvent)(e,Tr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Yt.removeUserSelectStyles)(n)}}findDOMNode(){var e,n;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Y4.default.findDOMNode(this)}render(){return Cg.cloneElement(Cg.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};dp.default=fp;rn(fp,"displayName","DraggableCore");rn(fp,"propTypes",{allowAnyClick:yn.default.bool,children:yn.default.node.isRequired,disabled:yn.default.bool,enableUserSelectHack:yn.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:yn.default.arrayOf(yn.default.number),handle:yn.default.string,cancel:yn.default.string,nodeRef:yn.default.object,onStart:yn.default.func,onDrag:yn.default.func,onStop:yn.default.func,onMouseDown:yn.default.func,scale:yn.default.number,className:kg.dontSetMe,style:kg.dontSetMe,transform:kg.dontSetMe});rn(fp,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(A),n=u(Rk),r=u(Ki),i=u(p4),s=ut,o=yi,a=mi,l=u(dp),c=u(hp);function u(b){return b&&b.__esModule?b:{default:b}}function d(b){if(typeof WeakMap!="function")return null;var _=new WeakMap,T=new WeakMap;return(d=function(x){return x?T:_})(b)}function h(b,_){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var T=d(_);if(T&&T.has(b))return T.get(b);var x={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in b)if(C!=="default"&&Object.prototype.hasOwnProperty.call(b,C)){var I=w?Object.getOwnPropertyDescriptor(b,C):null;I&&(I.get||I.set)?Object.defineProperty(x,C,I):x[C]=b[C]}return x.default=b,T&&T.set(b,x),x}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var T=arguments[_];for(var x in T)Object.prototype.hasOwnProperty.call(T,x)&&(b[x]=T[x])}return b},f.apply(this,arguments)}function p(b,_,T){return _=g(_),_ in b?Object.defineProperty(b,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):b[_]=T,b}function g(b){var _=v(b,"string");return typeof _=="symbol"?_:String(_)}function v(b,_){if(typeof b!="object"||b===null)return b;var T=b[Symbol.toPrimitive];if(T!==void 0){var x=T.call(b,_||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}class y extends e.Component{static getDerivedStateFromProps(_,T){let{position:x}=_,{prevPropsPosition:w}=T;return x&&(!w||x.x!==w.x||x.y!==w.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:x,prevPropsPosition:w}),{x:x.x,y:x.y,prevPropsPosition:{...x}}):null}constructor(_){super(_),p(this,"onDragStart",(T,x)=>{if((0,c.default)("Draggable: onDragStart: %j",x),this.props.onStart(T,(0,o.createDraggableData)(this,x))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),p(this,"onDrag",(T,x)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",x);const w=(0,o.createDraggableData)(this,x),C={x:w.x,y:w.y,slackX:0,slackY:0};if(this.props.bounds){const{x:U,y:O}=C;C.x+=this.state.slackX,C.y+=this.state.slackY;const[G,j]=(0,o.getBoundPosition)(this,C.x,C.y);C.x=G,C.y=j,C.slackX=this.state.slackX+(U-C.x),C.slackY=this.state.slackY+(O-C.y),w.x=C.x,w.y=C.y,w.deltaX=C.x-this.state.x,w.deltaY=C.y-this.state.y}if(this.props.onDrag(T,w)===!1)return!1;this.setState(C)}),p(this,"onDragStop",(T,x)=>{if(!this.state.dragging||this.props.onStop(T,(0,o.createDraggableData)(this,x))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",x);const C={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:U,y:O}=this.props.position;C.x=U,C.y=O}this.setState(C)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,T;return(_=(T=this.props)===null||T===void 0||(T=T.nodeRef)===null||T===void 0?void 0:T.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:T,children:x,defaultPosition:w,defaultClassName:C,defaultClassNameDragging:I,defaultClassNameDragged:U,position:O,positionOffset:G,scale:j,...X}=this.props;let $={},q=null;const W=!!!O||this.state.dragging,D=O||w,H={x:(0,o.canDragX)(this)&&W?this.state.x:D.x,y:(0,o.canDragY)(this)&&W?this.state.y:D.y};this.state.isElementSVG?q=(0,s.createSVGTransform)(H,G):$=(0,s.createCSSTransform)(H,G);const S=(0,i.default)(x.props.className||"",C,{[I]:this.state.dragging,[U]:this.state.dragged});return e.createElement(l.default,f({},X,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(x),{className:S,style:{...x.props.style,...$},transform:q}))}}t.default=y,p(y,"displayName","Draggable"),p(y,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),p(y,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ck);const{default:Uk,DraggableCore:X4}=Ck;up.exports=Uk;up.exports.default=Uk;up.exports.DraggableCore=X4;var Q4=up.exports;const J4=El(Q4);var mt=function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mt.apply(this,arguments)},AE={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},OE={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},vd={width:"20px",height:"20px",position:"absolute",zIndex:1},Z4={top:mt(mt({},AE),{top:"-5px"}),right:mt(mt({},OE),{left:void 0,right:"-5px"}),bottom:mt(mt({},AE),{top:void 0,bottom:"-5px"}),left:mt(mt({},OE),{left:"-5px"}),topRight:mt(mt({},vd),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:mt(mt({},vd),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:mt(mt({},vd),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:mt(mt({},vd),{left:"-10px",top:"-10px",cursor:"nw-resize"})},e6=A.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,i=t.replaceStyles,s=t.className,o=A.useCallback(function(c){e(c,n)},[e,n]),a=A.useCallback(function(c){e(c,n)},[e,n]),l=A.useMemo(function(){return mt(mt({position:"absolute",userSelect:"none"},Z4[n]),i??{})},[i,n]);return E.jsx("div",{className:s||void 0,style:l,onMouseDown:o,onTouchStart:a,children:r})}),t6=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=function(){return Xr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xr.apply(this,arguments)},n6={width:"auto",height:"auto"},_d=function(t,e,n){return Math.max(Math.min(t,n),e)},RE=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},ra=function(t,e){return new RegExp(t,"i").test(e)},Ed=function(t){return!!(t.touches&&t.touches.length)},r6=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},NE=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(s,o,a){return Math.abs(o-t)<Math.abs(e[s]-t)?a:s},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},Ag=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},wd=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},i6=function(t,e,n,r,i,s,o){return r=wd(r,t.width,e,n),i=wd(i,t.height,e,n),s=wd(s,t.width,e,n),o=wd(o,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof o>"u"?void 0:Number(o)}},s6=function(t){return Array.isArray(t)?t:[t,t]},o6=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],IE="__resizable_base__",a6=function(t){t6(e,t);function e(n){var r,i,s,o,a=t.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var c=a.window.document.createElement("div");return c.style.width="100%",c.style.height="100%",c.style.position="absolute",c.style.transform="scale(0, 0)",c.style.left="0",c.style.flex="0 0 100%",c.classList?c.classList.add(IE):c.className+=IE,l.appendChild(c),c},a.removeBase=function(l){var c=a.parentNode;c&&c.removeChild(l)},a.state={isResizing:!1,width:(i=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(o=(s=a.propsSize)===null||s===void 0?void 0:s.height)!==null&&o!==void 0?o:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||n6},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,o=this.resizable.style.position;o!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=o}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(a){var l;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((l=n.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var c=n.getParentSize(),u=Number(n.state[a].toString().replace("px","")),d=u/c[a]*100;return"".concat(d,"%")}return Ag(n.state[a])},s=r&&typeof r.width<"u"&&!this.state.isResizing?Ag(r.width):i("width"),o=r&&typeof r.height<"u"&&!this.state.isResizing?Ag(r.height):i("height");return{width:s,height:o}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,s=this.state.direction,o=i&&ra("left",s),a=i&&ra("top",s),l,c;if(this.props.bounds==="parent"){var u=this.parentNode;u&&(l=o?this.resizableRight-this.parentLeft:u.offsetWidth+(this.parentLeft-this.resizableLeft),c=a?this.resizableBottom-this.parentTop:u.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,c=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),c=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(n=n&&n<l?n:l),c&&Number.isFinite(c)&&(r=r&&r<c?r:c),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,s=s6(this.props.resizeRatio||1),o=s[0],a=s[1],l=this.state,c=l.direction,u=l.original,d=this.props,h=d.lockAspectRatio,f=d.lockAspectRatioExtraHeight,p=d.lockAspectRatioExtraWidth,g=u.width,v=u.height,y=f||0,b=p||0;return ra("right",c)&&(g=u.width+(n-u.x)*o/i,h&&(v=(g-b)/this.ratio+y)),ra("left",c)&&(g=u.width-(n-u.x)*o/i,h&&(v=(g-b)/this.ratio+y)),ra("bottom",c)&&(v=u.height+(r-u.y)*a/i,h&&(g=(v-y)*this.ratio+b)),ra("top",c)&&(v=u.height-(r-u.y)*a/i,h&&(g=(v-y)*this.ratio+b)),{newWidth:g,newHeight:v}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,s){var o=this.props,a=o.lockAspectRatio,l=o.lockAspectRatioExtraHeight,c=o.lockAspectRatioExtraWidth,u=typeof s.width>"u"?10:s.width,d=typeof i.width>"u"||i.width<0?n:i.width,h=typeof s.height>"u"?10:s.height,f=typeof i.height>"u"||i.height<0?r:i.height,p=l||0,g=c||0;if(a){var v=(h-p)*this.ratio+g,y=(f-p)*this.ratio+g,b=(u-g)/this.ratio+p,_=(d-g)/this.ratio+p,T=Math.max(u,v),x=Math.min(d,y),w=Math.max(h,b),C=Math.min(f,_);n=_d(n,T,x),r=_d(r,w,C)}else n=_d(n,u,d),r=_d(r,h,f);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*n,this.parentTop=i.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*n,this.targetTop=s.top*n}if(this.resizable){var o=this.resizable.getBoundingClientRect(),a=o.left,l=o.top,c=o.right,u=o.bottom;this.resizableLeft=a*n,this.resizableRight=c*n,this.resizableTop=l*n,this.resizableBottom=u*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,s=0;if(n.nativeEvent&&r6(n.nativeEvent)?(i=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&Ed(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var o=this.props.onResizeStart(n,r,this.resizable);if(o===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var c=this.parentNode;if(c){var u=this.window.getComputedStyle(c).flexDirection;this.flexDir=u.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Xr(Xr({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(d)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Ed(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,o=i.maxHeight,a=i.minWidth,l=i.minHeight,c=Ed(n)?n.touches[0].clientX:n.clientX,u=Ed(n)?n.touches[0].clientY:n.clientY,d=this.state,h=d.direction,f=d.original,p=d.width,g=d.height,v=this.getParentSize(),y=i6(v,this.window.innerWidth,this.window.innerHeight,s,o,a,l);s=y.maxWidth,o=y.maxHeight,a=y.minWidth,l=y.minHeight;var b=this.calculateNewSizeFromDirection(c,u),_=b.newHeight,T=b.newWidth,x=this.calculateNewMaxFromBoundary(s,o);this.props.snap&&this.props.snap.x&&(T=NE(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=NE(_,this.props.snap.y,this.props.snapGap));var w=this.calculateNewSizeFromAspectRatio(T,_,{width:x.maxWidth,height:x.maxHeight},{width:a,height:l});if(T=w.newWidth,_=w.newHeight,this.props.grid){var C=RE(T,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),I=RE(_,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),U=this.props.snapGap||0,O=U===0||Math.abs(C-T)<=U?C:T,G=U===0||Math.abs(I-_)<=U?I:_;T=O,_=G}var j={width:T-f.width,height:_-f.height};if(this.delta=j,p&&typeof p=="string"){if(p.endsWith("%")){var X=T/v.width*100;T="".concat(X,"%")}else if(p.endsWith("vw")){var $=T/this.window.innerWidth*100;T="".concat($,"vw")}else if(p.endsWith("vh")){var q=T/this.window.innerHeight*100;T="".concat(q,"vh")}}if(g&&typeof g=="string"){if(g.endsWith("%")){var X=_/v.height*100;_="".concat(X,"%")}else if(g.endsWith("vw")){var $=_/this.window.innerWidth*100;_="".concat($,"vw")}else if(g.endsWith("vh")){var q=_/this.window.innerHeight*100;_="".concat(q,"vh")}}var M={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(_,"height")};this.flexDir==="row"?M.flexBasis=M.width:this.flexDir==="column"&&(M.flexBasis=M.height);var W=this.state.width!==M.width,D=this.state.height!==M.height,H=this.state.flexBasis!==M.flexBasis,S=W||D||H;S&&Ki.flushSync(function(){r.setState(M)}),this.props.onResize&&S&&this.props.onResize(n,h,this.resizable,j)}},e.prototype.onMouseUp=function(n){var r,i,s=this.state,o=s.isResizing,a=s.direction;s.original,!(!o||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Xr(Xr({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,i;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(i=n.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,s=r.handleStyles,o=r.handleClasses,a=r.handleWrapperStyle,l=r.handleWrapperClass,c=r.handleComponent;if(!i)return null;var u=Object.keys(i).map(function(d){return i[d]!==!1?E.jsx(e6,{direction:d,onResizeStart:n.onResizeStart,replaceStyles:s&&s[d],className:o&&o[d],children:c&&c[d]?c[d]:null},d):null});return E.jsx("div",{className:l,style:a,children:u})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(o,a){return o6.indexOf(a)!==-1||(o[a]=n.props[a]),o},{}),i=Xr(Xr(Xr({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return E.jsxs(s,Xr({style:i,className:this.props.className},r,{ref:function(o){o&&(n.resizable=o)},children:[this.state.isResizing&&E.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(A.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var S0=function(t,e){return S0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},S0(t,e)};function l6(t,e){S0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xt=function(){return xt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xt.apply(this,arguments)};function c6(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var u6={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},d6=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},h6=function(t){l6(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,i=n.top,s=this.getDraggablePosition(),o=s.x,a=s.y;this.draggable.setState({x:o-r,y:a-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,i=n.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var s=this.getParent(),o=this.props.scale,a;if(this.props.bounds==="parent")a=s;else if(this.props.bounds==="body"){var l=s.getBoundingClientRect(),c=l.left,u=l.top,d=document.body.getBoundingClientRect(),h=-(c-s.offsetLeft*o-d.left)/o,f=-(u-s.offsetTop*o-d.top)/o,p=(document.body.offsetWidth-this.resizable.size.width*o)/o+h,g=(document.body.offsetHeight-this.resizable.size.height*o)/o+f;return this.setState({bounds:{top:f,right:p,bottom:g,left:h}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var v=s.getBoundingClientRect(),y=v.left,b=v.top,_=-(y-s.offsetLeft*o)/o,T=-(b-s.offsetTop*o)/o,p=(window.innerWidth-this.resizable.size.width*o)/o+_,g=(window.innerHeight-this.resizable.size.height*o)/o+T;return this.setState({bounds:{top:T,right:p,bottom:g,left:_}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(s instanceof HTMLElement))){var x=a.getBoundingClientRect(),w=x.left,C=x.top,I=s.getBoundingClientRect(),U=I.left,O=I.top,G=(w-U)/o,j=C-O;if(this.resizable){this.updateOffsetFromParent();var X=this.offsetFromParent;this.setState({bounds:{top:j-X.top,right:G+(a.offsetWidth-this.resizable.size.width)-X.left/o,bottom:j+(a.offsetHeight-this.resizable.size.height)-X.top,left:G-X.left/o}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,xt(xt({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDrag(n,xt(xt({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,xt(xt({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,xt(xt({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,xt(xt({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,xt(xt({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,i){n.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,o=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+o.left,y:a.y+o.top},this.originalPosition=a,this.props.bounds){var l=this.getParent(),c=void 0;this.props.bounds==="parent"?c=l:this.props.bounds==="body"?c=document.body:this.props.bounds==="window"?c=window:typeof this.props.bounds=="string"?c=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(c=this.props.bounds);var u=this.getSelfElement();if(u instanceof Element&&(c instanceof HTMLElement||c===window)&&l instanceof HTMLElement){var d=this.getMaxSizesFromProps(),h=d.maxWidth,f=d.maxHeight,p=this.getParentSize();if(h&&typeof h=="string")if(h.endsWith("%")){var g=Number(h.replace("%",""))/100;h=p.width*g}else h.endsWith("px")&&(h=Number(h.replace("px","")));if(f&&typeof f=="string")if(f.endsWith("%")){var g=Number(f.replace("%",""))/100;f=p.height*g}else f.endsWith("px")&&(f=Number(f.replace("px","")));var v=u.getBoundingClientRect(),y=v.left,b=v.top,_=this.props.bounds==="window"?{left:0,top:0}:c.getBoundingClientRect(),T=_.left,x=_.top,w=this.getOffsetWidth(c),C=this.getOffsetHeight(c),I=r.toLowerCase().endsWith("left"),U=r.toLowerCase().endsWith("right"),O=r.startsWith("top"),G=r.startsWith("bottom");if((I||O)&&this.resizable){var j=(y-T)/s+this.resizable.size.width;this.setState({maxWidth:j>Number(h)?h:j})}if(U||this.props.lockAspectRatio&&!I&&!O){var j=w+(T-y)/s;this.setState({maxWidth:j>Number(h)?h:j})}if((O||I)&&this.resizable){var j=(b-x)/s+this.resizable.size.height;this.setState({maxHeight:j>Number(f)?f:j})}if(G||this.props.lockAspectRatio&&!O&&!I){var j=C+(x-b)/s;this.setState({maxHeight:j>Number(f)?f:j})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,i)},e.prototype.onResize=function(n,r,i,s){var o=this,a={x:this.originalPosition.x,y:this.originalPosition.y},l=-s.width,c=-s.height,u=["top","left","topLeft","bottomLeft","topRight"];u.includes(r)&&(r==="bottomLeft"?a.x+=l:(r==="topRight"||(a.x+=l),a.y+=c));var d=this.draggable.state;(a.x!==d.x||a.y!==d.y)&&Ki.flushSync(function(){o.draggable.setState(a)}),this.updateOffsetFromParent();var h=this.offsetFromParent,f=this.getDraggablePosition().x+h.left,p=this.getDraggablePosition().y+h.top;this.resizingPosition={x:f,y:p},this.props.onResize&&this.props.onResize(n,r,i,s,{x:f,y:p})},e.prototype.onResizeStop=function(n,r,i,s){this.setState({resizing:!1});var o=this.getMaxSizesFromProps(),a=o.maxWidth,l=o.maxHeight;this.setState({maxWidth:a,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(n,r,i,s,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var s=r.getBoundingClientRect(),o=s.left,a=s.top,l=i.getBoundingClientRect(),c=this.getDraggablePosition(),u=r.scrollLeft,d=r.scrollTop;this.offsetFromParent={left:l.left-o+u-c.x*n,top:l.top-a+d-c.y*n}},e.prototype.render=function(){var n=this,r=this.props,i=r.disableDragging,s=r.style,o=r.dragHandleClassName,a=r.position,l=r.onMouseDown,c=r.onMouseUp,u=r.dragAxis,d=r.dragGrid,h=r.bounds,f=r.enableUserSelectHack,p=r.cancel,g=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var v=r.resizeHandleStyles,y=r.resizeHandleClasses,b=r.resizeHandleComponent,_=r.enableResizing,T=r.resizeGrid,x=r.resizeHandleWrapperClass,w=r.resizeHandleWrapperStyle,C=r.scale,I=r.allowAnyClick,U=r.dragPositionOffset,O=c6(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),G=this.props.default?xt({},this.props.default):void 0;delete O.default;var j=i||o?{cursor:"auto"}:{cursor:"move"},X=xt(xt(xt({},u6),j),s),$=this.offsetFromParent,q=$.left,M=$.top,W;a&&(W={x:a.x-q,y:a.y-M});var D=this.state.resizing?void 0:W,H=this.state.resizing?"both":u;return A.createElement(J4,{ref:function(S){S&&(n.draggable=S)},handle:o?".".concat(o):void 0,defaultPosition:G,onMouseDown:l,onMouseUp:c,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:H,disabled:i,grid:d,bounds:h?this.state.bounds:void 0,position:D,enableUserSelectHack:f,cancel:p,scale:C,allowAnyClick:I,nodeRef:this.resizableElement,positionOffset:U},A.createElement(a6,xt({},O,{ref:function(S){S&&(n.resizable=S,n.resizableElement.current=S.resizable)},defaultSize:G,size:this.props.size,enable:typeof _=="boolean"?d6(_):_,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:X,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:T,handleWrapperClass:x,handleWrapperStyle:w,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:v,handleClasses:y,handleComponent:b,scale:this.props.scale}),g))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(A.PureComponent);const cs=({title:t,children:e,onClose:n,defaultPosition:r={x:100,y:100},width:i="w-96",height:s="h-auto",icon:o,zIndex:a=10,onFocus:l,isMinimized:c,onMinimize:u})=>{const[d,h]=A.useState(!1),[f,p]=A.useState(!1),g=c!==void 0?c:d;A.useEffect(()=>{const b=()=>{p(window.innerWidth<768)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const v=()=>{const b=!g;u?u(b):h(b)};if(g)return null;const y=E.jsxs("div",{className:"win95-border bg-card flex flex-col shadow-lg h-full",children:[E.jsxs("div",{className:"window-title win95-title flex items-center justify-between px-1 py-1 cursor-move select-none",children:[E.jsxs("div",{className:"flex items-center gap-2 text-primary-foreground font-bold text-sm",children:[o&&E.jsx("span",{className:"text-base",children:o}),E.jsx("span",{children:t})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:v,className:"win95-border bg-card hover:bg-muted w-5 h-5 flex items-center justify-center active:win95-border-inset",children:E.jsx(LP,{className:"w-3 h-3"})}),E.jsx("button",{className:"win95-border bg-card hover:bg-muted w-5 h-5 flex items-center justify-center active:win95-border-inset",children:E.jsx(HP,{className:"w-2.5 h-2.5"})}),E.jsx("button",{onClick:n,className:"win95-border bg-card hover:bg-muted w-5 h-5 flex items-center justify-center active:win95-border-inset",children:E.jsx(EC,{className:"w-3 h-3"})})]})]}),E.jsx("div",{className:"p-2 bg-card overflow-auto flex-1",children:e})]});return f?E.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-10 m-2 animate-fade-in",style:{zIndex:a},onClick:l,children:y}):E.jsx(h6,{default:{x:r.x,y:r.y,width:384,height:"auto"},minWidth:300,minHeight:200,bounds:"window",dragHandleClassName:"window-title",className:"animate-fade-in",style:{zIndex:a},onMouseDown:l,enableResizing:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},resizeHandleStyles:{bottomRight:{cursor:"nwse-resize",width:"20px",height:"20px",right:"0px",bottom:"0px"},bottom:{cursor:"ns-resize",height:"10px"},right:{cursor:"ew-resize",width:"10px"},top:{cursor:"ns-resize",height:"10px"},left:{cursor:"ew-resize",width:"10px"},topRight:{cursor:"nesw-resize",width:"20px",height:"20px"},topLeft:{cursor:"nwse-resize",width:"20px",height:"20px"},bottomLeft:{cursor:"nesw-resize",width:"20px",height:"20px"}},children:y})},ia=({icon:t,label:e,onClick:n})=>E.jsxs("button",{onClick:n,className:"flex flex-col items-center gap-1 p-2 hover:bg-primary/20 active:bg-primary/30 rounded group w-20",children:[E.jsx("div",{className:"text-4xl pixelated drop-shadow-lg",children:t}),E.jsx("span",{className:"text-xs text-white font-bold drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] text-center leading-tight",children:e})]}),f6=({onStartClick:t,windows:e=[],onWindowClick:n})=>{const[r,i]=A.useState(new Date);return A.useEffect(()=>{const s=setInterval(()=>i(new Date),1e3);return console.log("time"),()=>clearInterval(s)},[]),E.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-10 win95-border taskbar-gradient flex items-center justify-between px-2 z-50 shadow-lg",children:[E.jsxs("button",{onClick:t,className:"win95-border bg-gradient-to-br from-primary/20 to-accent/30 hover:from-primary/30 hover:to-accent/40 px-3 py-1 font-bold text-sm active:win95-border-inset flex items-center gap-2",children:[E.jsx(p0,{className:"w-4 h-4 text-primary"}),"Start"]}),E.jsx("div",{className:"flex-1 flex items-center gap-2 px-2 overflow-x-auto",children:e.map(s=>E.jsxs("button",{onClick:()=>n==null?void 0:n(s.id),className:"win95-border bg-card hover:bg-muted px-2 py-1 text-sm active:win95-border-inset flex items-center gap-2 min-w-[120px] max-w-[150px]",children:[E.jsx("span",{children:s.icon}),E.jsx("span",{className:"truncate",children:s.title})]},s.id))}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("a",{href:"https://open.spotify.com/user/12162592549?si=1248bae490c74683",target:"_blank",rel:"noopener noreferrer",className:"win95-border bg-card hover:bg-muted p-1 active:win95-border-inset",title:"Listen on Spotify",children:E.jsx($P,{className:"w-4 h-4 text-primary"})}),E.jsx("div",{className:"win95-border-inset bg-muted/60 backdrop-blur-sm px-3 py-1 text-sm font-mono min-w-[100px] text-center",children:r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},p6=({isOpen:t,onClose:e,onOpenBlog:n,onOpenWindow:r})=>{const i=A.useRef(null),s=Tk();if(A.useEffect(()=>{const a=l=>{i.current&&!i.current.contains(l.target)&&e()};return t&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[t,e]),!t)return null;const o=[{name:"Software",icon:""},{name:"Research",icon:""},{name:"Community",icon:""},{name:"Activism",icon:""}];return E.jsxs("div",{ref:i,className:"fixed bottom-10 left-0 w-64 win95-border bg-card shadow-2xl z-50 animate-fade-in",children:[E.jsx("div",{className:"bg-gradient-to-r from-primary/30 to-accent/40 px-3 py-6 flex items-center gap-3 border-b-2 border-border",children:E.jsxs("div",{className:"text-sm font-bold",children:[E.jsx("div",{className:"text-primary",children:"Mari's website"}),E.jsx("div",{className:"text-xs text-muted-foreground",children:"v1.0"})]})}),E.jsxs("div",{className:"p-1",children:[E.jsxs("div",{className:"mb-1 relative group/programs",children:[E.jsxs("button",{className:"w-full px-3 py-1.5 flex items-center gap-2 hover:bg-primary/20 active:bg-primary/30 text-left text-sm",children:[E.jsx(vg,{className:"w-4 h-4"}),E.jsx("span",{className:"flex-1",children:"Programs"}),E.jsx(K_,{className:"w-3 h-3 text-muted-foreground"})]}),E.jsx("div",{className:"hidden group-hover/programs:block absolute left-full top-0 ml-1 w-48 win95-border bg-card shadow-2xl z-50",children:E.jsxs("div",{className:"p-1",children:[E.jsx(bn,{icon:"",text:"Paint",onClick:()=>{r("paint"),e()}}),E.jsx(bn,{icon:"",text:"Chat",onClick:()=>{r("chat"),e()}}),E.jsx(bn,{icon:"",text:"Gallery",onClick:()=>{r("gallery"),e()}}),E.jsx(bn,{icon:"",text:"Guestbook",onClick:()=>{r("guestbook"),e()}}),E.jsx(bn,{icon:"",text:"Collaborative Dashboard",onClick:()=>{s("/dashboard"),e()}})]})})]}),E.jsx("div",{className:"h-px bg-border my-1"}),E.jsxs("div",{className:"mb-1 relative group/blogs",children:[E.jsxs("button",{className:"w-full px-3 py-1.5 flex items-center gap-2 hover:bg-primary/20 active:bg-primary/30 text-left text-sm",children:[E.jsx(vg,{className:"w-4 h-4"}),E.jsx("span",{className:"flex-1",children:"Blogs"}),E.jsx(K_,{className:"w-3 h-3 text-muted-foreground"})]}),E.jsx("div",{className:"hidden group-hover/blogs:block absolute left-full top-0 ml-1 w-56 win95-border bg-card shadow-2xl z-50",children:E.jsxs("div",{className:"p-1",children:[E.jsx(bn,{icon:"",text:"Do Cyborgs Dream of Bionic Sheep?",onClick:()=>{window.open("https://cyborgdream.github.io/","_blank"),e()},showArrow:!0}),E.jsx(bn,{icon:"",text:"Medium",onClick:()=>{window.open("https://medium.com/@mari-meir","_blank"),e()},showArrow:!0}),E.jsx(bn,{icon:"",text:"Tech for Good Research",onClick:()=>{window.open("https://techforgoodresearch.substack.com/","_blank"),e()},showArrow:!0}),E.jsx(bn,{icon:"",text:"Wireless Hippie",onClick:()=>{window.open("https://wireless-hippie.neocities.org/","_blank"),e()},showArrow:!0}),E.jsx(bn,{icon:"",text:"Letters for the Evanescents",onClick:()=>{window.open("https://lettersfortheevanescents.mataroa.blog/","_blank"),e()},showArrow:!0})]})})]}),E.jsx("div",{className:"h-px bg-border my-1"}),E.jsxs("div",{children:[E.jsxs("div",{className:"px-3 py-1 text-xs font-bold text-muted-foreground flex items-center gap-1",children:[E.jsx(vg,{className:"w-3 h-3"}),"My interests"]}),o.map(a=>E.jsx(bn,{icon:a.icon,text:a.name,onClick:()=>{n(a.name),e()}},a.name)),E.jsx(bn,{icon:"",text:"Reading List",onClick:()=>{window.open("/reading-list.html","_blank"),e()},showArrow:!0})]}),E.jsx("div",{className:"h-px bg-border my-1"}),E.jsx(bn,{icon:"",text:"About",onClick:()=>{r("about"),e()}}),E.jsx(bn,{icon:"",text:"Settings",onClick:()=>{window.open("https://github.com/marimeireles/psychonautgirl","_blank"),e()},showArrow:!0})]})]})},bn=({icon:t,text:e,onClick:n,showArrow:r=!1})=>E.jsxs("button",{onClick:n,className:"w-full px-3 py-1.5 flex items-center gap-2 hover:bg-primary/20 active:bg-primary/30 text-left group text-sm",children:[E.jsx("span",{className:"text-base",children:t}),E.jsx("span",{className:`flex-1 ${r?"underline":""}`,children:e}),r&&E.jsx(SP,{className:"w-3 h-3 text-muted-foreground"})]});function L(t,e,n){return(e=function(r){var i=function(s,o){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var l=a.call(s,o||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}(r,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(n),!0).forEach(function(r){L(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ze(t,e){if(t==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)>=0)continue;l[c]=o[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class PE{constructor(){L(this,"browserShadowBlurConstant",1),L(this,"DPI",96),L(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),L(this,"perfLimitSizeTotal",2097152),L(this,"maxCacheSideLimit",4096),L(this,"minCacheSideLimit",256),L(this,"disableStyleCopyPaste",!1),L(this,"enableGLFiltering",!0),L(this,"textureSize",4096),L(this,"forceGLPutImageData",!1),L(this,"cachesBoundsOfCurve",!1),L(this,"fontPaths",{}),L(this,"NUM_FRACTION_DIGITS",4)}}const Ie=new class extends PE{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=B(B({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new PE,n=(t==null?void 0:t.reduce((r,i)=>(r[i]=e[i],r),{}))||e;this.configure(n)}},qs=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return console[t]("fabric",...n)};let ai=class extends Error{constructor(e,n){super("fabric: ".concat(e),n)}},g6=class extends ai{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}};class m6{}class y6 extends m6{testPrecision(e,n){const r="precision ".concat(n,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,r),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const n=e.getContext("webgl");n&&(this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(r=>this.testPrecision(n,r)),n.getExtension("WEBGL_lose_context").loseContext(),qs("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const b6={};let ME;const pi=()=>ME||(ME={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new y6,dispose(){},copyPasteData:b6}),Rl=()=>pi().document,pp=()=>pi().window,jk=()=>{var t;return Math.max((t=Ie.devicePixelRatio)!==null&&t!==void 0?t:pp().devicePixelRatio,1)},Ac=new class{constructor(){L(this,"charWidthsCache",{}),L(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:n,fontWeight:r}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});const i=this.charWidthsCache[e],s="".concat(n.toLowerCase(),"_").concat((r+"").toLowerCase());return i[s]||(i[s]={}),i[s]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){const{perfLimitSizeTotal:e}=Ie,n=Math.sqrt(e*t);return[Math.floor(n),Math.floor(e/n)]}},C0="6.7.1";function xh(){}const Mu=Math.PI/2,uf=2*Math.PI,Nb=Math.PI/180,fn=Object.freeze([1,0,0,1,0,0]),Ib=16,us=.4477152502,xe="center",Me="left",Rn="top",k0="bottom",dt="right",Nn="none",Db=/\r?\n/,Hk="moving",gp="scaling",Wk="rotating",Pb="rotate",zk="skewing",hu="resizing",v6="modifyPoly",_6="modifyPath",df="changed",mp="scale",Dn="scaleX",hr="scaleY",Nl="skewX",Il="skewY",Rt="fill",In="stroke",hf="modified",sa="json",Og="svg",ce=new class{constructor(){this[sa]=new Map,this[Og]=new Map}has(t){return this[sa].has(t)}getClass(t){const e=this[sa].get(t);if(!e)throw new ai("No class registered for ".concat(t));return e}setClass(t,e){e?this[sa].set(e,t):(this[sa].set(t.type,t),this[sa].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[Og].get(t)}setSVGClass(t,e){this[Og].set(e??t.type.toLowerCase(),t)}},ff=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(n=>{var r;return n.target===t||typeof n.target=="object"&&((r=n.target)===null||r===void 0?void 0:r.canvas)===t});return e.forEach(n=>n.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(n=>n.target===t);return e.forEach(n=>n.abort()),e}};class E6{constructor(){L(this,"__eventListeners",{})}on(e,n){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(r=>{let[i,s]=r;this.on(i,s)}),()=>this.off(e);if(n){const r=e;return this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(n),()=>this.off(r,n)}return()=>!1}once(e,n){if(typeof e=="object"){const r=[];return Object.entries(e).forEach(i=>{let[s,o]=i;r.push(this.once(s,o))}),()=>r.forEach(i=>i())}if(n){const r=this.on(e,function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n.call(this,...s),r()});return r}return()=>!1}_removeEventListener(e,n){if(this.__eventListeners[e])if(n){const r=this.__eventListeners[e],i=r.indexOf(n);i>-1&&r.splice(i,1)}else this.__eventListeners[e]=[]}off(e,n){if(this.__eventListeners)if(e===void 0)for(const r in this.__eventListeners)this._removeEventListener(r);else typeof e=="object"?Object.entries(e).forEach(r=>{let[i,s]=r;this._removeEventListener(i,s)}):this._removeEventListener(e,n)}fire(e,n){var r;if(!this.__eventListeners)return;const i=(r=this.__eventListeners[e])===null||r===void 0?void 0:r.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,n||{})}}const ga=(t,e)=>{const n=t.indexOf(e);return n!==-1&&t.splice(n,1),t},$i=t=>{if(t===0)return 1;switch(Math.abs(t)/Mu){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},Gi=t=>{if(t===0)return 0;const e=t/Mu,n=Math.sign(t);switch(e){case 1:return n;case 2:return 0;case 3:return-n}return Math.sin(t)};class Y{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=n)}add(e){return new Y(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new Y(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new Y(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new Y(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new Y(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new Y(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new Y(this.x/e.x,this.y/e.y)}scalarDivide(e){return new Y(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return n=Math.max(Math.min(1,n),0),new Y(this.x+(e.x-this.x)*n,this.y+(e.y-this.y)*n)}distanceFrom(e){const n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)}midPointFrom(e){return this.lerp(e)}min(e){return new Y(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new Y(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,n){return this.x=e,this.y=n,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const n=this.x,r=this.y;this.x=e.x,this.y=e.y,e.x=n,e.y=r}clone(){return new Y(this.x,this.y)}rotate(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mb;const r=Gi(e),i=$i(e),s=this.subtract(n);return new Y(s.x*i-s.y*r,s.x*r+s.y*i).add(n)}transform(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Y(e[0]*this.x+e[2]*this.y+(n?0:e[4]),e[1]*this.x+e[3]*this.y+(n?0:e[5]))}}const Mb=new Y(0,0),Sh=t=>!!t&&Array.isArray(t._objects);function $k(t){class e extends t{constructor(){super(...arguments),L(this,"_objects",[])}_onObjectAdded(r){}_onObjectRemoved(r){}_onStackOrderChanged(r){}add(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const o=this._objects.push(...i);return i.forEach(a=>this._onObjectAdded(a)),o}insertAt(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return this._objects.splice(r,0,...s),s.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){const r=this._objects,i=[];for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return o.forEach(l=>{const c=r.indexOf(l);c!==-1&&(r.splice(c,1),i.push(l),this._onObjectRemoved(l))}),i}forEachObject(r){this.getObjects().forEach((i,s,o)=>r(i,s,o))}getObjects(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...i))}item(r){return this._objects[r]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(r,i){return!!this._objects.includes(r)||!!i&&this._objects.some(s=>s instanceof e&&s.contains(r,!0))}complexity(){return this._objects.reduce((r,i)=>r+=i.complexity?i.complexity():0,0)}sendObjectToBack(r){return!(!r||r===this._objects[0])&&(ga(this._objects,r),this._objects.unshift(r),this._onStackOrderChanged(r),!0)}bringObjectToFront(r){return!(!r||r===this._objects[this._objects.length-1])&&(ga(this._objects,r),this._objects.push(r),this._onStackOrderChanged(r),!0)}sendObjectBackwards(r,i){if(!r)return!1;const s=this._objects.indexOf(r);if(s!==0){const o=this.findNewLowerIndex(r,s,i);return ga(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}bringObjectForward(r,i){if(!r)return!1;const s=this._objects.indexOf(r);if(s!==this._objects.length-1){const o=this.findNewUpperIndex(r,s,i);return ga(this._objects,r),this._objects.splice(o,0,r),this._onStackOrderChanged(r),!0}return!1}moveObjectTo(r,i){return r!==this._objects[i]&&(ga(this._objects,r),this._objects.splice(i,0,r),this._onStackOrderChanged(r),!0)}findNewLowerIndex(r,i,s){let o;if(s){o=i;for(let a=i-1;a>=0;--a)if(r.isOverlapping(this._objects[a])){o=a;break}}else o=i-1;return o}findNewUpperIndex(r,i,s){let o;if(s){o=i;for(let a=i+1;a<this._objects.length;++a)if(r.isOverlapping(this._objects[a])){o=a;break}}else o=i+1;return o}collectObjects(r){let{left:i,top:s,width:o,height:a}=r,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],u=new Y(i,s),d=u.add(new Y(o,a));for(let h=this._objects.length-1;h>=0;h--){const f=this._objects[h];f.selectable&&f.visible&&(l&&f.intersectsWithRect(u,d)||f.isContainedWithinRect(u,d)||l&&f.containsPoint(u)||l&&f.containsPoint(d))&&c.push(f)}return c}}return e}class Gk extends E6{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const n in e)this.set(n,e[n])}_setObject(e){for(const n in e)this._set(n,e[n])}set(e,n){return typeof e=="object"?this._setObject(e):this._set(e,n),this}_set(e,n){this[e]=n}toggle(e){const n=this.get(e);return typeof n=="boolean"&&this.set(e,!n),this}get(e){return this[e]}}function Ch(t){return pp().requestAnimationFrame(t)}function w6(t){return pp().cancelAnimationFrame(t)}let T6=0;const Ks=()=>T6++,Yi=()=>{const t=Rl().createElement("canvas");if(!t||t.getContext===void 0)throw new ai("Failed to create `canvas` element");return t},x6=()=>Rl().createElement("img"),fr=t=>{const e=Yi();return e.width=t.width,e.height=t.height,e},Yk=(t,e,n)=>t.toDataURL("image/".concat(e),n),Vk=(t,e,n)=>new Promise((r,i)=>{t.toBlob(r,"image/".concat(e),n)}),pt=t=>t*Nb,Vi=t=>t/Nb,S6=t=>t.every((e,n)=>e===fn[n]),Tn=(t,e,n)=>new Y(t).transform(e,n),Lr=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:r,y:i}=new Y(t[4],t[5]).transform(n,!0);return n[4]=-r,n[5]=-i,n},jt=(t,e,n)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]],Lb=(t,e)=>t.reduceRight((n,r)=>r&&n?jt(r,n,e):r||n,void 0)||fn.concat(),qk=t=>{let[e,n]=t;return Math.atan2(n,e)},pf=t=>{const e=qk(t),n=Math.pow(t[0],2)+Math.pow(t[1],2),r=Math.sqrt(n),i=(t[0]*t[3]-t[2]*t[1])/r,s=Math.atan2(t[0]*t[2]+t[1]*t[3],n);return{angle:Vi(e),scaleX:r,scaleY:i,skewX:Vi(s),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},Lu=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Dl(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:n=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=pt(t),i=$i(r),s=Gi(r);return[i,s,-s,i,e?e-(i*e-s*n):0,n?n-(s*e+i*n):0]}const Fb=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},Kk=t=>Math.tan(pt(t)),Xk=t=>[1,0,Kk(t),1,0,0],Qk=t=>[1,Kk(t),0,1,0,0],yp=t=>{let{scaleX:e=1,scaleY:n=1,flipX:r=!1,flipY:i=!1,skewX:s=0,skewY:o=0}=t,a=Fb(r?-e:e,i?-n:n);return s&&(a=jt(a,Xk(s),!0)),o&&(a=jt(a,Qk(o),!0)),a},C6=t=>{const{translateX:e=0,translateY:n=0,angle:r=0}=t;let i=Lu(e,n);r&&(i=jt(i,Dl({angle:r})));const s=yp(t);return S6(s)||(i=jt(i,s)),i},kh=function(t){let{signal:e,crossOrigin:n=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,i){if(e&&e.aborted)return i(new g6("loadImage"));const s=x6();let o;e&&(o=function(l){s.src="",i(l)},e.addEventListener("abort",o,{once:!0}));const a=function(){s.onload=s.onerror=null,o&&(e==null||e.removeEventListener("abort",o)),r(s)};t?(s.onload=a,s.onerror=function(){o&&(e==null||e.removeEventListener("abort",o)),i(new ai("Error loading ".concat(s.src)))},n&&(s.crossOrigin=n),s.src=t):a()})},fu=function(t){let{signal:e,reviver:n=xh}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,i)=>{const s=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(o=>ce.getClass(o.type).fromObject(o,{signal:e}).then(a=>(n(o,a),s.push(a),a)))).then(r).catch(o=>{s.forEach(a=>{a.dispose&&a.dispose()}),i(o)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},bp=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,r)=>{const i=[];e&&e.addEventListener("abort",r,{once:!0});const s=Object.values(t).map(a=>a&&a.type&&ce.has(a.type)?fu([a],{signal:e}).then(l=>{let[c]=l;return i.push(c),c}):a),o=Object.keys(t);Promise.all(s).then(a=>a.reduce((l,c,u)=>(l[o[u]]=c,l),{})).then(n).catch(a=>{i.forEach(l=>{l.dispose&&l.dispose()}),r(a)}).finally(()=>{e&&e.removeEventListener("abort",r)})})},Pl=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,n)=>(n in t&&(e[n]=t[n]),e),{})},Bb=(t,e)=>Object.keys(t).reduce((n,r)=>(e(t[r],r,t)&&(n[r]=t[r]),n),{}),Ge=(t,e)=>parseFloat(Number(t).toFixed(e)),pu=t=>"matrix("+t.map(e=>Ge(e,Ie.NUM_FRACTION_DIGITS)).join(" ")+")",ar=t=>!!t&&t.toLive!==void 0,LE=t=>!!t&&typeof t.toObject=="function",FE=t=>!!t&&t.offsetX!==void 0&&"source"in t,ho=t=>!!t&&"multiSelectionStacking"in t;function Jk(t){const e=t&&Pr(t);let n=0,r=0;if(!t||!e)return{left:n,top:r};let i=t;const s=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(n=o.scrollLeft||s.scrollLeft||0,r=o.scrollTop||s.scrollTop||0):(n+=i.scrollLeft||0,r+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:n,top:r}}const Pr=t=>t.ownerDocument||null,Zk=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},eA=function(t,e,n){let{width:r,height:i}=n,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=r,t.height=i,s>1&&(t.setAttribute("width",(r*s).toString()),t.setAttribute("height",(i*s).toString()),e.scale(s,s))},A0=(t,e)=>{let{width:n,height:r}=e;n&&(t.style.width=typeof n=="number"?"".concat(n,"px"):n),r&&(t.style.height=typeof r=="number"?"".concat(r,"px"):r)};function BE(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=Nn,t}class tA{constructor(e){L(this,"_originalCanvasStyle",void 0),L(this,"lower",void 0);const n=this.createLowerCanvas(e);this.lower={el:n,ctx:n.getContext("2d")}}createLowerCanvas(e){const n=(r=e)&&r.getContext!==void 0?e:e&&Rl().getElementById(e)||Yi();var r;if(n.hasAttribute("data-fabric"))throw new ai("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=n.style.cssText,n.setAttribute("data-fabric","main"),n.classList.add("lower-canvas"),n}cleanupDOM(e){let{width:n,height:r}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(n)),i.setAttribute("height","".concat(r)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,n){const{el:r,ctx:i}=this.lower;eA(r,i,e,n)}setCSSDimensions(e){A0(this.lower.el,e)}calcOffset(){return function(e){var n;const r=e&&Pr(e),i={left:0,top:0};if(!r)return i;const s=((n=Zk(e))===null||n===void 0?void 0:n.getComputedStyle(e,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let o={left:0,top:0};const a=r.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const l=Jk(e);return{left:o.left+l.left-(a.clientLeft||0)+i.left,top:o.top+l.top-(a.clientTop||0)+i.top}}(this.lower.el)}dispose(){pi().dispose(this.lower.el),delete this.lower}}const k6={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...fn]};class Fu extends $k(Gk){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return Fu.ownDefaults}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(n),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new tA(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=super.insertAt(e,...r);return r.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(qs("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?jk():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,n){return this.setDimensions({width:e},n)}setHeight(e,n){return this.setDimensions({height:e},n)}_setDimensionsImpl(e){let{cssOnly:n=!1,backstoreOnly:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!n){const i=B({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}r||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,n){this._setDimensionsImpl(e,n),n&&n.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,n){const r=e,i=[...this.viewportTransform],s=Tn(e,Lr(i));i[0]=n,i[3]=n;const o=Tn(s,i);i[4]+=r.x-o.x,i[5]+=r.y-o.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new Y(0,0),e)}absolutePan(e){const n=[...this.viewportTransform];return n[4]=-e.x,n[5]=-e.y,this.setViewportTransform(n)}relativePan(e){return this.absolutePan(new Y(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Ch(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,n=this.height,r=Lr(this.viewportTransform),i=Tn({x:0,y:0},r),s=Tn({x:e,y:n},r),o=i.min(s),a=i.max(s);return this.vptCoords={tl:o,tr:new Y(a.x,o.y),bl:new Y(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(w6(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,n){if(this.destroyed)return;const r=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(e,n),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,n){const r=this.viewportTransform;e.save(),e.transform(...r),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()}_renderObjects(e,n){for(let r=0,i=n.length;r<i;++r)n[r]&&n[r].render(e)}_renderBackgroundOrOverlay(e,n){const r=this["".concat(n,"Color")],i=this["".concat(n,"Image")],s=this.viewportTransform,o=this["".concat(n,"Vpt")];if(!r&&!i)return;const a=ar(r);if(r){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=a?r.toLive(e):r,o&&e.transform(...s),a){e.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);const l=r.gradientTransform||r.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=o,o&&e.transform(...s),i.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new Y(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new Y(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new Y(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new Y(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new Y(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Tn(this.getCenterPoint(),Lr(this.viewportTransform))}_centerObject(e,n){e.setXY(n,xe,xe),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,n){const r=this.clipPath,i=r&&!r.excludeFromExport?this._toObject(r,e,n):null;return B(B(B({version:C0},Pl(this,n)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,e,n))},this.__serializeBgOverlay(e,n)),i?{clipPath:i}:null)}_toObject(e,n,r){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[n](r);return this.includeDefaultValues||(e.includeDefaultValues=!!i),s}__serializeBgOverlay(e,n){const r={},i=this.backgroundImage,s=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return ar(o)?o.excludeFromExport||(r.background=o.toObject(n)):o&&(r.background=o),ar(a)?a.excludeFromExport||(r.overlay=a.toObject(n)):a&&(r.overlay=a),i&&!i.excludeFromExport&&(r.backgroundImage=this._toObject(i,e,n)),s&&!s.excludeFromExport&&(r.overlayImage=this._toObject(s,e,n)),r}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e.reviver=n;const r=[];return this._setSVGPreamble(r,e),this._setSVGHeader(r,e),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",n),this._setSVGObjects(r,n),this.clipPath&&r.push(`</g>
`),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",n),r.push("</svg>"),r.join("")}_setSVGPreamble(e,n){n.suppressPreamble||e.push('<?xml version="1.0" encoding="',n.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,n){const r=n.width||"".concat(this.width),i=n.height||"".concat(this.height),s=Ie.NUM_FRACTION_DIGITS,o=n.viewBox;let a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;a='viewBox="'.concat(Ge(-l[4]/l[0],s)," ").concat(Ge(-l[5]/l[3],s)," ").concat(Ge(this.width/l[0],s)," ").concat(Ge(this.height/l[3],s),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',i,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",C0,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(n),`</defs>
`)}createSVGClipPathMarkup(e){const n=this.clipPath;return n?(n.clipPathId="CLIPPATH_".concat(Ks()),'<clipPath id="'.concat(n.clipPathId,`" >
`).concat(n.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const n=this["".concat(e,"Color")];if(ar(n)){const r=this["".concat(e,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(r?i[0]:1),height:this.height/(r?i[3]:1)};return n.toSVG(s,{additionalTransform:r?pu(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],n={},r=Ie.fontPaths;this._objects.forEach(function s(o){e.push(o),Sh(o)&&o._objects.forEach(s)}),e.forEach(s=>{if(!(o=s)||typeof o._renderText!="function")return;var o;const{styles:a,fontFamily:l}=s;!n[l]&&r[l]&&(n[l]=!0,a&&Object.values(a).forEach(c=>{Object.values(c).forEach(u=>{let{fontFamily:d=""}=u;!n[d]&&r[d]&&(n[d]=!0)})}))});const i=Object.keys(n).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(r[s],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,n){this.forEachObject(r=>{r.excludeFromExport||this._setSVGObject(e,r,n)})}_setSVGObject(e,n,r){e.push(n.toSVG(r))}_setSVGBgOverlayImage(e,n,r){const i=this[n];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(r))}_setSVGBgOverlayColor(e,n){const r=this["".concat(n,"Color")];if(r)if(ar(r)){const i=r.repeat||"",s=this.width,o=this.height,a=this["".concat(n,"Vpt")]?pu(Lr(this.viewportTransform)):"";e.push('<rect transform="'.concat(a," translate(").concat(s/2,",").concat(o/2,')" x="').concat(r.offsetX-s/2,'" y="').concat(r.offsetY-o/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!FE(r)?s:r.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!FE(r)?o:r.source.height,'" fill="url(#SVGID_').concat(r.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',`></rect>
`)}loadFromJSON(e,n){let{signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new ai("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:s=[],backgroundImage:o,background:a,overlayImage:l,overlay:c,clipPath:u}=i,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([fu(s,{reviver:n,signal:r}),bp({backgroundImage:o,backgroundColor:a,overlayImage:l,overlayColor:c,clipPath:u},{signal:r})]).then(h=>{let[f,p]=h;return this.clear(),this.add(...f),this.set(i),this.set(p),this.renderOnAddRemove=d,this})}clone(e){const n=this.toObject(e);return this.cloneWithoutData().loadFromJSON(n)}cloneWithoutData(){const e=fr(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:r=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return Yk(this.toCanvasElement(o,e),n,r)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:n="png",quality:r=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return Vk(this.toCanvasElement(o,e),n,r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:n,height:r,left:i,top:s,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(n||this.width)*e,l=(r||this.height)*e,c=this.getZoom(),u=this.width,d=this.height,h=this.skipControlsDrawing,f=c*e,p=this.viewportTransform,g=[f,0,0,f,(p[4]-(i||0))*e,(p[5]-(s||0))*e],v=this.enableRetinaScaling,y=fr({width:a,height:l}),b=o?this._objects.filter(_=>o(_)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=g,this.width=a,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(y.getContext("2d"),b),this.viewportTransform=p,this.width=u,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=v,this.skipControlsDrawing=h,y}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),ff.cancelByCanvas(this),this.disposed=!0,new Promise((e,n)=>{const r=()=>{this.destroy(),e(!0)};r.kill=n,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=r:r()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}L(Fu,"ownDefaults",k6);const A6=["touchstart","touchmove","touchend"],O6=t=>{const e=Jk(t.target),n=function(r){const i=r.changedTouches;return i&&i[0]?i[0]:r}(t);return new Y(n.clientX+e.left,n.clientY+e.top)},O0=t=>A6.includes(t.type)||t.pointerType==="touch",UE=t=>{t.preventDefault(),t.stopPropagation()},Fi=t=>{let e=0,n=0,r=0,i=0;for(let s=0,o=t.length;s<o;s++){const{x:a,y:l}=t[s];(a>r||!s)&&(r=a),(a<e||!s)&&(e=a),(l>i||!s)&&(i=l),(l<n||!s)&&(n=l)}return{left:e,top:n,width:r-e,height:i-n}},R6=["translateX","translateY","scaleX","scaleY"],N6=(t,e)=>gf(t,jt(e,t.calcOwnMatrix())),gf=(t,e)=>{const n=pf(e),{translateX:r,translateY:i,scaleX:s,scaleY:o}=n,a=Ze(n,R6),l=new Y(r,i);t.flipX=!1,t.flipY=!1,Object.assign(t,a),t.set({scaleX:s,scaleY:o}),t.setPositionByOrigin(l,xe,xe)},I6=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},nA=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),Ub=(t,e,n)=>{const r=t/2,i=e/2,s=[new Y(-r,-i),new Y(r,-i),new Y(-r,i),new Y(r,i)].map(a=>a.transform(n)),o=Fi(s);return new Y(o.width,o.height)},vp=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fn;return jt(Lr(arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn),t)},Ya=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fn;return t.transform(vp(e,n))},D6=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fn;return t.transform(vp(e,n),!0)},P6=(t,e,n)=>{const r=vp(e,n);return gf(t,jt(r,t.calcOwnMatrix())),r},rA=(t,e)=>{var n;const{transform:{target:r}}=e;(n=r.canvas)===null||n===void 0||n.fire("object:".concat(t),B(B({},e),{},{target:r})),r.fire(t,e)},M6={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Et=t=>typeof t=="string"?M6[t]:t-.5,mf="not-allowed";function iA(t){return Et(t.originX)===Et(xe)&&Et(t.originY)===Et(xe)}function jE(t){return .5-Et(t)}const jr=(t,e)=>t[e],sA=(t,e,n,r)=>({e:t,transform:e,pointer:new Y(n,r)});function oA(t,e){const n=t.getTotalAngle()+Vi(Math.atan2(e.y,e.x))+360;return Math.round(n%360/45)}function jb(t,e,n,r,i){var s;let{target:o,corner:a}=t;const l=o.controls[a],c=((s=o.canvas)===null||s===void 0?void 0:s.getZoom())||1,u=o.padding/c,d=function(h,f,p,g){const v=h.getRelativeCenterPoint(),y=p!==void 0&&g!==void 0?h.translateToGivenOrigin(v,xe,xe,p,g):new Y(h.left,h.top);return(h.angle?f.rotate(-pt(h.angle),v):f).subtract(y)}(o,new Y(r,i),e,n);return d.x>=u&&(d.x-=u),d.x<=-u&&(d.x+=u),d.y>=u&&(d.y-=u),d.y<=u&&(d.y+=u),d.x-=l.offsetX,d.y-=l.offsetY,d}const L6=(t,e,n,r)=>{const{target:i,offsetX:s,offsetY:o}=e,a=n-s,l=r-o,c=!jr(i,"lockMovementX")&&i.left!==a,u=!jr(i,"lockMovementY")&&i.top!==l;return c&&i.set(Me,a),u&&i.set(Rn,l),(c||u)&&rA(Hk,sA(t,e,n,r)),c||u},HE={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Rg=(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),WE=(t,e,n,r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n);let o,a;const l=(i+s)/2;if(i===s)o=a=0;else{const c=i-s;switch(a=l>.5?c/(2-i-s):c/(i+s),i){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*l),r]},zE=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},Td=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),$E=t=>{let[e,n,r,i=1]=t;const s=Math.round(.3*e+.59*n+.11*r);return[s,s,s,i]};class Pe{constructor(e){if(L(this,"isUnrecognised",!1),e)if(e instanceof Pe)this.setSource([...e._source]);else if(Array.isArray(e)){const[n,r,i,s=1]=e;this.setSource([n,r,i,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in HE&&(e=HE[e]),e==="transparent"?[255,255,255,0]:Pe.sourceFromHex(e)||Pe.sourceFromRgb(e)||Pe.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,n,r]=this.getSource();return"rgb(".concat(e,",").concat(n,",").concat(r,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,n,r]=WE(...this.getSource());return"hsl(".concat(e,",").concat(n,"%,").concat(r,"%)")}toHsla(){const[e,n,r,i]=WE(...this.getSource());return"hsla(".concat(e,",").concat(n,"%,").concat(r,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,n,r,i]=this.getSource();return"".concat(Td(e)).concat(Td(n)).concat(Td(r)).concat(Td(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource($E(this.getSource())),this}toBlackWhite(e){const[n,,,r]=$E(this.getSource()),i=n<(e||127)?0:255;return this.setSource([i,i,i,r]),this}overlayWith(e){e instanceof Pe||(e=new Pe(e));const n=this.getSource(),r=e.getSource(),[i,s,o]=n.map((a,l)=>Math.round(.5*a+.5*r[l]));return this.setSource([i,s,o,n[3]]),this}static fromRgb(e){return Pe.fromRgba(e)}static fromRgba(e){return new Pe(Pe.sourceFromRgb(e))}static sourceFromRgb(e){const n=e.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(n){const[r,i,s]=n.slice(1,4).map(o=>{const a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[r,i,s,zE(n[4])]}}static fromHsl(e){return Pe.fromHsla(e)}static fromHsla(e){return new Pe(Pe.sourceFromHsl(e))}static sourceFromHsl(e){const n=e.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!n)return;const r=(Pe.parseAngletoDegrees(n[1])%360+360)%360/360,i=parseFloat(n[2])/100,s=parseFloat(n[3])/100;let o,a,l;if(i===0)o=a=l=s;else{const c=s<=.5?s*(i+1):s+i-s*i,u=2*s-c;o=Rg(u,c,r+1/3),a=Rg(u,c,r),l=Rg(u,c,r-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*l),zE(n[4])]}static fromHex(e){return new Pe(Pe.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const n=e.slice(e.indexOf("#")+1);let r;r=n.length<=4?n.split("").map(l=>l+l):n.match(/.{2}/g);const[i,s,o,a=255]=r.map(l=>parseInt(l,16));return[i,s,o,a/255]}}static parseAngletoDegrees(e){const n=e.toLowerCase(),r=parseFloat(n);return n.includes("rad")?Vi(r):n.includes("turn")?360*r:r}}const Va=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ib;const n=/\D{0,2}$/.exec(t),r=parseFloat(t),i=Ie.DPI;switch(n==null?void 0:n[0]){case"mm":return r*i/25.4;case"cm":return r*i/2.54;case"in":return r*i;case"pt":return r*i/72;case"pc":return r*i/72*12;case"em":return r*e;default:return r}},F6=t=>{const[e,n]=t.trim().split(" "),[r,i]=(s=e)&&s!==Nn?[s.slice(1,4),s.slice(5,8)]:s===Nn?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:n||"meet",alignX:r,alignY:i}},gu=function(t,e){let n,r,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)n="url(#SVGID_".concat(e.id,")");else{const s=new Pe(e),o=s.getAlpha();n=s.toRgb(),o!==1&&(r=o.toString())}else n="none";return i?"".concat(t,": ").concat(n,"; ").concat(r?"".concat(t,"-opacity: ").concat(r,"; "):""):"".concat(t,'="').concat(n,'" ').concat(r?"".concat(t,'-opacity="').concat(r,'" '):"")};class aA{getSvgStyles(e){const n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Nn,s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=e?"":this.getSvgFilter(),h=gu(Rt,this.fill);return[gu(In,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",n,"; ","opacity: ",c,";",d,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(pu(r));return"".concat(i).concat(n,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:n,additionalTransform:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=i,n?n(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:n,reviver:r,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=n?"":'style="'.concat(this.getSvgStyles(),'" '),a=i?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,h=this.fill,f=this.shadow,p=[],g=e.indexOf("COMMON_PARTS");let v;l&&(l.clipPathId="CLIPPATH_".concat(Ks()),v='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(r),`</clipPath>
`)),u&&p.push("<g ",a,this.getSvgCommons(),` >
`),p.push("<g ",this.getSvgTransform(!1),u?"":a+this.getSvgCommons(),` >
`);const y=[o,c,n?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[g]=y,ar(h)&&p.push(h.toSVG(this)),ar(d)&&p.push(d.toSVG(this)),f&&p.push(f.toSVG(this)),l&&p.push(v),p.push(e.join("")),p.push(`</g>
`),u&&p.push(`</g>
`),r?r(p.join("")):p.join("")}addPaintOrder(){return this.paintFirst!==Rt?' paint-order="'.concat(this.paintFirst,'" '):""}}function _p(t){return new RegExp("^("+t.join("|")+")\\b","i")}const zo="textDecorationThickness",lA=["fontSize","fontWeight","fontFamily","fontStyle"],cA=["underline","overline","linethrough"],uA=[...lA,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],dA=[...uA,...cA,"textBackgroundColor","direction",zo],B6=[...lA,...cA,In,"strokeWidth",Rt,"deltaY","textBackgroundColor",zo],U6={_reNewline:Db,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Me,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Me,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[zo]:66.667},si="justify",yf="justify-left",Oc="justify-right",Rc="justify-center";var GE,YE,VE;const Fr=String.raw(GE||(GE=bi(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Ng=String.raw(YE||(YE=bi(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),j6=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Fr+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Fr+"))?\\s+(.*)"),H6={cx:Me,x:Me,r:"radius",cy:Rn,y:Rn,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":zo},Ig="font-size",Dg="clip-path";_p(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);_p(["symbol","image","marker","pattern","view","svg"]);const qE=_p(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(VE||(VE=bi(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),Fr,Ng,Fr,Ng,Fr,Ng,Fr));const W6=new Y(1,0),hA=new Y,fA=(t,e)=>t.rotate(e),R0=(t,e)=>new Y(e).subtract(t),N0=t=>t.distanceFrom(hA),I0=(t,e)=>Math.atan2(Nc(t,e),$6(t,e)),z6=t=>I0(W6,t),Hb=t=>t.eq(hA)?t:t.scalarDivide(N0(t)),pA=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Hb(new Y(-t.y,t.x).scalarMultiply(e?1:-1))},Nc=(t,e)=>t.x*e.y-t.y*e.x,$6=(t,e)=>t.x*e.x+t.y*e.y,KE=(t,e,n)=>{if(t.eq(e)||t.eq(n))return!0;const r=Nc(e,n),i=Nc(e,t),s=Nc(n,t);return r>=0?i>=0&&s<=0:!(i<=0&&s>=0)},XE="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",QE=new RegExp("(?:\\s|^)"+XE+XE+"("+Fr+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class hi{constructor(e){const n=typeof e=="string"?hi.parseShadow(e):e;Object.assign(this,hi.ownDefaults,n),this.id=Ks()}static parseShadow(e){const n=e.trim(),[,r=0,i=0,s=0]=(QE.exec(n)||[]).map(o=>parseFloat(o)||0);return{color:(n.replace(QE,"")||"rgb(0,0,0)").trim(),offsetX:r,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const n=fA(new Y(this.offsetX,this.offsetY),pt(-e.angle)),r=new Pe(this.color);let i=40,s=40;return e.width&&e.height&&(i=100*Ge((Math.abs(n.x)+this.blur)/e.width,Ie.NUM_FRACTION_DIGITS)+20,s=100*Ge((Math.abs(n.y)+this.blur)/e.height,Ie.NUM_FRACTION_DIGITS)+20),e.flipX&&(n.x*=-1),e.flipY&&(n.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Ge(this.blur?this.blur/2:0,Ie.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Ge(n.x,Ie.NUM_FRACTION_DIGITS),'" dy="').concat(Ge(n.y,Ie.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},n=hi.ownDefaults;return this.includeDefaultValues?e:Bb(e,(r,i)=>r!==n[i])}static async fromObject(e){return new this(e)}}L(hi,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),L(hi,"type","shadow"),ce.setClass(hi,"shadow");const gl=(t,e,n)=>Math.max(t,Math.min(e,n)),G6=[Rn,Me,Dn,hr,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Nl,Il],Xi=[Rt,In,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],Y6={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Me,originY:Rn,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Rt,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},V6=(t,e,n,r)=>-n*Math.cos(t/r*Mu)+n+e,q6=()=>!1;class Wb{constructor(e){let{startValue:n,byValue:r,duration:i=500,delay:s=0,easing:o=V6,onStart:a=xh,onChange:l=xh,onComplete:c=xh,abort:u=q6,target:d}=e;L(this,"_state","pending"),L(this,"durationProgress",0),L(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=o,this._onStart=a,this._onChange=l,this._onComplete=c,this._abort=u,this.target=d,this.startValue=n,this.byValue=r,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=n=>{this._state==="pending"&&(this.startTime=n||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Ch(e),this.delay):Ch(e)}tick(e){const n=(e||+new Date)-this.startTime,r=Math.min(n,this.duration);this.durationProgress=r/this.duration;const{value:i,valueProgress:s}=this.calculate(r);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):n>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Ch(this.tick)))}register(){ff.push(this)}unregister(){ff.remove(this)}abort(){this._state="aborted",this.unregister()}}const K6=["startValue","endValue"];class X6 extends Wb{constructor(e){let{startValue:n=0,endValue:r=100}=e;super(B(B({},Ze(e,K6)),{},{startValue:n,byValue:r-n}))}calculate(e){const n=this.easing(e,this.startValue,this.byValue,this.duration);return{value:n,valueProgress:Math.abs((n-this.startValue)/this.byValue)}}}const Q6=["startValue","endValue"];class J6 extends Wb{constructor(e){let{startValue:n=[0],endValue:r=[100]}=e;super(B(B({},Ze(e,Q6)),{},{startValue:n,byValue:r.map((i,s)=>i-n[s])}))}calculate(e){const n=this.startValue.map((r,i)=>this.easing(e,r,this.byValue[i],this.duration,i));return{value:n,valueProgress:Math.abs((n[0]-this.startValue[0])/this.byValue[0])}}}const Z6=["startValue","endValue","easing","onChange","onComplete","abort"],eB=(t,e,n,r)=>e+n*(1-Math.cos(t/r*Mu)),Pg=t=>t&&((e,n,r)=>t(new Pe(e).toRgba(),n,r));class tB extends Wb{constructor(e){let{startValue:n,endValue:r,easing:i=eB,onChange:s,onComplete:o,abort:a}=e,l=Ze(e,Z6);const c=new Pe(n).getSource(),u=new Pe(r).getSource();super(B(B({},l),{},{startValue:c,byValue:u.map((d,h)=>d-c[h]),easing:i,onChange:Pg(s),onComplete:Pg(o),abort:Pg(a)}))}calculate(e){const[n,r,i,s]=this.startValue.map((a,l)=>this.easing(e,a,this.byValue[l],this.duration,l)),o=[...[n,r,i].map(Math.round),gl(0,s,1)];return{value:o,valueProgress:o.map((a,l)=>this.byValue[l]!==0?Math.abs((a-this.startValue[l])/this.byValue[l]):0).find(a=>a!==0)||0}}}function gA(t){const e=(n=>Array.isArray(n.startValue)||Array.isArray(n.endValue))(t)?new J6(t):new X6(t);return e.start(),e}function nB(t){const e=new tB(t);return e.start(),e}class it{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(n=>n.eq(e))}append(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.points=this.points.concat(n.filter(i=>!this.includes(i))),this}static isPointContained(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(n.eq(r))return e.eq(n);if(n.x===r.x)return e.x===n.x&&(i||e.y>=Math.min(n.y,r.y)&&e.y<=Math.max(n.y,r.y));if(n.y===r.y)return e.y===n.y&&(i||e.x>=Math.min(n.x,r.x)&&e.x<=Math.max(n.x,r.x));{const s=R0(n,r),o=R0(n,e).divide(s);return i?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,n){const r=new Y(e).setX(Math.min(e.x-1,...n.map(s=>s.x)));let i=0;for(let s=0;s<n.length;s++){const o=this.intersectSegmentSegment(n[s],n[(s+1)%n.length],e,r);if(o.includes(e))return!0;i+=+(o.status==="Intersection")}return i%2==1}static intersectLineLine(e,n,r,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const a=n.x-e.x,l=n.y-e.y,c=i.x-r.x,u=i.y-r.y,d=e.x-r.x,h=e.y-r.y,f=c*h-u*d,p=a*h-l*d,g=u*a-c*l;if(g!==0){const v=f/g,y=p/g;return(s||0<=v&&v<=1)&&(o||0<=y&&y<=1)?new it("Intersection").append(new Y(e.x+v*a,e.y+v*l)):new it}if(f===0||p===0){const v=s||o||it.isPointContained(e,r,i)||it.isPointContained(n,r,i)||it.isPointContained(r,e,n)||it.isPointContained(i,e,n);return new it(v?"Coincident":void 0)}return new it("Parallel")}static intersectSegmentLine(e,n,r,i){return it.intersectLineLine(e,n,r,i,!1,!0)}static intersectSegmentSegment(e,n,r,i){return it.intersectLineLine(e,n,r,i,!1,!1)}static intersectLinePolygon(e,n,r){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new it,o=r.length;for(let a,l,c,u=0;u<o;u++){if(a=r[u],l=r[(u+1)%o],c=it.intersectLineLine(e,n,a,l,i,!1),c.status==="Coincident")return c;s.append(...c.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,n,r){return it.intersectLinePolygon(e,n,r,!1)}static intersectPolygonPolygon(e,n){const r=new it,i=e.length,s=[];for(let o=0;o<i;o++){const a=e[o],l=e[(o+1)%i],c=it.intersectSegmentPolygon(a,l,n);c.status==="Coincident"?(s.push(c),r.append(a,l)):r.append(...c.points)}return s.length>0&&s.length===e.length?new it("Coincident"):(r.points.length>0&&(r.status="Intersection"),r)}static intersectPolygonRectangle(e,n,r){const i=n.min(r),s=n.max(r),o=new Y(s.x,i.y),a=new Y(i.x,s.y);return it.intersectPolygonPolygon(e,[i,o,s,a])}}class rB extends Gk{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Tn(e,this.group.calcTransformMatrix()):e}setXY(e,n,r){this.group&&(e=Tn(e,Lr(this.group.calcTransformMatrix()))),this.setRelativeXY(e,n,r)}getRelativeXY(){return new Y(this.left,this.top)}setRelativeXY(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,n,r)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:n,br:r,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,n,r,i];if(this.group){const o=this.group.calcTransformMatrix();return s.map(a=>Tn(a,o))}return s}intersectsWithRect(e,n){return it.intersectPolygonRectangle(this.getCoords(),e,n).status==="Intersection"}intersectsWithObject(e){const n=it.intersectPolygonPolygon(this.getCoords(),e.getCoords());return n.status==="Intersection"||n.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(n=>e.containsPoint(n))}isContainedWithinRect(e,n){const{left:r,top:i,width:s,height:o}=this.getBoundingRect();return r>=e.x&&r+s<=n.x&&i>=e.y&&i+o<=n.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return it.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:n}=this.canvas.vptCoords;return!!this.getCoords().some(r=>r.x<=n.x&&r.x>=e.x&&r.y<=n.y&&r.y>=e.y)||!!this.intersectsWithRect(e,n)||this.containsPoint(e.midPointFrom(n))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:n}=this.canvas.vptCoords;return this.intersectsWithRect(e,n)?!0:this.getCoords().every(r=>(r.x>=n.x||r.x<=e.x)&&(r.y>=n.y||r.y<=e.y))&&this.containsPoint(e.midPointFrom(n))}getBoundingRect(){return Fi(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Dn,e),this._set(hr,e),this.setCoords()}scaleToWidth(e){const n=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/n)}scaleToHeight(e){const n=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/n)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Vi(qk(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||fn.concat()}calcACoords(){const e=Dl({angle:this.angle}),{x:n,y:r}=this.getRelativeCenterPoint(),i=Lu(n,r),s=jt(i,e),o=this._getTransformedDimensions(),a=o.x/2,l=o.y/2;return{tl:Tn({x:-a,y:-l},s),tr:Tn({x:a,y:-l},s),bl:Tn({x:-a,y:l},s),br:Tn({x:a,y:l},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=[];return!e&&this.group&&(n=this.group.transformMatrixKey(e)),n.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Et(this.originX),Et(this.originY)),n}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.calcOwnMatrix();if(e||!this.group)return n;const r=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((s,o)=>s===r[o])?i.value:(this.group&&(n=jt(this.group.calcTransformMatrix(!1),n)),this.matrixCache={key:r,value:n},n)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),n=this.ownMatrixCache;if(n&&n.key===e)return n.value;const r=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=C6(i);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new Y(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=B({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),r=n.strokeWidth;let i=r,s=0;this.strokeUniform&&(i=0,s=r);const o=n.width+i,a=n.height+i;let l;return l=n.skewX===0&&n.skewY===0?new Y(o*n.scaleX,a*n.scaleY):Ub(o,a,yp(n)),l.scalarAdd(s)}translateToGivenOrigin(e,n,r,i,s){let o=e.x,a=e.y;const l=Et(i)-Et(n),c=Et(s)-Et(r);if(l||c){const u=this._getTransformedDimensions();o+=l*u.x,a+=c*u.y}return new Y(o,a)}translateToCenterPoint(e,n,r){if(n===xe&&r===xe)return e;const i=this.translateToGivenOrigin(e,n,r,xe,xe);return this.angle?i.rotate(pt(this.angle),e):i}translateToOriginPoint(e,n,r){const i=this.translateToGivenOrigin(e,xe,xe,n,r);return this.angle?i.rotate(pt(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Tn(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new Y(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,n){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,n)}setPositionByOrigin(e,n,r){const i=this.translateToCenterPoint(e,n,r),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Me,Rn)}}const iB=["type"],sB=["extraParam"];let xi=class Ah extends rB{static getDefaults(){return Ah.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){qs("warn","Setting type has no effect",e)}constructor(e){super(),L(this,"_cacheContext",null),Object.assign(this,Ah.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=Yi(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const n=e.width,r=e.height,i=Ie.maxCacheSideLimit,s=Ie.minCacheSideLimit;if(n<=i&&r<=i&&n*r<=Ie.perfLimitSizeTotal)return n<s&&(e.width=s),r<s&&(e.height=s),e;const o=n/r,[a,l]=Ac.limitDimsByArea(o),c=gl(s,a,i),u=gl(s,l,i);return n>c&&(e.zoomX/=n/c,e.width=c,e.capped=!0),r>u&&(e.zoomY/=r/u,e.height=u,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),n=this._getTransformedDimensions({skewX:0,skewY:0}),r=n.x*e.x/this.scaleX,i=n.y*e.y/this.scaleY;return{width:Math.ceil(r+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:r,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,n=this._cacheContext,{width:r,height:i,zoomX:s,zoomY:o,x:a,y:l}=this._limitCacheSize(this._getCacheCanvasDimensions()),c=r!==e.width||i!==e.height,u=this.zoomX!==s||this.zoomY!==o;if(!e||!n)return!1;if(c||u){r!==e.width||i!==e.height?(e.width=r,e.height=i):(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height));const d=a/2,h=l/2;return this.cacheTranslationX=Math.round(e.width/2-d)+d,this.cacheTranslationY=Math.round(e.height/2-h)+h,n.translate(this.cacheTranslationX,this.cacheTranslationY),n.scale(s,o),this.zoomX=s,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const n=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,r=this.calcTransformMatrix(!n);e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}getObjectScaling(){if(!this.group)return new Y(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=pf(this.calcTransformMatrix());return new Y(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const n=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return e.scalarMultiply(n*r)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,n){e!==Dn&&e!==hr||(n=this._constrainScale(n)),e===Dn&&n<0?(this.flipX=!this.flipX,n*=-1):e==="scaleY"&&n<0?(this.flipY=!this.flipY,n*=-1):e!=="shadow"||!n||n instanceof hi||(n=new hi(n));const r=this[e]!==n;return this[e]=n,r&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:n,zoomY:r,cacheTranslationX:i,cacheTranslationY:s}=this,{width:o,height:a}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:n,zoomY:r,cacheTranslationX:i,cacheTranslationY:s,width:o,height:a,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===In&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,n,r){e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(r,0,0),e.restore()}drawObject(e,n,r){const i=this.fill,s=this.stroke;n?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,r),this.fill=i,this.stroke=s}createClipPathLayer(e,n){const r=fr(n),i=r.getContext("2d");if(i.translate(n.cacheTranslationX,n.cacheTranslationY),i.scale(n.zoomX,n.zoomY),e._cacheCanvas=r,n.parentClipPaths.forEach(s=>{s.transform(i)}),n.parentClipPaths.push(e),e.absolutePositioned){const s=Lr(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return e.transform(i),e.drawObject(i,!0,n),r}_drawClipPath(e,n,r){if(!n)return;n._transformDone=!0;const i=this.createClipPathLayer(n,r);this.drawClipPathOnCache(e,n,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const n=this._cacheCanvas,r=this._cacheContext;return!(!n||!r||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(n&&r&&!e&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),r.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const n=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,n){const r=n.stroke;r&&(e.lineWidth=n.strokeWidth,e.lineCap=n.strokeLineCap,e.lineDashOffset=n.strokeDashOffset,e.lineJoin=n.strokeLineJoin,e.miterLimit=n.strokeMiterLimit,ar(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(e,r):(e.strokeStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.strokeStyle=n.stroke)}_setFillStyles(e,n){let{fill:r}=n;r&&(ar(r)?(e.fillStyle=r.toLive(e),this._applyPatternGradientTransform(e,r)):e.fillStyle=r)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,n){n&&n.length!==0&&e.setLineDash(n)}_setShadow(e){if(!this.shadow)return;const n=this.shadow,r=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,o]=(r==null?void 0:r.viewportTransform)||fn,a=s*i,l=o*i,c=n.nonScaling?new Y(1,1):this.getObjectScaling();e.shadowColor=n.color,e.shadowBlur=n.blur*Ie.browserShadowBlurConstant*(a+l)*(c.x+c.y)/4,e.shadowOffsetX=n.offsetX*a*c.x,e.shadowOffsetY=n.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,n){if(!ar(n))return{offsetX:0,offsetY:0};const r=n.gradientTransform||n.patternTransform,i=-this.width/2+n.offsetX||0,s=-this.height/2+n.offsetY||0;return n.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,s):e.transform(1,0,0,1,i,s),r&&e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===In?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const n=this.getObjectScaling();e.scale(1/n.x,1/n.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,n){var r;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),o=i.x/this.scaleX/s,a=i.y/this.scaleY/s,l=fr({width:Math.ceil(o),height:Math.ceil(a)}),c=l.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(o,0),c.lineTo(o,a),c.lineTo(0,a),c.closePath(),c.translate(o/2,a/2),c.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(c,n),c.fillStyle=n.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(r=c.createPattern(l,"no-repeat"))!==null&&r!==void 0?r:"")}_findCenterFromElement(){return new Y(this.left+this.width/2,this.top+this.height/2)}clone(e){const n=this.toObject(e);return this.constructor.fromObject(n)}cloneAsImage(e){const n=this.toCanvasElement(e);return new(ce.getClass("image"))(n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=nA(this),r=this.group,i=this.shadow,s=Math.abs,o=e.enableRetinaScaling?jk():1,a=(e.multiplier||1)*o,l=e.canvasProvider||(b=>new Fu(b,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&I6(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&P6(this,this.getViewportTransform()),this.setCoords();const c=Yi(),u=this.getBoundingRect(),d=this.shadow,h=new Y;if(d){const b=d.blur,_=d.nonScaling?new Y(1,1):this.getObjectScaling();h.x=2*Math.round(s(d.offsetX)+b)*s(_.x),h.y=2*Math.round(s(d.offsetY)+b)*s(_.y)}const f=u.width+h.x,p=u.height+h.y;c.width=Math.ceil(f),c.height=Math.ceil(p);const g=l(c);e.format==="jpeg"&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new Y(g.width/2,g.height/2),xe,xe);const v=this.canvas;g._objects=[this],this.set("canvas",g),this.setCoords();const y=g.toCanvasElement(a||1,e);return this.set("canvas",v),this.shadow=i,r&&(this.group=r),this.set(n),this.setCoords(),g._objects=[],g.destroy(),y}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Yk(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Vk(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.includes(this.constructor.type)||n.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:n,originX:r,originY:i}=this;if(n){const{x:s,y:o}=this.getRelativeCenterPoint();this.originX=xe,this.originY=xe,this.left=s,this.top=o}if(this.set("angle",e),n){const{x:s,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,i);this.left=s,this.top=o,this.originX=r,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){ff.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&pi().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,n){return Object.entries(e).reduce((r,i)=>{let[s,o]=i;return r[s]=this._animate(s,o,n),r},{})}_animate(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:o,startValue:a,onChange:l,onComplete:c}=r,u=B(B({},r),{},{target:this,startValue:a??i.reduce((d,h)=>d[h],this),endValue:n,abort:o==null?void 0:o.bind(this),onChange:(d,h,f)=>{i.reduce((p,g,v)=>(v===i.length-1&&(p[g]=d),p[g]),this),l&&l(d,h,f)},onComplete:(d,h,f)=>{this.setCoords(),c&&c(d,h,f)}});return s?nB(u):gA(u)}isDescendantOf(e){const{parent:n,group:r}=this;return n===e||r===e||!!n&&n.isDescendantOf(e)||!!r&&r!==n&&r.isDescendantOf(e)}getAncestors(){const e=[];let n=this;do n=n.parent,n&&e.push(n);while(n);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const n=this.getAncestors(),r=e.getAncestors();if(n.length===0&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[e,...r.slice(0,r.length-1)],common:[this]};for(let i,s=0;s<n.length;s++){if(i=n[s],i===e)return{fork:[this,...n.slice(0,s)],otherFork:[],common:n.slice(s)};for(let o=0;o<r.length;o++){if(this===r[o])return{fork:[],otherFork:[e,...r.slice(0,o)],common:[this,...n]};if(i===r[o])return{fork:[this,...n.slice(0,s)],otherFork:[e,...r.slice(0,o)],common:n.slice(s)}}}return{fork:[this,...n],otherFork:[e,...r],common:[]}}hasCommonAncestors(e){const n=this.findCommonAncestors(e);return n&&!!n.common.length}isInFrontOf(e){if(this===e)return;const n=this.findCommonAncestors(e);if(n.fork.includes(e))return!0;if(n.otherFork.includes(this))return!1;const r=n.common[0]||this.canvas;if(!r)return;const i=n.fork.pop(),s=n.otherFork.pop(),o=r._objects.indexOf(i),a=r._objects.indexOf(s);return o>-1&&o>a}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(Ah.customProperties,this.constructor.customProperties||[]);let n;const r=Ie.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:o,shadow:a,strokeDashArray:l,left:c,top:u,originX:d,originY:h,width:f,height:p,strokeWidth:g,strokeLineCap:v,strokeDashOffset:y,strokeLineJoin:b,strokeUniform:_,strokeMiterLimit:T,scaleX:x,scaleY:w,angle:C,flipX:I,flipY:U,opacity:O,visible:G,backgroundColor:j,fillRule:X,paintFirst:$,globalCompositeOperation:q,skewX:M,skewY:W}=this;i&&!i.excludeFromExport&&(n=i.toObject(e.concat("inverted","absolutePositioned")));const D=S=>Ge(S,r),H=B(B({},Pl(this,e)),{},{type:this.constructor.type,version:C0,originX:d,originY:h,left:D(c),top:D(u),width:D(f),height:D(p),fill:LE(s)?s.toObject():s,stroke:LE(o)?o.toObject():o,strokeWidth:D(g),strokeDashArray:l&&l.concat(),strokeLineCap:v,strokeDashOffset:y,strokeLineJoin:b,strokeUniform:_,strokeMiterLimit:D(T),scaleX:D(x),scaleY:D(w),angle:D(C),flipX:I,flipY:U,opacity:D(O),shadow:a&&a.toObject(),visible:G,backgroundColor:j,fillRule:X,paintFirst:$,globalCompositeOperation:q,skewX:D(M),skewY:D(W)},n?{clipPath:n}:null);return this.includeDefaultValues?H:this._removeDefaultValues(H)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const n=this.constructor.getDefaults(),r=Object.keys(n).length>0?n:Object.getPrototypeOf(this);return Bb(e,(i,s)=>{if(s===Me||s===Rn||s==="type")return!0;const o=r[s];return i!==o&&!(Array.isArray(i)&&Array.isArray(o)&&i.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let n=Ze(e,iB),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=r,s=Ze(r,sB);return bp(n,s).then(o=>i?(delete o[i],new this(n[i],o)):new this(o))}static fromObject(e,n){return this._fromObject(e,n)}};L(xi,"stateProperties",G6),L(xi,"cacheProperties",Xi),L(xi,"ownDefaults",Y6),L(xi,"type","FabricObject"),L(xi,"colorProperties",[Rt,In,"backgroundColor"]),L(xi,"customProperties",[]),ce.setClass(xi),ce.setClass(xi,"object");const Ml=(t,e,n)=>(r,i,s,o)=>{const a=e(r,i,s,o);return a&&rA(t,B(B({},sA(r,i,s,o)),n)),a};function Ll(t){return(e,n,r,i)=>{const{target:s,originX:o,originY:a}=n,l=s.getRelativeCenterPoint(),c=s.translateToOriginPoint(l,o,a),u=t(e,n,r,i);return s.setPositionByOrigin(c,n.originX,n.originY),u}}const JE=Ml(hu,Ll((t,e,n,r)=>{const i=jb(e,e.originX,e.originY,n,r);if(Et(e.originX)===Et(xe)||Et(e.originX)===Et(dt)&&i.x<0||Et(e.originX)===Et(Me)&&i.x>0){const{target:s}=e,o=s.strokeWidth/(s.strokeUniform?s.scaleX:1),a=iA(e)?2:1,l=s.width,c=Math.abs(i.x*a/s.scaleX)-o;return s.set("width",Math.max(c,1)),l!==s.width}return!1}));function oB(t,e,n,r,i){r=r||{};const s=this.sizeX||r.cornerSize||i.cornerSize,o=this.sizeY||r.cornerSize||i.cornerSize,a=r.transparentCorners!==void 0?r.transparentCorners:i.transparentCorners,l=a?In:Rt,c=!a&&(r.cornerStrokeColor||i.cornerStrokeColor);let u,d=e,h=n;t.save(),t.fillStyle=r.cornerColor||i.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor||"",s>o?(u=s,t.scale(1,o/s),h=n*s/o):o>s?(u=o,t.scale(s/o,1),d=e*o/s):u=s,t.beginPath(),t.arc(d,h,u/2,0,uf,!1),t[l](),c&&t.stroke(),t.restore()}function aB(t,e,n,r,i){r=r||{};const s=this.sizeX||r.cornerSize||i.cornerSize,o=this.sizeY||r.cornerSize||i.cornerSize,a=r.transparentCorners!==void 0?r.transparentCorners:i.transparentCorners,l=a?In:Rt,c=!a&&(r.cornerStrokeColor||i.cornerStrokeColor),u=s/2,d=o/2;t.save(),t.fillStyle=r.cornerColor||i.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,n);const h=i.getTotalAngle();t.rotate(pt(h)),t["".concat(l,"Rect")](-u,-d,s,o),c&&t.strokeRect(-u,-d,s,o),t.restore()}class Sr{constructor(e){L(this,"visible",!0),L(this,"actionName",mp),L(this,"angle",0),L(this,"x",0),L(this,"y",0),L(this,"offsetX",0),L(this,"offsetY",0),L(this,"sizeX",0),L(this,"sizeY",0),L(this,"touchSizeX",0),L(this,"touchSizeY",0),L(this,"cursorStyle","crosshair"),L(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,n,r,i){var s;let{tl:o,tr:a,br:l,bl:c}=i;return((s=n.canvas)===null||s===void 0?void 0:s.getActiveObject())===n&&n.isControlVisible(e)&&it.isPointInPolygon(r,[o,a,l,c])}getActionHandler(e,n,r){return this.actionHandler}getMouseDownHandler(e,n,r){return this.mouseDownHandler}getMouseUpHandler(e,n,r){return this.mouseUpHandler}cursorStyleHandler(e,n,r){return n.cursorStyle}getActionName(e,n,r){return n.actionName}getVisibility(e,n){var r,i;return(r=(i=e._controlsVisibility)===null||i===void 0?void 0:i[n])!==null&&r!==void 0?r:this.visible}setVisibility(e,n,r){this.visible=e}positionHandler(e,n,r,i){return new Y(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(n)}calcCornerCoords(e,n,r,i,s,o){const a=Lb([Lu(r,i),Dl({angle:e}),Fb((s?this.touchSizeX:this.sizeX)||n,(s?this.touchSizeY:this.sizeY)||n)]);return{tl:new Y(-.5,-.5).transform(a),tr:new Y(.5,-.5).transform(a),br:new Y(.5,.5).transform(a),bl:new Y(-.5,.5).transform(a)}}render(e,n,r,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?oB.call(this,e,n,r,i,s):aB.call(this,e,n,r,i,s)}}const lB=(t,e,n)=>n.lockRotation?mf:e.cursorStyle,cB=Ml(Wk,Ll((t,e,n,r)=>{let{target:i,ex:s,ey:o,theta:a,originX:l,originY:c}=e;const u=i.translateToOriginPoint(i.getRelativeCenterPoint(),l,c);if(jr(i,"lockRotation"))return!1;const d=Math.atan2(o-u.y,s-u.x),h=Math.atan2(r-u.y,n-u.x);let f=Vi(h-d+a);if(i.snapAngle&&i.snapAngle>0){const g=i.snapAngle,v=i.snapThreshold||g,y=Math.ceil(f/g)*g,b=Math.floor(f/g)*g;Math.abs(f-b)<v?f=b:Math.abs(f-y)<v&&(f=y)}f<0&&(f=360+f),f%=360;const p=i.angle!==f;return i.angle=f,p}));function mA(t,e){const n=e.canvas,r=t[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function yA(t,e,n){const r=jr(t,"lockScalingX"),i=jr(t,"lockScalingY");if(r&&i||!e&&(r||i)&&n||r&&e==="x"||i&&e==="y")return!0;const{width:s,height:o,strokeWidth:a}=t;return s===0&&a===0&&e!=="y"||o===0&&a===0&&e!=="x"}const uB=["e","se","s","sw","w","nw","n","ne","e"],gc=(t,e,n)=>{const r=mA(t,n);if(yA(n,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",r))return mf;const i=oA(n,e);return"".concat(uB[i],"-resize")};function zb(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,o=i.by,a=mA(t,s);let l,c,u,d,h,f;if(yA(s,o,a))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,u=e.scaleY*e.gestureScale;else{if(l=jb(e,e.originX,e.originY,n,r),h=o!=="y"?Math.sign(l.x||e.signX||1):1,f=o!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=h),e.signY||(e.signY=f),jr(s,"lockScalingFlip")&&(e.signX!==h||e.signY!==f))return!1;if(d=s._getTransformedDimensions(),a&&!o){const v=Math.abs(l.x)+Math.abs(l.y),{original:y}=e,b=v/(Math.abs(d.x*y.scaleX/s.scaleX)+Math.abs(d.y*y.scaleY/s.scaleY));c=y.scaleX*b,u=y.scaleY*b}else c=Math.abs(l.x*s.scaleX/d.x),u=Math.abs(l.y*s.scaleY/d.y);iA(e)&&(c*=2,u*=2),e.signX!==h&&o!=="y"&&(e.originX=jE(e.originX),c*=-1,e.signX=h),e.signY!==f&&o!=="x"&&(e.originY=jE(e.originY),u*=-1,e.signY=f)}const p=s.scaleX,g=s.scaleY;return o?(o==="x"&&s.set(Dn,c),o==="y"&&s.set(hr,u)):(!jr(s,"lockScalingX")&&s.set(Dn,c),!jr(s,"lockScalingY")&&s.set(hr,u)),p!==s.scaleX||g!==s.scaleY}const xd=Ml(gp,Ll((t,e,n,r)=>zb(t,e,n,r))),dB=Ml(gp,Ll((t,e,n,r)=>zb(t,e,n,r,{by:"x"}))),hB=Ml(gp,Ll((t,e,n,r)=>zb(t,e,n,r,{by:"y"}))),fB=["target","ex","ey","skewingSide"],Mg={x:{counterAxis:"y",scale:Dn,skew:Nl,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:hr,skew:Il,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},pB=["ns","nesw","ew","nwse"],gB=(t,e,n)=>{if(e.x!==0&&jr(n,"lockSkewingY")||e.y!==0&&jr(n,"lockSkewingX"))return mf;const r=oA(n,e)%4;return"".concat(pB[r],"-resize")};function bA(t,e,n,r,i){const{target:s}=n,{counterAxis:o,origin:a,lockSkewing:l,skew:c,flip:u}=Mg[t];if(jr(s,l))return!1;const{origin:d,flip:h}=Mg[o],f=Et(n[d])*(s[h]?-1:1),p=-Math.sign(f)*(s[u]?-1:1),g=.5*-((s[c]===0&&jb(n,xe,xe,r,i)[t]>0||s[c]>0?1:-1)*p)+.5;return Ml(zk,Ll((y,b,_,T)=>function(x,w,C){let{target:I,ex:U,ey:O,skewingSide:G}=w,j=Ze(w,fB);const{skew:X}=Mg[x],$=C.subtract(new Y(U,O)).divide(new Y(I.scaleX,I.scaleY))[x],q=I[X],M=j[X],W=Math.tan(pt(M)),D=x==="y"?I._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:I._getTransformedDimensions({scaleX:1,scaleY:1}).y,H=2*$*G/Math.max(D,1)+W,S=Vi(Math.atan(H));I.set(X,S);const ie=q!==I[X];if(ie&&x==="y"){const{skewX:ee,scaleX:N}=I,ae=I._getTransformedDimensions({skewY:q}),me=I._getTransformedDimensions(),pe=ee!==0?ae.x/me.x:1;pe!==1&&I.set(Dn,pe*N)}return ie}(t,b,new Y(_,T))))(e,B(B({},n),{},{[a]:g,skewingSide:p}),r,i)}const mB=(t,e,n,r)=>bA("x",t,e,n,r),yB=(t,e,n,r)=>bA("y",t,e,n,r);function Ep(t,e){return t[e.canvas.altActionKey]}const Sd=(t,e,n)=>{const r=Ep(t,n);return e.x===0?r?Nl:hr:e.y===0?r?Il:Dn:""},Pa=(t,e,n)=>Ep(t,n)?gB(0,e,n):gc(t,e,n),ZE=(t,e,n,r)=>Ep(t,e.target)?yB(t,e,n,r):dB(t,e,n,r),e1=(t,e,n,r)=>Ep(t,e.target)?mB(t,e,n,r):hB(t,e,n,r),vA=()=>({ml:new Sr({x:-.5,y:0,cursorStyleHandler:Pa,actionHandler:ZE,getActionName:Sd}),mr:new Sr({x:.5,y:0,cursorStyleHandler:Pa,actionHandler:ZE,getActionName:Sd}),mb:new Sr({x:0,y:.5,cursorStyleHandler:Pa,actionHandler:e1,getActionName:Sd}),mt:new Sr({x:0,y:-.5,cursorStyleHandler:Pa,actionHandler:e1,getActionName:Sd}),tl:new Sr({x:-.5,y:-.5,cursorStyleHandler:gc,actionHandler:xd}),tr:new Sr({x:.5,y:-.5,cursorStyleHandler:gc,actionHandler:xd}),bl:new Sr({x:-.5,y:.5,cursorStyleHandler:gc,actionHandler:xd}),br:new Sr({x:.5,y:.5,cursorStyleHandler:gc,actionHandler:xd}),mtr:new Sr({x:0,y:-.5,actionHandler:cB,cursorStyleHandler:lB,offsetY:-40,withConnection:!0,actionName:Pb})}),bB=()=>({mr:new Sr({x:.5,y:0,actionHandler:JE,cursorStyleHandler:Pa,actionName:hu}),ml:new Sr({x:-.5,y:0,actionHandler:JE,cursorStyleHandler:Pa,actionName:hu})}),vB=()=>B(B({},vA()),bB());class mu extends xi{static getDefaults(){return B(B({},super.getDefaults()),mu.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),mu.ownDefaults),this.setOptions(e)}static createControls(){return{controls:vA()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const n=e._currentTransform,r=n.target,i=n.action;if(this===r&&i&&i.startsWith(mp))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const r=Object.entries(this.oCoords);for(let i=r.length-1;i>=0;i--){const[s,o]=r[i],a=this.controls[s];if(a.shouldActivate(s,this,e,n?o.touchCorner:o.corner))return this.__corner=s,{key:s,control:a,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),n=this.getCenterPoint(),r=Lu(n.x,n.y),i=Dl({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=jt(r,i),o=jt(e,s),a=jt(o,[1/e[0],0,0,1/e[3],0,0]),l=this.group?pf(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((d,h)=>{const f=d.positionHandler(c,a,this,d);u[h]=Object.assign(f,this._calcCornerCoords(d,f))}),u}_calcCornerCoords(e,n){const r=this.getTotalAngle();return{corner:e.calcCornerCoords(r,this.cornerSize,n.x,n.y,!1,this),touchCorner:e.calcCornerCoords(r,this.touchCornerSize,n.x,n.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const n in this.controls)e(this.controls[n],n,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const n=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(n.x,n.y),e.scale(1/i[0],1/i[3]),e.rotate(pt(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore()}strokeBorders(e,n){e.strokeRect(-n.x/2,-n.y/2,n.x,n.y)}_drawBorders(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=B({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,n),i.hasControls&&this.drawControlsConnectingLines(e,n),e.restore()}_renderControls(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:r,hasControls:i}=this,s=B({hasBorders:r,hasControls:i},n),o=this.getViewportTransform(),a=s.hasBorders,l=s.hasControls,c=jt(o,this.calcTransformMatrix()),u=pf(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(pt(this.group?u.angle:this.angle)),a&&this.drawBorders(e,u,n),l&&this.drawControls(e,n),e.restore()}drawBorders(e,n,r){let i;if(r&&r.forActiveSelection||this.group){const s=Ub(this.width,this.height,yp(n)),o=this.isStrokeAccountedForInDimensions()?Mb:(this.strokeUniform?new Y().scalarAdd(this.canvas?this.canvas.getZoom():1):new Y(n.scaleX,n.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,r)}drawControlsConnectingLines(e,n){let r=!1;e.beginPath(),this.forEachControl((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(r=!0,e.moveTo(i.x*n.x,i.y*n.y),e.lineTo(i.x*n.x+i.offsetX,i.y*n.y+i.offsetY))}),r&&e.stroke()}drawControls(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const r=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:o}=this,a=B({cornerStrokeColor:i,cornerDashArray:s,cornerColor:o},n);e.setTransform(r,0,0,r,0,0),e.strokeStyle=e.fillStyle=a.cornerColor,this.transparentCorners||(e.strokeStyle=a.cornerStrokeColor),this._setLineDash(e,a.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const u=this.oCoords[c];l.render(e,u.x,u.y,a,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,n){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=n}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(n=>{let[r,i]=n;return this.setControlVisible(r,i)})}clearContextTop(e){if(!this.canvas)return;const n=this.canvas.contextTop;if(!n)return;const r=this.canvas.viewportTransform;n.save(),n.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(n);const i=this.width+4,s=this.height+4;return n.clearRect(-i/2,-s/2,i,s),e||n.restore(),n}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function _A(t,e){return e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))})}),t}L(mu,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Xt extends mu{}_A(Xt,[aA]),ce.setClass(Xt),ce.setClass(Xt,"object");const _B=(t,e,n,r)=>{const i=2*(r=Math.round(r))+1,{data:s}=t.getImageData(e-r,n-r,i,i);for(let o=3;o<s.length;o+=4)if(s[o]>0)return!1;return!0};class EA{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Y(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Y(1/this.options.scaleX,1/this.options.scaleY):new Y(1,1)}createSideVector(e,n){const r=R0(e,n);return this.options.strokeUniform?r.multiply(this.scale):r}projectOrthogonally(e,n,r){return this.applySkew(e.add(this.calcOrthogonalProjection(e,n,r)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const n=new Y(e);return n.y+=n.x*Math.tan(pt(this.options.skewY)),n.x+=n.y*Math.tan(pt(this.options.skewX)),n}scaleUnitVector(e,n){return e.multiply(this.strokeUniformScalar).scalarMultiply(n)}}const EB=new Y;class qa extends EA{static getOrthogonalRotationFactor(e,n){const r=n?I0(e,n):z6(e);return Math.abs(r)<Mu?-1:1}constructor(e,n,r,i){super(i),L(this,"AB",void 0),L(this,"AC",void 0),L(this,"alpha",void 0),L(this,"bisector",void 0),this.A=new Y(e),this.B=new Y(n),this.C=new Y(r),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=I0(this.AB,this.AC),this.bisector=Hb(fA(this.AB.eq(EB)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,n),s=pA(i),o=qa.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,r*o)}projectBevel(){const e=[];return(this.alpha%uf==0?[this.B]:[this.B,this.C]).forEach(n=>{e.push(this.projectOrthogonally(this.A,n)),e.push(this.projectOrthogonally(this.A,n,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],n=Math.abs(this.alpha),r=1/Math.sin(n/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),s=this.options.strokeUniform?N0(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return N0(i)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,n){const r=[],i=new Y(qa.getOrthogonalRotationFactor(this.bisector),qa.getOrthogonalRotationFactor(new Y(this.bisector.y,this.bisector.x)));return[new Y(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new Y(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(s=>{KE(s,e,n)&&r.push(this.A.add(s))}),r}projectRoundWithSkew(e,n){const r=[],{skewX:i,skewY:s,scaleX:o,scaleY:a,strokeUniform:l}=this.options,c=new Y(Math.tan(pt(i)),Math.tan(pt(s))),u=this.strokeProjectionMagnitude,d=l?u/a/Math.sqrt(1/a**2+1/o**2*c.y**2):u/Math.sqrt(1+c.y**2),h=new Y(Math.sqrt(Math.max(u**2-d**2,0)),d),f=l?u/Math.sqrt(1+c.x**2*(1/a)**2/(1/o+1/o*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),p=new Y(f,Math.sqrt(Math.max(u**2-f**2,0)));return[p,p.scalarMultiply(-1),h,h.scalarMultiply(-1)].map(g=>this.applySkew(l?g.multiply(this.strokeUniformScalar):g)).forEach(g=>{KE(g,e,n)&&r.push(this.applySkew(this.A).add(g))}),r}projectRound(){const e=[];e.push(...this.projectBevel());const n=this.alpha%uf==0,r=this.applySkew(this.A),i=e[n?0:2].subtract(r),s=e[n?1:0].subtract(r),o=n?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=Nc(i,o)>0,l=a?i:s,c=a?s:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class t1 extends EA{constructor(e,n,r){super(r),this.A=new Y(e),this.T=new Y(n)}calcOrthogonalProjection(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,n);return this.scaleUnitVector(pA(i),r)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const n=new Y(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(n)),this.applySkew(this.A.subtract(n)))}else e.push(...new qa(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const n=new Y(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(n),this.A.subtract(n))}else{const n=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),r=this.scaleUnitVector(Hb(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(r);e.push(i.add(n),i.subtract(n))}return e.map(n=>this.applySkew(n))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const wB=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=[];if(t.length===0)return r;const i=t.reduce((s,o)=>(s[s.length-1].eq(o)||s.push(new Y(o)),s),[new Y(t[0])]);if(i.length===1)n=!0;else if(!n){const s=i[0],o=((a,l)=>{for(let c=a.length-1;c>=0;c--)if(l(a[c],c,a))return c;return-1})(i,a=>!a.eq(s));i.splice(o+1)}return i.forEach((s,o,a)=>{let l,c;o===0?(c=a[1],l=n?s:a[a.length-1]):o===a.length-1?(l=a[o-1],c=n?s:a[0]):(l=a[o-1],c=a[o+1]),n&&a.length===1?r.push(...new t1(s,s,e).project()):!n||o!==0&&o!==a.length-1?r.push(...new qa(s,l,c,e).project()):r.push(...new t1(s,o===0?c:l,e).project())}),r},$b=t=>{const e={};return Object.keys(t).forEach(n=>{e[n]={},Object.keys(t[n]).forEach(r=>{e[n][r]=B({},t[n][r])})}),e},TB=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let rc;const Gb=t=>{if(rc||rc||(rc="Intl"in pp()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),rc){const e=rc.segment(t);return Array.from(e).map(n=>{let{segment:r}=n;return r})}return xB(t)},xB=t=>{const e=[];for(let n,r=0;r<t.length;r++)(n=SB(t,r))!==!1&&e.push(n);return e},SB=(t,e)=>{const n=t.charCodeAt(e);if(isNaN(n))return"";if(n<55296||n>57343)return t.charAt(e);if(55296<=n&&n<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1},Yb=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||n&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},CB=(t,e)=>{const n=e.split(`
`),r=[];let i=-1,s={};t=$b(t);for(let o=0;o<n.length;o++){const a=Gb(n[o]);if(t[o])for(let l=0;l<a.length;l++){i++;const c=t[o][l];c&&Object.keys(c).length>0&&(Yb(s,c,!0)?r.push({start:i,end:i+1,style:c}):r[r.length-1].end++),s=c||{}}else i+=a.length,s={}}return r},kB=(t,e)=>{if(!Array.isArray(t))return $b(t);const n=e.split(Db),r={};let i=-1,s=0;for(let o=0;o<n.length;o++){const a=Gb(n[o]);for(let l=0;l<a.length;l++)i++,t[s]&&t[s].start<=i&&i<t[s].end&&(r[o]=r[o]||{},r[o][l]=B({},t[s].style),i===t[s].end-1&&s++)}return r},Zs=["display","transform",Rt,"fill-opacity","fill-rule","opacity",In,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function n1(t,e){const n=t.nodeName,r=t.getAttribute("class"),i=t.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+n,"i"),e=e.replace(o,""),i&&e.length&&(o=new RegExp("#"+i+s,"i"),e=e.replace(o,"")),r&&e.length){const a=r.split(" ");for(let l=a.length;l--;)o=new RegExp("\\."+a[l]+s,"i"),e=e.replace(o,"")}return e.length===0}function AB(t,e){let n=!0;const r=n1(t,e.pop());return r&&e.length&&(n=function(i,s){let o,a=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)a&&(o=s.pop()),a=n1(i=i.parentElement,o);return s.length===0}(t,e)),r&&n&&e.length===0}const OB=t=>{var e;return(e=H6[t])!==null&&e!==void 0?e:t},RB=new RegExp("(".concat(Fr,")"),"gi"),NB=t=>t.replace(RB," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var r1,i1,s1,o1,a1,l1,c1;const un="(".concat(Fr,")"),IB=String.raw(r1||(r1=bi(["(skewX)(",")"],["(skewX)\\(","\\)"])),un),DB=String.raw(i1||(i1=bi(["(skewY)(",")"],["(skewY)\\(","\\)"])),un),PB=String.raw(s1||(s1=bi(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),un,un,un),MB=String.raw(o1||(o1=bi(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),un,un),LB=String.raw(a1||(a1=bi(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),un,un),FB=String.raw(l1||(l1=bi(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),un,un,un,un,un,un),Vb="(?:".concat(FB,"|").concat(LB,"|").concat(PB,"|").concat(MB,"|").concat(IB,"|").concat(DB,")"),BB="(?:".concat(Vb,"*)"),UB=String.raw(c1||(c1=bi(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),BB),jB=new RegExp(UB),HB=new RegExp(Vb),WB=new RegExp(Vb,"g");function D0(t){const e=[];if(!(t=NB(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!jB.test(t))return[...fn];for(const n of t.matchAll(WB)){const r=HB.exec(n[0]);if(!r)continue;let i=fn;const s=r.filter(p=>!!p),[,o,...a]=s,[l,c,u,d,h,f]=a.map(p=>parseFloat(p));switch(o){case"translate":i=Lu(l,c);break;case Pb:i=Dl({angle:l},{x:c,y:u});break;case mp:i=Fb(l,c);break;case Nl:i=Xk(l);break;case Il:i=Qk(l);break;case"matrix":i=[l,c,u,d,h,f]}e.push(i)}return Lb(e)}function zB(t,e,n,r){const i=Array.isArray(e);let s,o=e;if(t!==Rt&&t!==In||e!==Nn){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")o=e===Nn?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")o=n&&n.transformMatrix?jt(n.transformMatrix,D0(e)):D0(e);else if(t==="visible")o=e!==Nn&&e!=="hidden",n&&n.visible===!1&&(o=!1);else if(t==="opacity")o=parseFloat(e),n&&n.opacity!==void 0&&(o*=n.opacity);else if(t==="textAnchor")o=e==="start"?Me:e==="end"?dt:xe;else if(t==="charSpacing"||t===zo)s=Va(e,r)/r*1e3;else if(t==="paintFirst"){const a=e.indexOf(Rt),l=e.indexOf(In);o=Rt,(a>-1&&l>-1&&l<a||a===-1&&l>-1)&&(o=In)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";s=i?e.map(Va):Va(e,r)}}else o="";return!i&&isNaN(s)?o:s}function $B(t,e){const n=t.match(j6);if(!n)return;const r=n[1],i=n[3],s=n[4],o=n[5],a=n[6];r&&(e.fontStyle=r),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=Va(s)),a&&(e.fontFamily=a),o&&(e.lineHeight=o==="normal"?1:o)}function GB(t,e){t.replace(/;\s*$/,"").split(";").forEach(n=>{if(!n)return;const[r,i]=n.split(":");e[r.trim().toLowerCase()]=i.trim()})}function YB(t){const e={},n=t.getAttribute("style");return n&&(typeof n=="string"?GB(n,e):function(r,i){Object.entries(r).forEach(s=>{let[o,a]=s;a!==void 0&&(i[o.toLowerCase()]=a)})}(n,e)),e}const VB={stroke:"strokeOpacity",fill:"fillOpacity"};function Qi(t,e,n){if(!t)return{};let r,i={},s=Ib;t.parentNode&&qE.test(t.parentNode.nodeName)&&(i=Qi(t.parentElement,e,n),i.fontSize&&(r=s=Va(i.fontSize)));const o=B(B(B({},e.reduce((c,u)=>{const d=t.getAttribute(u);return d&&(c[u]=d),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={};for(const h in u)AB(c,h.split(" "))&&(d=B(B({},d),u[h]));return d}(t,n)),YB(t));o[Dg]&&t.setAttribute(Dg,o[Dg]),o[Ig]&&(r=Va(o[Ig],s),o[Ig]="".concat(r));const a={};for(const c in o){const u=OB(c),d=zB(u,o[c],i,r);a[u]=d}a&&a.font&&$B(a.font,a);const l=B(B({},i),a);return qE.test(t.nodeName)?l:function(c){const u=Xt.getDefaults();return Object.entries(VB).forEach(d=>{let[h,f]=d;if(c[f]===void 0||c[h]==="")return;if(c[h]===void 0){if(!u[h])return;c[h]=u[h]}if(c[h].indexOf("url(")===0)return;const p=new Pe(c[h]);c[h]=p.setAlpha(Ge(p.getAlpha()*c[f],2)).toRgba()}),c}(l)}const qB=["left","top","width","height","visible"],wA=["rx","ry"];class ni extends Xt{static getDefaults(){return B(B({},super.getDefaults()),ni.ownDefaults)}constructor(e){super(),Object.assign(this,ni.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:n}=this;e&&!n?this.ry=e:n&&!e&&(this.rx=n)}_render(e){const{width:n,height:r}=this,i=-n/2,s=-r/2,o=this.rx?Math.min(this.rx,n/2):0,a=this.ry?Math.min(this.ry,r/2):0,l=o!==0||a!==0;e.beginPath(),e.moveTo(i+o,s),e.lineTo(i+n-o,s),l&&e.bezierCurveTo(i+n-us*o,s,i+n,s+us*a,i+n,s+a),e.lineTo(i+n,s+r-a),l&&e.bezierCurveTo(i+n,s+r-us*a,i+n-us*o,s+r,i+n-o,s+r),e.lineTo(i+o,s+r),l&&e.bezierCurveTo(i+us*o,s+r,i,s+r-us*a,i,s+r-a),e.lineTo(i,s+a),l&&e.bezierCurveTo(i,s+us*a,i+us*o,s,i+o,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...wA,...e])}_toSVG(){const{width:e,height:n,rx:r,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-n/2,'" rx="').concat(r,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(n,`" />
`)]}static async fromElement(e,n,r){const i=Qi(e,this.ATTRIBUTE_NAMES,r),{left:s=0,top:o=0,width:a=0,height:l=0,visible:c=!0}=i,u=Ze(i,qB);return new this(B(B(B({},n),u),{},{left:s,top:o,width:a,height:l,visible:!!(c&&a&&l)}))}}L(ni,"type","Rect"),L(ni,"cacheProperties",[...Xi,...wA]),L(ni,"ownDefaults",{rx:0,ry:0}),L(ni,"ATTRIBUTE_NAMES",[...Zs,"x","y","rx","ry","width","height"]),ce.setClass(ni),ce.setSVGClass(ni);const Pi="initialization",bf="added",qb="removed",vf="imperative",TA=(t,e)=>{const{strokeUniform:n,strokeWidth:r,width:i,height:s,group:o}=e,a=o&&o!==t?vp(o.calcTransformMatrix(),t.calcTransformMatrix()):null,l=a?e.getRelativeCenterPoint().transform(a):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),u=n&&c?D6(new Y(r,r),void 0,t.calcTransformMatrix()):Mb,d=!n&&c?r:0,h=Ub(i+d,s+d,Lb([a,e.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(h),l.add(h)]};class wp{calcLayoutResult(e,n){if(this.shouldPerformLayout(e))return this.calcBoundingBox(n,e)}shouldPerformLayout(e){let{type:n,prevStrategy:r,strategy:i}=e;return n===Pi||n===vf||!!r&&i!==r}shouldLayoutClipPath(e){let{type:n,target:{clipPath:r}}=e;return n!==Pi&&r&&!r.absolutePositioned}getInitialSize(e,n){return n.size}calcBoundingBox(e,n){const{type:r,target:i}=n;if(r===vf&&n.overrides)return n.overrides;if(e.length===0)return;const{left:s,top:o,width:a,height:l}=Fi(e.map(d=>TA(i,d)).reduce((d,h)=>d.concat(h),[])),c=new Y(a,l),u=new Y(s,o).add(c.scalarDivide(2));if(r===Pi){const d=this.getInitialSize(n,{size:c,center:u});return{center:u,relativeCorrection:new Y(0,0),size:d}}return{center:u.transform(i.calcOwnMatrix()),size:c}}}L(wp,"type","strategy");class P0 extends wp{shouldPerformLayout(e){return!0}}L(P0,"type","fit-content"),ce.setClass(P0);const KB=["strategy"],XB=["target","strategy","bubbles","prevStrategy"],xA="layoutManager";class yu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new P0;L(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const n=B(B({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(n);const r=this.getLayoutResult(n);r&&this.commitLayout(n,r),this.onAfterLayout(n,r),this._prevLayoutStrategy=n.strategy}attachHandlers(e,n){const{target:r}=n;return[hf,Hk,hu,Wk,gp,zk,df,v6,_6].map(i=>e.on(i,s=>this.performLayout(i===hf?{type:"object_modified",trigger:i,e:s,target:r}:{type:"object_modifying",trigger:i,e:s,target:r})))}subscribe(e,n){this.unsubscribe(e,n);const r=this.attachHandlers(e,n);this._subscriptions.set(e,r)}unsubscribe(e,n){(this._subscriptions.get(e)||[]).forEach(r=>r()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(n=>this.unsubscribe(n,e))}subscribeTargets(e){e.targets.forEach(n=>this.subscribe(n,e))}onBeforeLayout(e){const{target:n,type:r}=e,{canvas:i}=n;if(r===Pi||r===bf?this.subscribeTargets(e):r===qb&&this.unsubscribeTargets(e),n.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:n,context:e}),r===vf&&e.deep){const s=Ze(e,KB);n.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(B(B({},s),{},{bubbles:!1,target:o})))}}getLayoutResult(e){const{target:n,strategy:r,type:i}=e,s=r.calcLayoutResult(e,n.getObjects());if(!s)return;const o=i===Pi?new Y:n.getRelativeCenterPoint(),{center:a,correction:l=new Y,relativeCorrection:c=new Y}=s,u=o.subtract(a).add(l).transform(i===Pi?fn:Lr(n.calcOwnMatrix()),!0).add(c);return{result:s,prevCenter:o,nextCenter:a,offset:u}}commitLayout(e,n){const{target:r}=e,{result:{size:i},nextCenter:s}=n;var o,a;r.set({width:i.x,height:i.y}),this.layoutObjects(e,n),e.type===Pi?r.set({left:(o=e.x)!==null&&o!==void 0?o:s.x+i.x*Et(r.originX),top:(a=e.y)!==null&&a!==void 0?a:s.y+i.y*Et(r.originY)}):(r.setPositionByOrigin(s,xe,xe),r.setCoords(),r.set("dirty",!0))}layoutObjects(e,n){const{target:r}=e;r.forEachObject(i=>{i.group===r&&this.layoutObject(e,n,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,n,r.clipPath)}layoutObject(e,n,r){let{offset:i}=n;r.set({left:r.left+i.x,top:r.top+i.y})}onAfterLayout(e,n){const{target:r,strategy:i,bubbles:s,prevStrategy:o}=e,a=Ze(e,XB),{canvas:l}=r;r.fire("layout:after",{context:e,result:n}),l&&l.fire("object:layout:after",{context:e,result:n,target:r});const c=r.parent;s&&c!=null&&c.layoutManager&&((a.path||(a.path=[])).push(r),c.layoutManager.performLayout(B(B({},a),{},{target:c}))),r.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(n=>n.forEach(r=>r())),e.clear()}toObject(){return{type:xA,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}ce.setClass(yu,xA);const QB=["type","objects","layoutManager"];class JB extends yu{performLayout(){}}class Po extends $k(Xt){static getDefaults(){return B(B({},super.getDefaults()),Po.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),L(this,"_activeObjects",[]),L(this,"__objectSelectionTracker",void 0),L(this,"__objectSelectionDisposer",void 0),Object.assign(this,Po.ownDefaults),this.setOptions(n),this.groupInit(e,n)}groupInit(e,n){var r;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(r=n.layoutManager)!==null&&r!==void 0?r:new yu,this.layoutManager.performLayout({type:Pi,target:this,targets:[...e],x:n.left,y:n.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(qs("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(qs("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((n,r,i)=>this.canEnterGroup(n)&&i.indexOf(n)===r)}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=this._filterObjectsBeforeEnteringGroup(n),s=super.add(...i);return this._onAfterObjectsChange(bf,i),s}insertAt(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(r),o=super.insertAt(e,...s);return this._onAfterObjectsChange(bf,s),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(qb,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,n){this.exitGroup(e,n),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,n){this.layoutManager.performLayout({type:e,targets:n,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,n){const r=this[e];return super._set(e,n),e==="canvas"&&r!==n&&(this._objects||[]).forEach(i=>{i._set(e,n)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,n){let{target:r}=n;const i=this._activeObjects;if(e)i.push(r),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(r);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(e,n){e&&this._watchObject(!1,n),e?(n.on("selected",this.__objectSelectionTracker),n.on("deselected",this.__objectSelectionDisposer)):(n.off("selected",this.__objectSelectionTracker),n.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,n){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,n)}_enterGroup(e,n){n&&gf(e,jt(Lr(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===e||e.isDescendantOf(r))&&this._activeObjects.push(e)}exitGroup(e,n){this._exitGroup(e,n),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,n){e._set("group",void 0),n||(gf(e,jt(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const r=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;r>-1&&this._activeObjects.splice(r,1)}shouldCache(){const e=Xt.prototype.shouldCache.call(this);if(e){for(let n=0;n<this._objects.length;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,n,r){this._renderBackground(e);for(let s=0;s<this._objects.length;s++){var i;const o=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...Lr(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,r)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(B({target:this,type:vf},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,n){const r=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const s=i.includeDefaultValues;i.includeDefaultValues=r;const o=i[e||"toObject"](n);return i.includeDefaultValues=s,o})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.layoutManager.toObject();return B(B(B({},super.toObject(["subTargetCheck","interactive",...e])),n.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:n}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const n=ni.prototype._toSVG.call(this),r=n.indexOf("COMMON_PARTS");n[r]='for="group" ';const i=n.join("");return e?e(i):i}_toSVG(e){const n=["<g ","COMMON_PARTS",` >
`],r=this._createSVGBgRect(e);r&&n.push("		",r);for(let i=0;i<this._objects.length;i++)n.push("		",this._objects[i].toSVG(e));return n.push(`</g>
`),n}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",n=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),n].join("")}toClipPathSVG(e){const n=[],r=this._createSVGBgRect(e);r&&n.push("	",r);for(let i=0;i<this._objects.length;i++)n.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(n,{reviver:e})}static fromObject(e,n){let{type:r,objects:i=[],layoutManager:s}=e,o=Ze(e,QB);return Promise.all([fu(i,n),bp(o,n)]).then(a=>{let[l,c]=a;const u=new this(l,B(B(B({},o),c),{},{layoutManager:new JB}));if(s){const d=ce.getClass(s.type),h=ce.getClass(s.strategy);u.layoutManager=new d(new h)}else u.layoutManager=new yu;return u.layoutManager.subscribeTargets({type:Pi,target:u,targets:u.getObjects()}),u.setCoords(),u})}}L(Po,"type","Group"),L(Po,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),ce.setClass(Po);const ZB=(t,e)=>Math.min(e.width/t.width,e.height/t.height),e5=(t,e)=>Math.max(e.width/t.width,e.height/t.height),M0="\\s*,?\\s*",ic="".concat(M0,"(").concat(Fr,")"),t5="".concat(ic).concat(ic).concat(ic).concat(M0,"([01])").concat(M0,"([01])").concat(ic).concat(ic),n5={m:"l",M:"L"},r5=(t,e,n,r,i,s,o,a,l,c,u)=>{const d=$i(t),h=Gi(t),f=$i(e),p=Gi(e),g=n*i*f-r*s*p+o,v=r*i*f+n*s*p+a;return["C",c+l*(-n*i*h-r*s*d),u+l*(-r*i*h+n*s*d),g+l*(n*i*p+r*s*f),v+l*(r*i*p-n*s*f),g,v]},u1=(t,e,n,r)=>{const i=Math.atan2(e,t),s=Math.atan2(r,n);return s>=i?s-i:2*Math.PI-(i-s)};function d1(t,e,n,r,i,s,o,a){let l;if(Ie.cachesBoundsOfCurve&&(l=[...arguments].join(),Ac.boundsOfCurveCache[l]))return Ac.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,d=[],h=[[0,0],[0,0]];let f=6*t-12*n+6*i,p=-3*t+9*n-9*i+3*o,g=3*n-3*t;for(let T=0;T<2;++T){if(T>0&&(f=6*e-12*r+6*s,p=-3*e+9*r-9*s+3*a,g=3*r-3*e),u(p)<1e-12){if(u(f)<1e-12)continue;const U=-g/f;0<U&&U<1&&d.push(U);continue}const x=f*f-4*g*p;if(x<0)continue;const w=c(x),C=(-f+w)/(2*p);0<C&&C<1&&d.push(C);const I=(-f-w)/(2*p);0<I&&I<1&&d.push(I)}let v=d.length;const y=v,b=SA(t,e,n,r,i,s,o,a);for(;v--;){const{x:T,y:x}=b(d[v]);h[0][v]=T,h[1][v]=x}h[0][y]=t,h[1][y]=e,h[0][y+1]=o,h[1][y+1]=a;const _=[new Y(Math.min(...h[0]),Math.min(...h[1])),new Y(Math.max(...h[0]),Math.max(...h[1]))];return Ie.cachesBoundsOfCurve&&(Ac.boundsOfCurveCache[l]=_),_}const i5=(t,e,n)=>{let[r,i,s,o,a,l,c,u]=n;const d=((h,f,p,g,v,y,b)=>{if(p===0||g===0)return[];let _=0,T=0,x=0;const w=Math.PI,C=b*Nb,I=Gi(C),U=$i(C),O=.5*(-U*h-I*f),G=.5*(-U*f+I*h),j=p**2,X=g**2,$=G**2,q=O**2,M=j*X-j*$-X*q;let W=Math.abs(p),D=Math.abs(g);if(M<0){const je=Math.sqrt(1-M/(j*X));W*=je,D*=je}else x=(v===y?-1:1)*Math.sqrt(M/(j*$+X*q));const H=x*W*G/D,S=-x*D*O/W,ie=U*H-I*S+.5*h,ee=I*H+U*S+.5*f;let N=u1(1,0,(O-H)/W,(G-S)/D),ae=u1((O-H)/W,(G-S)/D,(-O-H)/W,(-G-S)/D);y===0&&ae>0?ae-=2*w:y===1&&ae<0&&(ae+=2*w);const me=Math.ceil(Math.abs(ae/w*2)),pe=[],ye=ae/me,et=8/3*Math.sin(ye/4)*Math.sin(ye/4)/Math.sin(ye/2);let tt=N+ye;for(let je=0;je<me;je++)pe[je]=r5(N,tt,U,I,W,D,ie,ee,et,_,T),_=pe[je][5],T=pe[je][6],N=tt,tt+=ye;return pe})(c-t,u-e,i,s,a,l,o);for(let h=0,f=d.length;h<f;h++)d[h][1]+=t,d[h][2]+=e,d[h][3]+=t,d[h][4]+=e,d[h][5]+=t,d[h][6]+=e;return d},s5=t=>{let e=0,n=0,r=0,i=0;const s=[];let o,a=0,l=0;for(const c of t){const u=[...c];let d;switch(u[0]){case"l":u[1]+=e,u[2]+=n;case"L":e=u[1],n=u[2],d=["L",e,n];break;case"h":u[1]+=e;case"H":e=u[1],d=["L",e,n];break;case"v":u[1]+=n;case"V":n=u[1],d=["L",e,n];break;case"m":u[1]+=e,u[2]+=n;case"M":e=u[1],n=u[2],r=u[1],i=u[2],d=["M",e,n];break;case"c":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n,u[5]+=e,u[6]+=n;case"C":a=u[3],l=u[4],e=u[5],n=u[6],d=["C",u[1],u[2],a,l,e,n];break;case"s":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n;case"S":o==="C"?(a=2*e-a,l=2*n-l):(a=e,l=n),e=u[3],n=u[4],d=["C",a,l,u[1],u[2],e,n],a=d[3],l=d[4];break;case"q":u[1]+=e,u[2]+=n,u[3]+=e,u[4]+=n;case"Q":a=u[1],l=u[2],e=u[3],n=u[4],d=["Q",a,l,e,n];break;case"t":u[1]+=e,u[2]+=n;case"T":o==="Q"?(a=2*e-a,l=2*n-l):(a=e,l=n),e=u[1],n=u[2],d=["Q",a,l,e,n];break;case"a":u[6]+=e,u[7]+=n;case"A":i5(e,n,u).forEach(h=>s.push(h)),e=u[6],n=u[7];break;case"z":case"Z":e=r,n=i,d=["Z"]}d?(s.push(d),o=d[0]):o=""}return s},_f=(t,e,n,r)=>Math.sqrt((n-t)**2+(r-e)**2),SA=(t,e,n,r,i,s,o,a)=>l=>{const c=l**3,u=(f=>3*f**2*(1-f))(l),d=(f=>3*f*(1-f)**2)(l),h=(f=>(1-f)**3)(l);return new Y(o*c+i*u+n*d+t*h,a*c+s*u+r*d+e*h)},CA=t=>t**2,kA=t=>2*t*(1-t),AA=t=>(1-t)**2,o5=(t,e,n,r,i,s,o,a)=>l=>{const c=CA(l),u=kA(l),d=AA(l),h=3*(d*(n-t)+u*(i-n)+c*(o-i)),f=3*(d*(r-e)+u*(s-r)+c*(a-s));return Math.atan2(f,h)},a5=(t,e,n,r,i,s)=>o=>{const a=CA(o),l=kA(o),c=AA(o);return new Y(i*a+n*l+t*c,s*a+r*l+e*c)},l5=(t,e,n,r,i,s)=>o=>{const a=1-o,l=2*(a*(n-t)+o*(i-n)),c=2*(a*(r-e)+o*(s-r));return Math.atan2(c,l)},h1=(t,e,n)=>{let r=new Y(e,n),i=0;for(let s=1;s<=100;s+=1){const o=t(s/100);i+=_f(r.x,r.y,o.x,o.y),r=o}return i},c5=(t,e)=>{let n,r=0,i=0,s={x:t.x,y:t.y},o=B({},s),a=.01,l=0;const c=t.iterator,u=t.angleFinder;for(;i<e&&a>1e-4;)o=c(r),l=r,n=_f(s.x,s.y,o.x,o.y),n+i>e?(r-=a,a/=2):(s=o,r+=a,i+=n);return B(B({},o),{},{angle:u(l)})},OA=t=>{let e,n,r=0,i=0,s=0,o=0,a=0;const l=[];for(const c of t){const u={x:i,y:s,command:c[0],length:0};switch(c[0]){case"M":n=u,n.x=o=i=c[1],n.y=a=s=c[2];break;case"L":n=u,n.length=_f(i,s,c[1],c[2]),i=c[1],s=c[2];break;case"C":e=SA(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),n=u,n.iterator=e,n.angleFinder=o5(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),n.length=h1(e,i,s),i=c[5],s=c[6];break;case"Q":e=a5(i,s,c[1],c[2],c[3],c[4]),n=u,n.iterator=e,n.angleFinder=l5(i,s,c[1],c[2],c[3],c[4]),n.length=h1(e,i,s),i=c[3],s=c[4];break;case"Z":n=u,n.destX=o,n.destY=a,n.length=_f(i,s,o,a),i=o,s=a}r+=n.length,l.push(n)}return l.push({length:r,x:i,y:s}),l},u5=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OA(t),r=0;for(;e-n[r].length>0&&r<n.length-2;)e-=n[r].length,r++;const i=n[r],s=e/i.length,o=t[r];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return B(B({},new Y(i.x,i.y).lerp(new Y(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return B(B({},new Y(i.x,i.y).lerp(new Y(o[1],o[2]),s)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return c5(i,e)}},d5=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),f1=new RegExp(t5,"g"),h5=new RegExp(Fr,"gi"),f5={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},p5=t=>{var e;const n=[],r=(e=t.match(d5))!==null&&e!==void 0?e:[];for(const i of r){const s=i[0];if(s==="z"||s==="Z"){n.push([s]);continue}const o=f5[s.toLowerCase()];let a=[];if(s==="a"||s==="A"){f1.lastIndex=0;for(let l=null;l=f1.exec(i);)a.push(...l.slice(1))}else a=i.match(h5)||[];for(let l=0;l<a.length;l+=o){const c=new Array(o),u=n5[s];c[0]=l>0&&u?u:s;for(let d=0;d<o;d++)c[d+1]=parseFloat(a[l+d]);n.push(c)}}return n},g5=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=new Y(t[0]),r=new Y(t[1]),i=1,s=0;const o=[],a=t.length,l=a>2;let c;for(l&&(i=t[2].x<r.x?-1:t[2].x===r.x?0:1,s=t[2].y<r.y?-1:t[2].y===r.y?0:1),o.push(["M",n.x-i*e,n.y-s*e]),c=1;c<a;c++){if(!n.eq(r)){const u=n.midPointFrom(r);o.push(["Q",n.x,n.y,u.x,u.y])}n=t[c],c+1<t.length&&(r=t[c+1])}return l&&(i=n.x>t[c-2].x?1:n.x===t[c-2].x?0:-1,s=n.y>t[c-2].y?1:n.y===t[c-2].y?0:-1),o.push(["L",n.x+i*e,n.y+s*e]),o},RA=(t,e)=>t.map(n=>n.map((r,i)=>i===0||e===void 0?r:Ge(r,e)).join(" ")).join(" ");function L0(t,e){const n=t.style;n&&e&&(typeof e=="string"?n.cssText+=";"+e:Object.entries(e).forEach(r=>{let[i,s]=r;return n.setProperty(i,s)}))}class m5 extends tA{constructor(e){let{allowTouchScrolling:n=!1,containerClass:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),L(this,"upper",void 0),L(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:n}),this.applyCanvasStyle(s,{allowTouchScrolling:n,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(r),i.parentNode&&i.parentNode.replaceChild(o,i),o.append(i,s),this.container=o}createUpperCanvas(){const{el:e}=this.lower,n=Yi();return n.className=e.className,n.classList.remove("lower-canvas"),n.classList.add("upper-canvas"),n.setAttribute("data-fabric","top"),n.style.cssText=e.style.cssText,n.setAttribute("draggable","true"),n}createContainerElement(){const e=Rl().createElement("div");return e.setAttribute("data-fabric","wrapper"),L0(e,{position:"relative"}),BE(e),e}applyCanvasStyle(e,n){const{styles:r,allowTouchScrolling:i}=n;L0(e,B(B({},r),{},{"touch-action":i?"manipulation":Nn})),BE(e)}setDimensions(e,n){super.setDimensions(e,n);const{el:r,ctx:i}=this.upper;eA(r,i,e,n)}setCSSDimensions(e){super.setCSSDimensions(e),A0(this.upper.el,e),A0(this.container,e)}cleanupDOM(e){const n=this.container,{el:r}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),n.removeChild(i),n.removeChild(r),n.parentNode&&n.parentNode.replaceChild(r,n)}dispose(){super.dispose(),pi().dispose(this.upper.el),delete this.upper,delete this.container}}class Tp extends Fu{constructor(){super(...arguments),L(this,"targets",[]),L(this,"_hoveredTargets",[]),L(this,"_objectsToRender",void 0),L(this,"_currentTransform",null),L(this,"_groupSelector",null),L(this,"contextTopDirty",!1)}static getDefaults(){return B(B({},super.getDefaults()),Tp.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new m5(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(n=>!n.group&&n!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const n=this.getRetinaScaling(),r=Math.ceil((2*e+1)*n);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(n,n)}isTargetTransparent(e,n,r){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-n+i,-r+i),s.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=o,s.restore();const a=Math.round(i*this.getRetinaScaling());return _B(s,a,a,a)}_isSelectionKeyPressed(e){const n=this.selectionKey;return!!n&&(Array.isArray(n)?!!n.find(r=>!!r&&e[r]===!0):e[n])}_shouldClearSelection(e,n){const r=this.getActiveObjects(),i=this._activeObject;return!!(!n||n&&i&&r.length>1&&r.indexOf(n)===-1&&i!==n&&!this._isSelectionKeyPressed(e)||n&&!n.evented||n&&!n.selectable&&i&&i!==n)}_shouldCenterTransform(e,n,r){if(!e)return;let i;return n===mp||n===Dn||n===hr||n===hu?i=this.centeredScaling||e.centeredScaling:n===Pb&&(i=this.centeredRotation||e.centeredRotation),i?!r:r}_getOriginFromCorner(e,n){const r={x:e.originX,y:e.originY};return n&&(["ml","tl","bl"].includes(n)?r.x=dt:["mr","tr","br"].includes(n)&&(r.x=Me),["tl","mt","tr"].includes(n)?r.y=k0:["bl","mb","br"].includes(n)&&(r.y=Rn)),r}_setupCurrentTransform(e,n,r){var i;const s=n.group?Ya(this.getScenePoint(e),void 0,n.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:a}=n.getActiveControl()||{},l=r&&a?(i=a.getActionHandler(e,n,a))===null||i===void 0?void 0:i.bind(a):L6,c=((f,p,g,v)=>{if(!p||!f)return"drag";const y=v.controls[p];return y.getActionName(g,y,v)})(r,o,e,n),u=e[this.centeredKey],d=this._shouldCenterTransform(n,c,u)?{x:xe,y:xe}:this._getOriginFromCorner(n,o),h={target:n,action:c,actionHandler:l,actionPerformed:!1,corner:o,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:s.x-n.left,offsetY:s.y-n.top,originX:d.x,originY:d.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:pt(n.angle),width:n.width,height:n.height,shiftKey:e.shiftKey,altKey:u,original:B(B({},nA(n)),{},{originX:d.x,originY:d.y})};this._currentTransform=h,this.fire("before:transform",{e,transform:h})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:n,y:r,deltaX:i,deltaY:s}=this._groupSelector,o=new Y(n,r).transform(this.viewportTransform),a=new Y(n+i,r+s).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(o.x,a.x),u=Math.min(o.y,a.y),d=Math.max(o.x,a.x),h=Math.max(o.y,a.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,u,d-c,h-u)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,u+=l,d-=l,h-=l,Xt.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,u,d-c,h-u))}findTarget(e){if(this.skipTargetFind)return;const n=this.getViewportPoint(e),r=this._activeObject,i=this.getActiveObjects();if(this.targets=[],r&&i.length>=1){if(r.findControl(n,O0(e))||i.length>1&&this.searchPossibleTargets([r],n))return r;if(r===this.searchPossibleTargets([r],n)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,n);return e[this.altSelectionKey]&&o&&o!==r?(this.targets=s,r):o}return r}}return this.searchPossibleTargets(this._objects,n)}_pointIsInObjectSelectionArea(e,n){let r=e.getCoords();const i=this.getZoom(),s=e.padding/i;if(s){const[o,a,l,c]=r,u=Math.atan2(a.y-o.y,a.x-o.x),d=$i(u)*s,h=Gi(u)*s,f=d+h,p=d-h;r=[new Y(o.x-p,o.y-f),new Y(a.x+f,a.y-p),new Y(l.x+p,l.y+f),new Y(c.x-f,c.y+p)]}return it.isPointInPolygon(n,r)}_checkTarget(e,n){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Ya(n,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,n.x,n.y)))}_searchPossibleTargets(e,n){let r=e.length;for(;r--;){const i=e[r];if(this._checkTarget(i,n)){if(Sh(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,n);s&&this.targets.push(s)}return i}}}searchPossibleTargets(e,n){const r=this._searchPossibleTargets(e,n);if(r&&Sh(r)&&r.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const o=i[s];if(!Sh(o)||!o.interactive)return o}return i[0]}return r}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.upperCanvasEl,i=r.getBoundingClientRect();let s=O6(e),o=i.width||0,a=i.height||0;o&&a||(Rn in i&&k0 in i&&(a=Math.abs(i.top-i.bottom)),dt in i&&Me in i&&(o=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,n||(s=Ya(s,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(s.x/=l,s.y/=l);const c=o===0||a===0?new Y(1,1):new Y(r.width/o,r.height/a);return s.multiply(c)}_setDimensionsImpl(e,n){this._resetTransformEventData(),super._setDimensionsImpl(e,n),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Yi(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return ho(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,n){let r=!1,i=!1;const s=this.getActiveObjects(),o=[],a=[];e.forEach(l=>{s.includes(l)||(r=!0,l.fire("deselected",{e:n,target:l}),a.push(l))}),s.forEach(l=>{e.includes(l)||(r=!0,l.fire("selected",{e:n,target:l}),o.push(l))}),e.length>0&&s.length>0?(i=!0,r&&this.fire("selection:updated",{e:n,selected:o,deselected:a})):s.length>0?(i=!0,this.fire("selection:created",{e:n,selected:o})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:n,deselected:a})),i&&(this._objectsToRender=void 0)}setActiveObject(e,n){const r=this.getActiveObjects(),i=this._setActiveObject(e,n);return this._fireSelectionEvents(r,n),i}_setActiveObject(e,n){const r=this._activeObject;return r!==e&&!(!this._discardActiveObject(n,e)&&this._activeObject)&&!e.onSelect({e:n})&&(this._activeObject=e,ho(e)&&r!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,n){const r=this._activeObject;return!!r&&!r.onDeselect({e,object:n})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(e),ho(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const n=this.getActiveObjects(),r=this.getActiveObject();n.length&&this.fire("before:selection:cleared",{e,deselected:[r]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(n,e),i}endCurrentTransform(e){const n=this._currentTransform;this._finalizeCurrentTransform(e),n&&n.target&&(n.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const n=this._currentTransform,r=n.target,i={e,target:r,transform:n,action:n.action};r._scaling&&(r._scaling=!1),r.setCoords(),n.actionPerformed&&(this.fire("object:modified",i),r.fire(hf,i))}setViewportTransform(e){super.setViewportTransform(e);const n=this._activeObject;n&&n.setCoords()}destroy(){const e=this._activeObject;ho(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const n=this._activeObject;n&&n._renderControls(e)}_toObject(e,n,r){const i=this._realizeGroupTransformOnObject(e),s=super._toObject(e,n,r);return e.set(i),s}_realizeGroupTransformOnObject(e){const{group:n}=e;if(n&&ho(n)&&this._activeObject===n){const r=Pl(e,["angle","flipX","flipY",Me,Dn,hr,Nl,Il,Rn]);return N6(e,n.calcOwnMatrix()),r}return{}}_setSVGObject(e,n,r){const i=this._realizeGroupTransformOnObject(n);super._setSVGObject(e,n,r),n.set(i)}}L(Tp,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class y5{constructor(e){L(this,"targets",[]),L(this,"__disposer",void 0);const n=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},r=e.upperCanvasEl;r.addEventListener("click",n),this.__disposer=()=>r.removeEventListener("click",n)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),ga(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var n;!((n=this.target)===null||n===void 0)&&n.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const b5=["target","oldTarget","fireCanvas","e"],Ln={passive:!1},oa=(t,e)=>{const n=t.getViewportPoint(e),r=t.getScenePoint(e);return{viewportPoint:n,scenePoint:r,pointer:n,absolutePointer:r}},ds=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.addEventListener(...n)},er=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.removeEventListener(...n)},v5={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class F0 extends Tp{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),L(this,"_isClick",void 0),L(this,"textEditingManager",new y5(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(n=>{this[n]=this[n].bind(this)}),this.addOrRemove(ds,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,n){const r=this.upperCanvasEl,i=this._getEventPrefix();e(Zk(r),"resize",this._onResize),e(r,i+"down",this._onMouseDown),e(r,"".concat(i,"move"),this._onMouseMove,Ln),e(r,"".concat(i,"out"),this._onMouseOut),e(r,"".concat(i,"enter"),this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"click",this._onClick),e(r,"dblclick",this._onClick),e(r,"dragstart",this._onDragStart),e(r,"dragend",this._onDragEnd),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,Ln)}removeListeners(){this.addOrRemove(er,"remove");const e=this._getEventPrefix(),n=Pr(this.upperCanvasEl);er(n,"".concat(e,"up"),this._onMouseUp),er(n,"touchend",this._onTouchEnd,Ln),er(n,"".concat(e,"move"),this._onMouseMove,Ln),er(n,"touchmove",this._onMouseMove,Ln),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const n=this._hoveredTarget,r=B({e},oa(this,e));this.fire("mouse:out",B(B({},r),{},{target:n})),this._hoveredTarget=void 0,n&&n.fire("mouseout",B({},r)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",B(B({},r),{},{target:i})),i&&i.fire("mouseout",B({},r))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",B({e},oa(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const n=this.getActiveObject();if(n&&n.onDragStart(e)){this._dragSource=n;const r={e,target:n};return this.fire("dragstart",r),n.fire("dragstart",r),void ds(this.upperCanvasEl,"drag",this._onDragProgress)}UE(e)}_renderDragEffects(e,n,r){let i=!1;const s=this._dropTarget;s&&s!==n&&s!==r&&(s.clearContextTop(),i=!0),n==null||n.clearContextTop(),r!==n&&(r==null||r.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),n&&(o.save(),n.transform(o),n.renderDragSourceEffect(e),o.restore(),i=!0),r&&(o.save(),r.transform(o),r.renderDropTargetEffect(e),o.restore(),i=!0),o.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const n=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Nn,r=n?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:n,dropTarget:r};er(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const n={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",n),this._dragSource&&this._dragSource.fire("drag",n)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const n="dragover",{target:r,targets:i}=this.findDragTargets(e),s=this._dragSource,o={e,target:r,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let a;this.fire(n,o),this._fireEnterLeaveEvents(r,o),r&&(r.canDrop(e)&&(a=r),r.fire(n,o));for(let l=0;l<i.length;l++){const c=i[l];c.canDrop(e)&&(a=c),c.fire(n,o)}this._renderDragEffects(e,s,a),this._dropTarget=a}_onDragEnter(e){const{target:n,targets:r}=this.findDragTargets(e),i={e,target:n,subTargets:r,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(n,i)}_onDragLeave(e){const n={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",n),this._fireEnterLeaveEvents(void 0,n),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:n,targets:r}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",B({e,target:n,subTargets:r,dragSource:this._dragSource},oa(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const n=this.findTarget(e),r=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:n,subTargets:r});return this.stopContextMenu&&UE(e),this._basicEventHandler("contextmenu",i),!1}_onClick(e){const n=e.detail;n>3||n<2||(this._cacheTransformEventData(e),n==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),n==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const n=e.changedTouches;return n?n[0]&&n[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let n=!this.allowTouchScrolling;const r=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||r&&this._target===r)&&(n=!0),n&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),o=Pr(i);ds(o,"touchend",this._onTouchEnd,Ln),n&&ds(o,"touchmove",this._onMouseMove,Ln),er(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const n=this.upperCanvasEl,r=this._getEventPrefix();er(n,"".concat(r,"move"),this._onMouseMove,Ln);const i=Pr(n);ds(i,"".concat(r,"up"),this._onMouseUp),ds(i,"".concat(r,"move"),this._onMouseMove,Ln)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const n=this._getEventPrefix(),r=Pr(this.upperCanvasEl);er(r,"touchend",this._onTouchEnd,Ln),er(r,"touchmove",this._onMouseMove,Ln),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{ds(this.upperCanvasEl,"".concat(n,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const n=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(e)){const i=Pr(this.upperCanvasEl);er(i,"".concat(r,"up"),this._onMouseUp),er(i,"".concat(r,"move"),this._onMouseMove,Ln),ds(n,"".concat(r,"move"),this._onMouseMove,Ln)}}_onMouseMove(e){const n=this.getActiveObject();!this.allowTouchScrolling&&(!n||!n.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const n=this.getActiveObject();return!!n!=!!e||n&&e&&n!==e}__onMouseUp(e){var n;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const r=this._currentTransform,i=this._isClick,s=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let a,l,c=!1;if(r&&(this._finalizeCurrentTransform(e),c=r.actionPerformed),!i){const u=s===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(s)||!u&&s===this._activeObject)}if(s){const u=s.findControl(this.getViewportPoint(e),O0(e)),{key:d,control:h}=u||{};if(l=d,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),c=!0;else if(h){const f=h.getMouseUpHandler(e,s,h);f&&(a=this.getScenePoint(e),f.call(h,e,r,a.x,a.y))}s.isMoving=!1}if(r&&(r.target!==s||r.corner!==l)){const u=r.target&&r.target.controls[r.corner],d=u&&u.getMouseUpHandler(e,r.target,u);a=a||this.getScenePoint(e),d&&d.call(u,e,r,a.x,a.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),c?this.requestRenderAll():i||(n=this._activeObject)!==null&&n!==void 0&&n.isEditing||this.renderTop()}_basicEventHandler(e,n){const{target:r,subTargets:i=[]}=n;this.fire(e,n),r&&r.fire(e,n);for(let s=0;s<i.length;s++)i[s]!==r&&i[s].fire(e,n);return n}_handleEvent(e,n,r){const i=this._target,s=this.targets||[],o=B(B(B({e,target:i,subTargets:s},oa(this,e)),{},{transform:this._currentTransform},n==="up:before"||n==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),n==="down:before"||n==="down"?r:{});this.fire("mouse:".concat(n),o),i&&i.fire("mouse".concat(n),o);for(let a=0;a<s.length;a++)s[a]!==i&&s[a].fire("mouse".concat(n),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const n=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(n,{e,pointer:n}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const n=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(n,{e,pointer:n})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const n=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:n}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let n=this._target,r=!!n&&n===this._activeObject;const{button:i}=e;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(e,"down",{alreadySelected:r}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let s=this._shouldRender(n),o=!1;if(this.handleMultiSelection(e,n)?(n=this._activeObject,o=!0,s=!0):this._shouldClearSelection(e,n)&&this.discardActiveObject(e),this.selection&&(!n||!n.selectable&&!n.isEditing&&n!==this._activeObject)){const a=this.getScenePoint(e);this._groupSelector={x:a.x,y:a.y,deltaY:0,deltaX:0}}if(r=!!n&&n===this._activeObject,n){n.selectable&&n.activeOn==="down"&&this.setActiveObject(n,e);const a=n.findControl(this.getViewportPoint(e),O0(e));if(n===this._activeObject&&(a||!o)){this._setupCurrentTransform(e,n,r);const l=a?a.control:void 0,c=this.getScenePoint(e),u=l&&l.getMouseDownHandler(e,n,l);u&&u.call(l,e,this._currentTransform,c.x,c.y)}}s&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:r}),s&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Ya(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const n=this._groupSelector;if(n){const r=this.getScenePoint(e);n.deltaX=r.x-n.x,n.deltaY=r.y-n.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const r=this.findTarget(e);this._setCursorFromEvent(e,r),this._fireOverOutEvents(e,r)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,n){const r=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:n,oldTarget:r,fireCanvas:!0});for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("mouse",{e,target:s[a],oldTarget:i[a]});this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,n){const r=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",B(B({},n),{},{target:e,oldTarget:r,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",B(B({},n),{},{target:s[a],oldTarget:i[a]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,n){let{target:r,oldTarget:i,fireCanvas:s,e:o}=n,a=Ze(n,b5);const{targetIn:l,targetOut:c,canvasIn:u,canvasOut:d}=v5[e],h=i!==r;if(i&&h){const f=B(B({},a),{},{e:o,target:i,nextTarget:r},oa(this,o));s&&this.fire(d,f),i.fire(c,f)}if(r&&h){const f=B(B({},a),{},{e:o,target:r,previousTarget:i},oa(this,o));s&&this.fire(u,f),r.fire(l,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const n=this.getScenePoint(e),r=this._currentTransform,i=r.target,s=i.group?Ya(n,void 0,i.group.calcTransformMatrix()):n;r.shiftKey=e.shiftKey,r.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,r,s),r.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,n,r){const{action:i,actionHandler:s,target:o}=n,a=!!s&&s(e,n,r.x,r.y);a&&o.setCoords(),i==="drag"&&a&&(n.target.isMoving=!0,this.setCursor(n.target.moveCursor||this.moveCursor)),n.actionPerformed=n.actionPerformed||a}_setCursorFromEvent(e,n){if(!n)return void this.setCursor(this.defaultCursor);let r=n.hoverCursor||this.hoverCursor;const i=ho(this._activeObject)?this._activeObject:null,s=(!i||n.group!==i)&&n.findControl(this.getViewportPoint(e));if(s){const o=s.control;this.setCursor(o.cursorStyleHandler(e,o,n))}else n.subTargetCheck&&this.targets.concat().reverse().map(o=>{r=o.hoverCursor||r}),this.setCursor(r)}handleMultiSelection(e,n){const r=this._activeObject,i=ho(r);if(r&&this._isSelectionKeyPressed(e)&&this.selection&&n&&n.selectable&&(r!==n||i)&&(i||!n.isDescendantOf(r)&&!r.isDescendantOf(n))&&!n.onSelect({e})&&!r.getActiveControl()){if(i){const s=r.getObjects();if(n===r){const o=this.getViewportPoint(e);if(!(n=this.searchPossibleTargets(s,o)||this.searchPossibleTargets(this._objects,o))||!n.selectable)return!1}n.group===r?(r.remove(n),this._hoveredTarget=n,this._hoveredTargets=[...this.targets],r.size()===1&&this._setActiveObject(r.item(0),e)):(r.multiSelectAdd(n),this._hoveredTarget=r,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{r.isEditing&&r.exitEditing();const s=new(ce.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(r,n),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([r],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:n,y:r,deltaX:i,deltaY:s}=this._groupSelector,o=new Y(n,r),a=o.add(new Y(i,s)),l=o.min(a),c=o.max(a).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),d=o.eq(a)?u[0]?[u[0]]:[]:u.length>1?u.filter(h=>!h.onSelect({e})).reverse():u;if(d.length===1)this.setActiveObject(d[0],e);else if(d.length>1){const h=ce.getClass("ActiveSelection");this.setActiveObject(new h(d,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const NA={x1:0,y1:0,x2:0,y2:0},_5=B(B({},NA),{},{r1:0,r2:0}),Ma=(t,e)=>isNaN(t)&&typeof e=="number"?e:t,E5=/^(\d+\.\d+)%|(\d+)%$/;function IA(t){return t&&E5.test(t)}function DA(t,e){const n=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(IA(t)?100:1):NaN;return gl(0,Ma(n,e),1)}const w5=/\s*;\s*/,T5=/\s*:\s*/;function x5(t,e){let n,r;const i=t.getAttribute("style");if(i){const o=i.split(w5);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){const[l,c]=o[a].split(T5).map(u=>u.trim());l==="stop-color"?n=c:l==="stop-opacity"&&(r=c)}}const s=new Pe(n||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:DA(t.getAttribute("offset"),0),color:s.toRgb(),opacity:Ma(parseFloat(r||t.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function S5(t,e){const n=[],r=t.getElementsByTagName("stop"),i=DA(e,1);for(let s=r.length;s--;)n.push(x5(r[s],i));return n}function PA(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function MA(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function wr(t,e){return t.getAttribute(e)}function C5(t,e){return function(n,r){let i,{width:s,height:o,gradientUnits:a}=r;return Object.keys(n).reduce((l,c)=>{const u=n[c];return u==="Infinity"?i=1:u==="-Infinity"?i=0:(i=typeof u=="string"?parseFloat(u):u,typeof u=="string"&&IA(u)&&(i*=.01,a==="pixels"&&(c!=="x1"&&c!=="x2"&&c!=="r2"||(i*=s),c!=="y1"&&c!=="y2"||(i*=o)))),l[c]=i,l},{})}(PA(t)==="linear"?function(n){return{x1:wr(n,"x1")||0,y1:wr(n,"y1")||0,x2:wr(n,"x2")||"100%",y2:wr(n,"y2")||0}}(t):function(n){return{x1:wr(n,"fx")||wr(n,"cx")||"50%",y1:wr(n,"fy")||wr(n,"cy")||"50%",r1:0,x2:wr(n,"cx")||"50%",y2:wr(n,"cy")||"50%",r2:wr(n,"r")||"50%"}}(t),B(B({},e),{},{gradientUnits:MA(t)}))}class Cd{constructor(e){const{type:n="linear",gradientUnits:r="pixels",coords:i={},colorStops:s=[],offsetX:o=0,offsetY:a=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:n,gradientUnits:r,coords:B(B({},n==="radial"?_5:NA),i),colorStops:s,offsetX:o,offsetY:a,gradientTransform:l,id:c?"".concat(c,"_").concat(Ks()):Ks()})}addColorStop(e){for(const n in e){const r=new Pe(e[n]);this.colorStops.push({offset:parseFloat(n),color:r.toRgb(),opacity:r.getAlpha()})}return this}toObject(e){return B(B({},Pl(this,e)),{},{type:this.type,coords:B({},this.coords),colorStops:this.colorStops.map(n=>B({},n)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],i=this.gradientTransform?this.gradientTransform.concat():fn.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(d=>B({},d)).sort((d,h)=>d.offset-h.offset);let a=-this.offsetX,l=-this.offsetY;var c;s==="objectBoundingBox"?(a/=e.width,l/=e.height):(a+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=e.pathOffset.x,l-=e.pathOffset.y),i[4]-=a,i[5]-=l;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(n?n+" ":"").concat(pu(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:d,y1:h,x2:f,y2:p}=this.coords;r.push("<linearGradient ",u,' x1="',d,'" y1="',h,'" x2="',f,'" y2="',p,`">
`)}else if(this.type==="radial"){const{x1:d,y1:h,x2:f,y2:p,r1:g,r2:v}=this.coords,y=g>v;r.push("<radialGradient ",u,' cx="',y?d:f,'" cy="',y?h:p,'" r="',y?g:v,'" fx="',y?f:d,'" fy="',y?p:h,`">
`),y&&(o.reverse(),o.forEach(_=>{_.offset=1-_.offset}));const b=Math.min(g,v);if(b>0){const _=b/Math.max(g,v);o.forEach(T=>{T.offset+=_*(1-T.offset)})}}return o.forEach(d=>{let{color:h,offset:f,opacity:p}=d;r.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',h,p!==void 0?";stop-opacity: "+p:";",`"/>
`)}),r.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),r.join("")}toLive(e){const{x1:n,y1:r,x2:i,y2:s,r1:o,r2:a}=this.coords,l=this.type==="linear"?e.createLinearGradient(n,r,i,s):e.createRadialGradient(n,r,o,i,s,a);return this.colorStops.forEach(c=>{let{color:u,opacity:d,offset:h}=c;l.addColorStop(h,d!==void 0?new Pe(u).setAlpha(d).toRgba():u)}),l}static async fromObject(e){const{colorStops:n,gradientTransform:r}=e;return new this(B(B({},e),{},{colorStops:n?n.map(i=>B({},i)):void 0,gradientTransform:r?[...r]:void 0}))}static fromElement(e,n,r){const i=MA(e),s=n._findCenterFromElement();return new this(B({id:e.getAttribute("id")||void 0,type:PA(e),coords:C5(e,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:S5(e,r.opacity),gradientUnits:i,gradientTransform:D0(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:n.width/2-s.x,offsetY:n.height/2-s.y}:{offsetX:0,offsetY:0}))}}L(Cd,"type","Gradient"),ce.setClass(Cd,"gradient"),ce.setClass(Cd,"linear"),ce.setClass(Cd,"radial");const k5=["type","source","patternTransform"];class Lg{get type(){return"pattern"}set type(e){qs("warn","Setting type has no effect",e)}constructor(e){L(this,"repeat","repeat"),L(this,"offsetX",0),L(this,"offsetY",0),L(this,"crossOrigin",""),this.id=Ks(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:n,crossOrigin:r}=this;return B(B({},Pl(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:n,crossOrigin:r,offsetX:Ge(this.offsetX,Ie.NUM_FRACTION_DIGITS),offsetY:Ge(this.offsetY,Ie.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:n,height:r}=e;const{source:i,repeat:s,id:o}=this,a=Ma(this.offsetX/n,0),l=Ma(this.offsetY/r,0),c=s==="repeat-y"||s==="no-repeat"?1+Math.abs(a||0):Ma(i.width/n,0),u=s==="repeat-x"||s==="no-repeat"?1+Math.abs(l||0):Ma(i.height/r,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,n){let{type:r,source:i,patternTransform:s}=e,o=Ze(e,k5);const a=await kh(i,B(B({},n),{},{crossOrigin:o.crossOrigin}));return new this(B(B({},o),{},{patternTransform:s&&s.slice(0),source:a}))}}L(Lg,"type","Pattern"),ce.setClass(Lg),ce.setClass(Lg,"pattern");class A5{constructor(e){L(this,"color","rgb(0, 0, 0)"),L(this,"width",1),L(this,"shadow",null),L(this,"strokeLineCap","round"),L(this,"strokeLineJoin","round"),L(this,"strokeMiterLimit",10),L(this,"strokeDashArray",null),L(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}needsFullRender(){return new Pe(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,n=this.shadow,r=e.contextTop,i=e.getZoom()*e.getRetinaScaling();r.shadowColor=n.color,r.shadowBlur=n.blur*i,r.shadowOffsetX=n.offsetX*i,r.shadowOffsetY=n.offsetY*i}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}const O5=["path","left","top"],R5=["d"];class ws extends Xt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:r,left:i,top:s}=n,o=Ze(n,O5);super(),Object.assign(this,ws.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof i=="number"&&this.set(Me,i),typeof s=="number"&&this.set(Rn,s)}_setPath(e,n){this.path=s5(Array.isArray(e)?e:p5(e)),this.setBoundingBox(n)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new Y(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const n=-this.pathOffset.x,r=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+n,i[2]+r);break;case"M":e.moveTo(i[1]+n,i[2]+r);break;case"C":e.bezierCurveTo(i[1]+n,i[2]+r,i[3]+n,i[4]+r,i[5]+n,i[6]+r);break;case"Q":e.quadraticCurveTo(i[1]+n,i[2]+r,i[3]+n,i[4]+r);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B(B({},super.toObject(e)),{},{path:this.path.map(n=>n.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.toObject(e);return this.sourcePath&&(delete n.path,n.sourcePath=this.sourcePath),n}_toSVG(){const e=RA(this.path,Ie.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Ie.NUM_FRACTION_DIGITS;return" translate(".concat(Ge(-this.pathOffset.x,e),", ").concat(Ge(-this.pathOffset.y,e),")")}toClipPathSVG(e){const n=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:n})}toSVG(e){const n=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:n})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:n,height:r,pathOffset:i}=this._calcDimensions();this.set({width:n,height:r,pathOffset:i}),e&&this.setPositionByOrigin(i,xe,xe)}_calcBoundsFromPath(){const e=[];let n=0,r=0,i=0,s=0;for(const o of this.path)switch(o[0]){case"L":i=o[1],s=o[2],e.push({x:n,y:r},{x:i,y:s});break;case"M":i=o[1],s=o[2],n=i,r=s;break;case"C":e.push(...d1(i,s,o[1],o[2],o[3],o[4],o[5],o[6])),i=o[5],s=o[6];break;case"Q":e.push(...d1(i,s,o[1],o[2],o[1],o[2],o[3],o[4])),i=o[3],s=o[4];break;case"Z":i=n,s=r}return Fi(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return B(B({},e),{},{pathOffset:new Y(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,n,r){const i=Qi(e,this.ATTRIBUTE_NAMES,r),{d:s}=i;return new this(s,B(B(B({},Ze(i,R5)),n),{},{left:void 0,top:void 0}))}}L(ws,"type","Path"),L(ws,"cacheProperties",[...Xi,"path","fillRule"]),L(ws,"ATTRIBUTE_NAMES",[...Zs,"d"]),ce.setClass(ws),ce.setSVGClass(ws);class Ef extends A5{constructor(e){super(e),L(this,"decimate",.4),L(this,"drawStraightLine",!1),L(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,n,r){const i=n.midPointFrom(r);return e.quadraticCurveTo(n.x,n.y,i.x,i.y),i}onMouseDown(e,n){let{e:r}=n;this.canvas._isMainEvent(r)&&(this.drawStraightLine=!!this.straightLineKey&&r[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,n){let{e:r}=n;if(this.canvas._isMainEvent(r)&&(this.drawStraightLine=!!this.straightLineKey&&r[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const i=this._points,s=i.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=Ef.drawSegment(o,i[s-2],i[s-1]),o.stroke(),o.restore()}}onMouseUp(e){let{e:n}=e;return!this.canvas._isMainEvent(n)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,n=this._points[0],r=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&n.x===r.x&&n.y===r.y){const i=this.width/1e3;n.x-=i,r.x+=i}e.moveTo(n.x,n.y);for(let i=1;i<this._points.length;i++)Ef.drawSegment(e,n,r),n=this._points[i],r=this._points[i+1];e.lineTo(n.x,n.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const n=this.width/1e3;return g5(e,n)}createPath(e){const n=new ws(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,n.shadow=new hi(this.shadow)),n}decimatePoints(e,n){if(e.length<=2)return e;let r,i=e[0];const s=this.canvas.getZoom(),o=Math.pow(n/s,2),a=e.length-1,l=[i];for(let c=1;c<a-1;c++)r=Math.pow(i.x-e[c].x,2)+Math.pow(i.y-e[c].y,2),r>=o&&(i=e[c],l.push(i));return l.push(e[a]),l}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if(function(r){return RA(r)==="M 0 0 Q 0 0 0 0 L 0 0"}(e))return void this.canvas.requestRenderAll();const n=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:n}),this.canvas.add(n),this.canvas.requestRenderAll(),n.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:n})}}const N5=["left","top","radius"],LA=["radius","startAngle","endAngle","counterClockwise"];class Ai extends Xt{static getDefaults(){return B(B({},super.getDefaults()),Ai.ownDefaults)}constructor(e){super(),Object.assign(this,Ai.ownDefaults),this.setOptions(e)}_set(e,n){return super._set(e,n),e==="radius"&&this.setRadius(n),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,pt(this.startAngle),pt(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Dn)}getRadiusY(){return this.get("radius")*this.get(hr)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...LA,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:n}=this,r=pt(this.startAngle),i=pt(this.endAngle),s=$i(r)*n,o=Gi(r)*n,a=$i(i)*n,l=Gi(i)*n,c=e>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(o," A ").concat(n," ").concat(n," 0 ").concat(c," ").concat(u," ").concat(a," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,n,r){const i=Qi(e,this.ATTRIBUTE_NAMES,r),{left:s=0,top:o=0,radius:a=0}=i;return new this(B(B({},Ze(i,N5)),{},{radius:a,left:s-a,top:o-a}))}static fromObject(e){return super._fromObject(e)}}L(Ai,"type","Circle"),L(Ai,"cacheProperties",[...Xi,...LA]),L(Ai,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),L(Ai,"ATTRIBUTE_NAMES",["cx","cy","r",...Zs]),ce.setClass(Ai),ce.setSVGClass(Ai);const I5=["x1","y1","x2","y2"],D5=["x1","y1","x2","y2"],B0=["x1","x2","y1","y2"];class fo extends Xt{constructor(){let[e,n,r,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,fo.ownDefaults),this.setOptions(s),this.x1=e,this.x2=r,this.y1=n,this.y2=i,this._setWidthHeight();const{left:o,top:a}=s;typeof o=="number"&&this.set(Me,o),typeof a=="number"&&this.set(Rn,a)}_setWidthHeight(){const{x1:e,y1:n,x2:r,y2:i}=this;this.width=Math.abs(r-e),this.height=Math.abs(i-n);const{left:s,top:o,width:a,height:l}=Fi([{x:e,y:n},{x:r,y:i}]),c=new Y(s+a/2,o+l/2);this.setPositionByOrigin(c,xe,xe)}_set(e,n){return super._set(e,n),B0.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const n=this.calcLinePoints();e.moveTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineWidth=this.strokeWidth;const r=e.strokeStyle;var i;ar(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=r}_findCenterFromElement(){return new Y((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B(B({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:n,y1:r,y2:i,width:s,height:o}=this,a=e<=n?-1:1,l=r<=i?-1:1;return{x1:a*s/2,x2:a*-s/2,y1:l*o/2,y2:l*-o/2}}_toSVG(){const{x1:e,x2:n,y1:r,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(r,'" x2="').concat(n,'" y2="').concat(i,`" />
`)]}static async fromElement(e,n,r){const i=Qi(e,this.ATTRIBUTE_NAMES,r),{x1:s=0,y1:o=0,x2:a=0,y2:l=0}=i;return new this([s,o,a,l],Ze(i,I5))}static fromObject(e){let{x1:n,y1:r,x2:i,y2:s}=e,o=Ze(e,D5);return this._fromObject(B(B({},o),{},{points:[n,r,i,s]}),{extraParam:"points"})}}L(fo,"type","Line"),L(fo,"cacheProperties",[...Xi,...B0]),L(fo,"ATTRIBUTE_NAMES",Zs.concat(B0)),ce.setClass(fo),ce.setSVGClass(fo);class _o extends Xt{static getDefaults(){return B(B({},super.getDefaults()),_o.ownDefaults)}constructor(e){super(),Object.assign(this,_o.ownDefaults),this.setOptions(e)}_render(e){const n=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-n,r),e.lineTo(0,-r),e.lineTo(n,r),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,n=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(n,",0 ").concat(-n,",").concat(e," ").concat(n),'" />']}}L(_o,"type","Triangle"),L(_o,"ownDefaults",{width:100,height:100}),ce.setClass(_o),ce.setSVGClass(_o);const FA=["rx","ry"];class Oi extends Xt{static getDefaults(){return B(B({},super.getDefaults()),Oi.ownDefaults)}constructor(e){super(),Object.assign(this,Oi.ownDefaults),this.setOptions(e)}_set(e,n){switch(super._set(e,n),e){case"rx":this.rx=n,this.set("width",2*n);break;case"ry":this.ry=n,this.set("height",2*n)}return this}getRx(){return this.get("rx")*this.get(Dn)}getRy(){return this.get("ry")*this.get(hr)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...FA,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,uf,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,n,r){const i=Qi(e,this.ATTRIBUTE_NAMES,r);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function P5(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),n=[];for(let r=0;r<e.length;r+=2)n.push({x:parseFloat(e[r]),y:parseFloat(e[r+1])});return n}L(Oi,"type","Ellipse"),L(Oi,"cacheProperties",[...Xi,...FA]),L(Oi,"ownDefaults",{rx:0,ry:0}),L(Oi,"ATTRIBUTE_NAMES",[...Zs,"cx","cy","rx","ry"]),ce.setClass(Oi),ce.setSVGClass(Oi);const M5=["left","top"],BA={exactBoundingBox:!1};class Nr extends Xt{static getDefaults(){return B(B({},super.getDefaults()),Nr.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),L(this,"strokeDiff",void 0),Object.assign(this,Nr.ownDefaults),this.setOptions(n),this.points=e;const{left:r,top:i}=n;this.initialized=!0,this.setBoundingBox(!0),typeof r=="number"&&this.set(Me,r),typeof i=="number"&&this.set(Rn,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return wB(this.points,e,this.isOpen())}_calcDimensions(e){e=B({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const n=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(n.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new Y,strokeOffset:new Y,strokeDiff:new Y};const r=Fi(n),i=yp(B(B({},e),{},{scaleX:1,scaleY:1})),s=Fi(this.points.map(c=>Tn(c,i,!0))),o=new Y(this.scaleX,this.scaleY);let a=r.left+r.width/2,l=r.top+r.height/2;return this.exactBoundingBox&&(a-=l*Math.tan(pt(this.skewX)),l-=a*Math.tan(pt(this.skewY))),B(B({},r),{},{pathOffset:new Y(a,l),strokeOffset:new Y(s.left,s.top).subtract(new Y(r.left,r.top)).multiply(o),strokeDiff:new Y(r.width,r.height).subtract(new Y(s.width,s.height)).multiply(o)})}_findCenterFromElement(){const e=Fi(this.points);return new Y(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:n,top:r,width:i,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}=this._calcDimensions();this.set({width:i,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}),e&&this.setPositionByOrigin(new Y(n+i/2,r+s/2),xe,xe)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Y(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var n,r;const{width:a,height:l}=this._calcDimensions(e);o=new Y((n=e.width)!==null&&n!==void 0?n:a,(r=e.height)!==null&&r!==void 0?r:l)}else{var i,s;o=new Y((i=e.width)!==null&&i!==void 0?i:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return o.multiply(new Y(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,n){const r=this.initialized&&this[e]!==n,i=super._set(e,n);return this.exactBoundingBox&&r&&((e===Dn||e===hr)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B(B({},super.toObject(e)),{},{points:this.points.map(n=>{let{x:r,y:i}=n;return{x:r,y:i}})})}_toSVG(){const e=[],n=this.pathOffset.x,r=this.pathOffset.y,i=Ie.NUM_FRACTION_DIGITS;for(let s=0,o=this.points.length;s<o;s++)e.push(Ge(this.points[s].x-n,i),",",Ge(this.points[s].y-r,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(n&&!isNaN(this.points[n-1].y)){e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(let s=0;s<n;s++){const o=this.points[s];e.lineTo(o.x-r,o.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,n,r){return new this(P5(e.getAttribute("points")),B(B({},Ze(Qi(e,this.ATTRIBUTE_NAMES,r),M5)),n))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}L(Nr,"ownDefaults",BA),L(Nr,"type","Polyline"),L(Nr,"layoutProperties",[Nl,Il,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),L(Nr,"cacheProperties",[...Xi,"points"]),L(Nr,"ATTRIBUTE_NAMES",[...Zs]),ce.setClass(Nr),ce.setSVGClass(Nr);class kd extends Nr{isOpen(){return!1}}L(kd,"ownDefaults",BA),L(kd,"type","Polygon"),ce.setClass(kd),ce.setSVGClass(kd);class UA extends Xt{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const n=e===void 0?this.styles:{line:this.styles[e]};for(const r in n)for(const i in n[r])for(const s in n[r][i])return!1;return!0}styleHas(e,n){if(!this.styles||n!==void 0&&!this.styles[n])return!1;const r=n===void 0?this.styles:{0:this.styles[n]};for(const i in r)for(const s in r[i])if(r[i][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const n=this.styles;let r,i,s=0,o=!0,a=0;for(const l in n){r=0;for(const c in n[l]){const u=n[l][c]||{};s++,u[e]!==void 0?(i?u[e]!==i&&(o=!1):i=u[e],u[e]===this[e]&&delete u[e]):o=!1,Object.keys(u).length!==0?r++:delete n[l][c]}r===0&&delete n[l]}for(let l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;o&&s===a&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const n=this.styles;let r,i,s;for(i in n){for(s in r=n[i],r)delete r[s][e],Object.keys(r[s]).length===0&&delete r[s];Object.keys(r).length===0&&delete n[i]}}_extendStyles(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(r)||this._setLineStyle(r);const s=Bb(B(B({},this._getStyleDeclaration(r,i)),n),o=>o!==void 0);this._setStyleDeclaration(r,i,s)}getSelectionStyles(e,n,r){const i=[];for(let s=e;s<(n||e);s++)i.push(this.getStyleAtPosition(s,r));return i}getStyleAtPosition(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e);return n?this.getCompleteStyleDeclaration(r,i):this._getStyleDeclaration(r,i)}setSelectionStyles(e,n,r){for(let i=n;i<(r||n);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,n){var r;const i=this.styles&&this.styles[e];return i&&(r=i[n])!==null&&r!==void 0?r:{}}getCompleteStyleDeclaration(e,n){return B(B({},Pl(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,n))}_setStyleDeclaration(e,n,r){this.styles[e][n]=r}_deleteStyleDeclaration(e,n){delete this.styles[e][n]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}L(UA,"_styleProperties",B6);const L5=/  +/g,F5=/"/g;function Fg(t,e,n,r,i){return"		".concat(function(s,o){let{left:a,top:l,width:c,height:u}=o,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ie.NUM_FRACTION_DIGITS;const h=gu(Rt,s,!1),[f,p,g,v]=[a,l,c,u].map(y=>Ge(y,d));return"<rect ".concat(h,' x="').concat(f,'" y="').concat(p,'" width="').concat(g,'" height="').concat(v,'"></rect>')}(t,{left:e,top:n,width:r,height:i}),`
`)}const B5=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Bg;class ln extends UA{static getDefaults(){return B(B({},super.getDefaults()),ln.ownDefaults)}constructor(e,n){super(),L(this,"__charBounds",[]),Object.assign(this,ln.ownDefaults),this.setOptions(n),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=OA(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(si)&&this.enlargeSpaces()}enlargeSpaces(){let e,n,r,i,s,o,a;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===si||l!==c-1&&!this.isEndOfWrapping(l))&&(i=0,s=this._textLines[l],n=this.getLineWidth(l),n<this.width&&(a=this.textLines[l].match(this._reSpacesAndTabs)))){r=a.length,e=(this.width-n)/r;for(let u=0;u<=s.length;u++)o=this.__charBounds[l][u],this._reSpaceAndTab.test(s[u])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,n){const r=n?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<r.length;i++){if(e<=r[i].length)return{lineIndex:i,charIndex:e};e-=r[i].length+this.missingNewlineOffset(i,n)}return{lineIndex:i-1,charIndex:r[i-1].length<e?r[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),n=this.fontSize;return e.width+=n*e.zoomX,e.height+=n*e.zoomY,e}_render(e){const n=this.path;n&&!n.isNotVisible()&&n._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===In?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,n,r){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case xe:e.textBaseline="middle";break;case"ascender":e.textBaseline=Rn;break;case"descender":e.textBaseline=k0}e.font=this._getFontDeclaration(n,r)}calcTextWidth(){let e=this.getLineWidth(0);for(let n=1,r=this._textLines.length;n<r;n++){const i=this.getLineWidth(n);i>e&&(e=i)}return e}_renderTextLine(e,n,r,i,s,o){this._renderChars(e,n,r,i,s,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const n=e.fillStyle,r=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){const a=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=a;continue}const l=this._textLines[s].length,c=this._getLineLeftOffset(s);let u,d,h=0,f=0,p=this.getValueOfPropertyAt(s,0,"textBackgroundColor");for(let g=0;g<l;g++){const v=this.__charBounds[s][g];d=this.getValueOfPropertyAt(s,g,"textBackgroundColor"),this.path?(e.save(),e.translate(v.renderLeft,v.renderTop),e.rotate(v.angle),e.fillStyle=d,d&&e.fillRect(-v.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),v.width,a/this.lineHeight),e.restore()):d!==p?(u=r+c+f,this.direction==="rtl"&&(u=this.width-u-h),e.fillStyle=p,p&&e.fillRect(u,i,h,a/this.lineHeight),f=v.left,h=v.width,p=d):h+=v.kernedWidth}d&&!this.path&&(u=r+c+f,this.direction==="rtl"&&(u=this.width-u-h),e.fillStyle=d,e.fillRect(u,i,h,a/this.lineHeight)),i+=a}e.fillStyle=n,this._removeShadow(e)}_measureChar(e,n,r,i){const s=Ac.getFontCache(n),o=this._getFontDeclaration(n),a=r+e,l=r&&o===this._getFontDeclaration(i),c=n.fontSize/this.CACHE_FONT_SIZE;let u,d,h,f;if(r&&s[r]!==void 0&&(h=s[r]),s[e]!==void 0&&(f=u=s[e]),l&&s[a]!==void 0&&(d=s[a],f=d-h),u===void 0||h===void 0||d===void 0){const p=function(){return Bg||(Bg=fr({width:0,height:0}).getContext("2d")),Bg}();this._setTextStyles(p,n,!0),u===void 0&&(f=u=p.measureText(e).width,s[e]=u),h===void 0&&l&&r&&(h=p.measureText(r).width,s[r]=h),l&&d===void 0&&(d=p.measureText(a).width,s[a]=d,f=d-h)}return{width:u*c,kernedWidth:f*c}}getHeightOfChar(e,n){return this.getValueOfPropertyAt(e,n,"fontSize")}measureLine(e){const n=this._measureLine(e);return this.charSpacing!==0&&(n.width-=this._getWidthOfCharSpacing()),n.width<0&&(n.width=0),n}_measureLine(e){let n,r,i=0;const s=this.pathSide===dt,o=this.path,a=this._textLines[e],l=a.length,c=new Array(l);this.__charBounds[e]=c;for(let u=0;u<l;u++){const d=a[u];r=this._getGraphemeBox(d,e,u,n),c[u]=r,i+=r.kernedWidth,n=d}if(c[l]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let u=0;const d=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Me:u=s?d-i:0;break;case xe:u=(d-i)/2;break;case dt:u=s?0:d-i}u+=this.pathStartOffset*(s?-1:1);for(let h=s?l-1:0;s?h>=0:h<l;s?h--:h++)r=c[h],u>d?u%=d:u<0&&(u+=d),this._setGraphemeOnPath(u,r),u+=r.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,n){const r=e+n.kernedWidth/2,i=this.path,s=u5(i.path,r,i.segmentsInfo);n.renderLeft=s.x-i.pathOffset.x,n.renderTop=s.y-i.pathOffset.y,n.angle=s.angle+(this.pathSide===dt?Math.PI:0)}_getGraphemeBox(e,n,r,i,s){const o=this.getCompleteStyleDeclaration(n,r),a=i?this.getCompleteStyleDeclaration(n,r-1):{},l=this._measureChar(e,o,i,a);let c,u=l.kernedWidth,d=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),d+=c,u+=c);const h={width:d,left:0,height:o.fontSize,kernedWidth:u,deltaY:o.deltaY};if(r>0&&!s){const f=this.__charBounds[n][r-1];h.left=f.left+f.width+l.kernedWidth-l.width}return h}getHeightOfLine(e){if(this.__lineHeights[e])return this.__lineHeights[e];let n=this.getHeightOfChar(e,0);for(let r=1,i=this._textLines[e].length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult}calcTextHeight(){let e,n=0;for(let r=0,i=this._textLines.length;r<i;r++)e=this.getHeightOfLine(r),n+=r===i-1?e/this.lineHeight:e;return n}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,n){e.save();let r=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++){const l=this.getHeightOfLine(o),c=l/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(n,e,this._textLines[o],i+u,s+r+c,o),r+=l}e.restore()}_renderTextFill(e){(this.fill||this.styleHas(Rt))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,n,r,i,s,o){const a=this.getHeightOfLine(o),l=this.textAlign.includes(si),c=this.path,u=!l&&this.charSpacing===0&&this.isEmptyStyles(o)&&!c,d=this.direction==="ltr",h=this.direction==="ltr"?1:-1,f=n.direction;let p,g,v,y,b,_="",T=0;if(n.save(),f!==this.direction&&(n.canvas.setAttribute("dir",d?"ltr":"rtl"),n.direction=d?"ltr":"rtl",n.textAlign=d?Me:dt),s-=a*this._fontSizeFraction/this.lineHeight,u)return this._renderChar(e,n,o,0,r.join(""),i,s),void n.restore();for(let x=0,w=r.length-1;x<=w;x++)y=x===w||this.charSpacing||c,_+=r[x],v=this.__charBounds[o][x],T===0?(i+=h*(v.kernedWidth-v.width),T+=v.width):T+=v.kernedWidth,l&&!y&&this._reSpaceAndTab.test(r[x])&&(y=!0),y||(p=p||this.getCompleteStyleDeclaration(o,x),g=this.getCompleteStyleDeclaration(o,x+1),y=Yb(p,g,!1)),y&&(c?(n.save(),n.translate(v.renderLeft,v.renderTop),n.rotate(v.angle),this._renderChar(e,n,o,x,_,-T/2,0),n.restore()):(b=i,this._renderChar(e,n,o,x,_,b,s)),_="",p=g,i+=h*T,T=0);n.restore()}_applyPatternGradientTransformText(e){const n=this.width+this.strokeWidth,r=this.height+this.strokeWidth,i=fr({width:n,height:r}),s=i.getContext("2d");return i.width=n,i.height=r,s.beginPath(),s.moveTo(0,0),s.lineTo(n,0),s.lineTo(n,r),s.lineTo(0,r),s.closePath(),s.translate(n/2,r/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(e,n,r){let i,s;return ar(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(i=-this.width/2,s=-this.height/2,e.translate(i,s),e[n]=this._applyPatternGradientTransformText(r),{offsetX:i,offsetY:s}):(e[n]=r.toLive(e),this._applyPatternGradientTransform(e,r)):(e[n]=r,{offsetX:0,offsetY:0})}_setStrokeStyles(e,n){let{stroke:r,strokeWidth:i}=n;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",r)}_setFillStyles(e,n){let{fill:r}=n;return this.handleFiller(e,"fillStyle",r)}_renderChar(e,n,r,i,s,o,a){const l=this._getStyleDeclaration(r,i),c=this.getCompleteStyleDeclaration(r,i),u=e==="fillText"&&c.fill,d=e==="strokeText"&&c.stroke&&c.strokeWidth;if(d||u){if(n.save(),n.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(n),l.deltaY&&(a+=l.deltaY),u){const h=this._setFillStyles(n,c);n.fillText(s,o-h.offsetX,a-h.offsetY)}if(d){const h=this._setStrokeStyles(n,c);n.strokeText(s,o-h.offsetX,a-h.offsetY)}n.restore()}}setSuperscript(e,n){this._setScript(e,n,this.superscript)}setSubscript(e,n){this._setScript(e,n,this.subscript)}_setScript(e,n,r){const i=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),a={fontSize:s*r.size,deltaY:o+s*r.baseline};this.setSelectionStyles(a,e,n)}_getLineLeftOffset(e){const n=this.getLineWidth(e),r=this.width-n,i=this.textAlign,s=this.direction,o=this.isEndOfWrapping(e);let a=0;return i===si||i===Rc&&!o||i===Oc&&!o||i===yf&&!o?0:(i===xe&&(a=r/2),i===dt&&(a=r),i===Rc&&(a=r/2),i===Oc&&(a=r),s==="rtl"&&(i===dt||i===si||i===Oc?a=0:i===Me||i===yf?a=-r:i!==xe&&i!==Rc||(a=-r/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:n}=this.measureLine(e);return this.__lineWidths[e]=n,n}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,n,r){var i;return(i=this._getStyleDeclaration(e,n)[r])!==null&&i!==void 0?i:this[r]}_renderTextDecoration(e,n){if(!this[n]&&!this.styleHas(n))return;let r=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,o=this._getWidthOfCharSpacing(),a=n==="linethrough"?.5:n==="overline"?1:0,l=this.offsets[n];for(let c=0,u=this._textLines.length;c<u;c++){const d=this.getHeightOfLine(c);if(!this[n]&&!this.styleHas(n,c)){r+=d;continue}const h=this._textLines[c],f=d/this.lineHeight,p=this._getLineLeftOffset(c);let g=0,v=0,y=this.getValueOfPropertyAt(c,0,n),b=this.getValueOfPropertyAt(c,0,Rt),_=this.getValueOfPropertyAt(c,0,zo),T=y,x=b,w=_;const C=r+f*(1-this._fontSizeFraction);let I=this.getHeightOfChar(c,0),U=this.getValueOfPropertyAt(c,0,"deltaY");for(let j=0,X=h.length;j<X;j++){const $=this.__charBounds[c][j];T=this.getValueOfPropertyAt(c,j,n),x=this.getValueOfPropertyAt(c,j,Rt),w=this.getValueOfPropertyAt(c,j,zo);const q=this.getHeightOfChar(c,j),M=this.getValueOfPropertyAt(c,j,"deltaY");if(s&&T&&x){const W=this.fontSize*w/1e3;e.save(),e.fillStyle=b,e.translate($.renderLeft,$.renderTop),e.rotate($.angle),e.fillRect(-$.kernedWidth/2,l*q+M-a*W,$.kernedWidth,W),e.restore()}else if((T!==y||x!==b||q!==I||w!==_||M!==U)&&v>0){const W=this.fontSize*_/1e3;let D=i+p+g;this.direction==="rtl"&&(D=this.width-D-v),y&&b&&_&&(e.fillStyle=b,e.fillRect(D,C+l*I+U-a*W,v,W)),g=$.left,v=$.width,y=T,_=w,b=x,I=q,U=M}else v+=$.kernedWidth}let O=i+p+g;this.direction==="rtl"&&(O=this.width-O-v),e.fillStyle=x;const G=this.fontSize*w/1e3;T&&x&&w&&e.fillRect(O,C+l*I+U-a*G,v-o,G),r+=d}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:n=this.fontStyle,fontWeight:r=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||ln.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[n,r,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return Gb(e)}_splitTextIntoLines(e){const n=e.split(this._reNewline),r=new Array(n.length),i=[`
`];let s=[];for(let o=0;o<n.length;o++)r[o]=this.graphemeSplit(n[o]),s=s.concat(r[o],i);return s.pop(),{_unwrappedLines:r,lines:n,graphemeText:s,graphemeLines:r}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B(B({},super.toObject([...dA,...e])),{},{styles:CB(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,n){const{textLayoutProperties:r}=this.constructor;super.set(e,n);let i=!1,s=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),i=i||r.includes(o),s=s||o==="path";else i=r.includes(e),s=e==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,n,r){const i=Qi(e,ln.ATTRIBUTE_NAMES,r),s=B(B({},n),i),{textAnchor:o=Me,textDecoration:a="",dx:l=0,dy:c=0,top:u=0,left:d=0,fontSize:h=Ib,strokeWidth:f=1}=s,p=Ze(s,B5),g=new this((e.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),B({left:d+l,top:u+c,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:h},p)),v=g.getScaledHeight()/g.height,y=((g.height+g.strokeWidth)*g.lineHeight-g.height)*v,b=g.getScaledHeight()+y;let _=0;return o===xe&&(_=g.getScaledWidth()/2),o===dt&&(_=g.getScaledWidth()),g.set({left:g.left-_,top:g.top-(b-g.fontSize*(.07+g._fontSizeFraction))/g.lineHeight,strokeWidth:f}),g}static fromObject(e){return this._fromObject(B(B({},e),{},{styles:kB(e.styles||{},e.text)}),{extraParam:"text"})}}L(ln,"textLayoutProperties",uA),L(ln,"cacheProperties",[...Xi,...dA]),L(ln,"ownDefaults",U6),L(ln,"type","Text"),L(ln,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),L(ln,"ATTRIBUTE_NAMES",Zs.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),_A(ln,[class extends aA{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),n=this.path;return n?e+n._createBaseSVGMarkup(n._toSVG(),{reviver:t,withShadow:!0,additionalTransform:pu(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:n}=t;const r=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(F5,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",n.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const n=[],r=[];let i,s=t;this.backgroundColor&&r.push(...Fg(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)i=this._getLineLeftOffset(o),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(r,o,e+i,s),this._setSVGTextLineText(n,o,e+i,s),s+=this.getHeightOfLine(o);return{textSpans:n,textBgRects:r}}_createTextCharSpan(t,e,n,r,i){const s=Ie.NUM_FRACTION_DIGITS,o=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(L5)),a=o?'style="'.concat(o,'"'):"",l=e.deltaY,c=l?' dy="'.concat(Ge(l,s),'" '):"",{angle:u,renderLeft:d,renderTop:h,width:f}=i;let p="";if(d!==void 0){const g=f/2;u&&(p=' rotate="'.concat(Ge(Vi(u),s),'"'));const v=Dl({angle:Vi(u)});v[4]=d,v[5]=h;const y=new Y(-g,0).transform(v);n=y.x,r=y.y}return'<tspan x="'.concat(Ge(n,s),'" y="').concat(Ge(r,s),'" ').concat(c).concat(p).concat(a,">").concat(TB(t),"</tspan>")}_setSVGTextLineText(t,e,n,r){const i=this.getHeightOfLine(e),s=this.textAlign.includes(si),o=this._textLines[e];let a,l,c,u,d,h="",f=0;r+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let p=0,g=o.length-1;p<=g;p++)d=p===g||this.charSpacing||this.path,h+=o[p],c=this.__charBounds[e][p],f===0?(n+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,s&&!d&&this._reSpaceAndTab.test(o[p])&&(d=!0),d||(a=a||this.getCompleteStyleDeclaration(e,p),l=this.getCompleteStyleDeclaration(e,p+1),d=Yb(a,l,!0)),d&&(u=this._getStyleDeclaration(e,p),t.push(this._createTextCharSpan(h,u,n,r,c)),h="",a=l,this.direction==="rtl"?n-=f:n+=f,f=0)}_setSVGTextLineBg(t,e,n,r){const i=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let o,a=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:d,width:h,kernedWidth:f}=this.__charBounds[e][u];o=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),o!==c?(c&&t.push(...Fg(c,n+l,r,a,s)),l=d,a=h,c=o):a+=f}o&&t.push(...Fg(c,n+l,r,a,s))}_getSVGLineTopOffset(t){let e,n=0;for(e=0;e<t;e++)n+=this.getHeightOfLine(e);const r=this.getHeightOfLine(e);return{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," text-decoration-thickness: ").concat(Ge(this.textDecorationThickness*this.getObjectScaling().y/10,Ie.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:n,strokeWidth:r,stroke:i,fill:s,fontSize:o,fontStyle:a,fontWeight:l,deltaY:c,textDecorationThickness:u,linethrough:d,overline:h,underline:f}=t,p=this.getSvgTextDecoration({underline:f??this.underline,overline:h??this.overline,linethrough:d??this.linethrough}),g=u||this.textDecorationThickness;return[i?gu(In,i):"",r?"stroke-width: ".concat(r,"; "):"",n?"font-family: ".concat(n.includes("'")||n.includes('"')?n:"'".concat(n,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",p?"text-decoration: ".concat(p,"; text-decoration-thickness: ").concat(Ge(g*this.getObjectScaling().y/10,Ie.NUM_FRACTION_DIGITS),"%; "):"",s?gu(Rt,s):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),ce.setClass(ln),ce.setSVGClass(ln);class U5{constructor(e){L(this,"target",void 0),L(this,"__mouseDownInPlace",!1),L(this,"__dragStartFired",!1),L(this,"__isDraggingOver",!1),L(this,"__dragStartSelection",void 0),L(this,"__dragImageDisposer",void 0),L(this,"_dispose",void 0),this.target=e;const n=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{n.forEach(r=>r()),this._dispose=void 0}}isPointerOverSelection(e){const n=this.target,r=n.getSelectionStartFromPointer(e);return n.isEditing&&r>=n.selectionStart&&r<=n.selectionEnd&&n.selectionStart<n.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const n=this.isActive();return n&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,n}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,n){var r;let{selectionStart:i,selectionEnd:s}=n;const o=this.target,a=o.canvas,l=new Y(o.flipX?-1:1,o.flipY?-1:1),c=o._getCursorBoundaries(i),u=new Y(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(o.calcTransformMatrix()),d=a.getScenePoint(e).subtract(u),h=o.getCanvasRetinaScaling(),f=o.getBoundingRect(),p=u.subtract(new Y(f.left,f.top)),g=a.viewportTransform,v=p.add(d).transform(g,!0),y=o.backgroundColor,b=$b(o.styles);o.backgroundColor="";const _={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(_,0,i),o.setSelectionStyles(_,s,o.text.length),o.dirty=!0;const T=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=y,o.styles=b,o.dirty=!0,L0(T,{position:"fixed",left:"".concat(-T.width,"px"),border:Nn,width:"".concat(T.width/h,"px"),height:"".concat(T.height/h,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{T.remove()},Pr(e.target||this.target.hiddenTextarea).body.appendChild(T),(r=e.dataTransfer)===null||r===void 0||r.setDragImage(T,v.x,v.y)}onDragStart(e){this.__dragStartFired=!0;const n=this.target,r=this.isActive();if(r&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:n.selectionStart,selectionEnd:n.selectionEnd},s=n._text.slice(i.selectionStart,i.selectionEnd).join(""),o=B({text:n.text,value:s},i);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:n.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return n.abortCursorAnimation(),r}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const n=this.target.getSelectionStartFromPointer(e),r=this.__dragStartSelection;return n<r.selectionStart||n>r.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:n}=e;const r=this.targetCanDrop(n);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:n}=e,r=this.targetCanDrop(n);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(n.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var n;const{e:r}=e,i=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();let s=(n=r.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain");if(s&&!i){const o=this.target,a=o.canvas;let l=o.getSelectionStartFromPointer(r);const{styles:c}=r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{},u=s[Math.max(0,s.length-1)],d=0;if(this.__dragStartSelection){const h=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;l>h&&l<=f?l=h:l>f&&(l-=f-h),o.removeChars(h,f),delete this.__dragStartSelection}o._reNewline.test(u)&&(o._reNewline.test(o._text[l])||l===o._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(s,c,l),a.setActiveObject(o),o.enterEditing(r),o.selectionStart=Math.min(l+d,o._text.length),o.selectionEnd=Math.min(o.selectionStart+s.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(df,{index:l+d,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(e){let{e:n}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r;const i=this.target,s=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,l=((r=n.dataTransfer)===null||r===void 0?void 0:r.dropEffect)||Nn;l===Nn?(i.selectionStart=o,i.selectionEnd=a,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),l==="move"&&(i.removeChars(o,a),i.selectionStart=i.selectionEnd=o,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(df,{index:o,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const p1=/[ \n\.,;!\?\-]/;class j5 extends ln{constructor(){super(...arguments),L(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:n,duration:r,delay:i,onComplete:s}=e;return gA({startValue:this._currentCursorOpacity,endValue:n,duration:r,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(n=>{n&&!n.isDone()&&(e=!0,n.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let n=0,r=e-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)n++,r--;for(;/\S/.test(this._text[r])&&r>-1;)n++,r--;return e-n}findWordBoundaryRight(e){let n=0,r=e;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)n++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)n++,r++;return e+n}findLineBoundaryLeft(e){let n=0,r=e-1;for(;!/\n/.test(this._text[r])&&r>-1;)n++,r--;return e-n}findLineBoundaryRight(e){let n=0,r=e;for(;!/\n/.test(this._text[r])&&r<this._text.length;)n++,r++;return e+n}searchWordBoundary(e,n){const r=this._text;let i=e>0&&this._reSpace.test(r[e])&&(n===-1||!Db.test(r[e-1]))?e-1:e,s=r[i];for(;i>0&&i<r.length&&!p1.test(s);)i+=n,s=r[i];return n===-1&&p1.test(s)&&i++,i}selectWord(e){var n;e=(n=e)!==null&&n!==void 0?n:this.selectionStart;const r=this.searchWordBoundary(e,-1),i=Math.max(r,this.searchWordBoundary(e,1));this.selectionStart=r,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var n;e=(n=e)!==null&&n!==void 0?n:this.selectionStart;const r=this.findLineBoundaryLeft(e),i=this.findLineBoundaryRight(e);this.selectionStart=r,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const n=this.hiddenTextarea;Pr(n).activeElement!==n&&n.focus();const r=this.getSelectionStartFromPointer(e),i=this.selectionStart,s=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&i!==s||i!==r&&s!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,n,r){const i=r.slice(0,e),s=this.graphemeSplit(i).length;if(e===n)return{selectionStart:s,selectionEnd:s};const o=r.slice(e,n);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,n,r){const i=r.slice(0,e).join("").length;return e===n?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+r.slice(e,n).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const n=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=n.selectionEnd,this.inCompositionMode||(this.selectionStart=n.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,n=this._getCursorBoundaries(e),r=this.get2DCursorLocation(e),i=r.lineIndex,s=r.charIndex,o=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,a=n.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,d=c.height/l,h=u-o,f=d-o,p=new Y(n.left+a,n.top+n.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Y(c.clientWidth/u,c.clientHeight/d));return p.x<0&&(p.x=0),p.x>h&&(p.x=h),p.y<0&&(p.y=0),p.y>f&&(p.y=f),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(hf),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,n){const{lineIndex:r,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:o}=this.get2DCursorLocation(n,!0);if(r!==s){if(this.styles[r])for(let a=i;a<this._unwrappedTextLines[r].length;a++)delete this.styles[r][a];if(this.styles[s])for(let a=o;a<this._unwrappedTextLines[s].length;a++){const l=this.styles[s][a];l&&(this.styles[r]||(this.styles[r]={}),this.styles[r][i+a-o]=l)}for(let a=r+1;a<=s;a++)delete this.styles[a];this.shiftLineStyles(s,r-s)}else if(this.styles[r]){const a=this.styles[r],l=o-i;for(let c=i;c<o;c++)delete a[c];for(const c in this.styles[r]){const u=parseInt(c,10);u>=o&&(a[u-l]=a[c],delete a[c])}}}shiftLineStyles(e,n){const r=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>e&&(this.styles[s+n]=r[s],r[s-n]||delete this.styles[s])}}insertNewlineStyleObject(e,n,r,i){const s={},o=this._unwrappedTextLines[e].length,a=o===n;let l=!1;r||(r=1),this.shiftLineStyles(e,r);const c=this.styles[e]?this.styles[e][n===0?n:n-1]:void 0;for(const d in this.styles[e]){const h=parseInt(d,10);h>=n&&(l=!0,s[h-n]=this.styles[e][d],a&&n===0||delete this.styles[e][d])}let u=!1;for(l&&!a&&(this.styles[e+r]=s,u=!0),(u||o>n)&&r--;r>0;)i&&i[r-1]?this.styles[e+r]={0:B({},i[r-1])}:c?this.styles[e+r]={0:B({},c)}:delete this.styles[e+r],r--;this._forceClearCache=!0}insertCharStyleObject(e,n,r,i){this.styles||(this.styles={});const s=this.styles[e],o=s?B({},s):{};r||(r=1);for(const l in o){const c=parseInt(l,10);c>=n&&(s[c+r]=o[c],o[c-r]||delete s[c])}if(this._forceClearCache=!0,i){for(;r--;)Object.keys(i[r]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][n+r]=B({},i[r]));return}if(!s)return;const a=s[n?n-1:1];for(;a&&r--;)this.styles[e][n+r]=B({},a)}insertNewStyleBlock(e,n,r){const i=this.get2DCursorLocation(n,!0),s=[0];let o,a=0;for(let l=0;l<e.length;l++)e[l]===`
`?(a++,s[a]=0):s[a]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],r),r=r&&r.slice(s[0]+1)),a&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],a),o=1;o<a;o++)s[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,s[o],r):r&&this.styles[i.lineIndex+o]&&r[0]&&(this.styles[i.lineIndex+o][0]=r[0]),r=r&&r.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,s[o],r)}removeChars(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,n),this._text.splice(e,n-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;i>r&&this.removeStyleFromTo(r,i);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,r,n),this._text=[...this._text.slice(0,r),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,n,r){r<=e?(n===e?this._selectionDirection=Me:this._selectionDirection===dt&&(this._selectionDirection=Me,this.selectionEnd=e),this.selectionStart=r):r>e&&r<n?this._selectionDirection===dt?this.selectionEnd=r:this.selectionStart=r:(n===e?this._selectionDirection=dt:this._selectionDirection===Me&&(this._selectionDirection=dt,this.selectionStart=n),this.selectionEnd=r)}}class H5 extends j5{initHiddenTextarea(){const e=this.canvas&&Pr(this.canvas.getElement())||Rl(),n=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(o=>{let[a,l]=o;return n.setAttribute(a,l)});const{top:r,left:i,fontSize:s}=this._calcTextareaPosition();n.style.cssText="position: absolute; top: ".concat(r,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(n),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,l]=o;return n.addEventListener(a,this[l].bind(this))}),this.hiddenTextarea=n}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const n=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in n)this[n[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const n=this.fromPaste,{value:r,selectionStart:i,selectionEnd:s}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(df),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const a=this._splitTextIntoLines(r).graphemeText,l=this._text.length,c=a.length,u=this.selectionStart,d=this.selectionEnd,h=u!==d;let f,p,g,v,y=c-l;const b=this.fromStringToGraphemeSelection(i,s,r),_=u>b.selectionStart;h?(p=this._text.slice(u,d),y+=d-u):c<l&&(p=_?this._text.slice(d+y,d):this._text.slice(u,u-y));const T=a.slice(b.selectionEnd-y,b.selectionEnd);if(p&&p.length&&(T.length&&(f=this.getSelectionStyles(u,u+1,!1),f=T.map(()=>f[0])),h?(g=u,v=d):_?(g=d-p.length,v=d):(g=d,v=d+p.length),this.removeStyleFromTo(g,v)),T.length){const{copyPasteData:x}=pi();n&&T.join("")===x.copiedText&&!Ie.disableStyleCopyPaste&&(f=x.copiedTextStyle),this.insertNewStyleBlock(T,u,f)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:n}=e;const{selectionStart:r,selectionEnd:i}=n;this.compositionStart=r,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=pi();e.copiedText=this.getSelectedText(),Ie.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,n){let r,i=this._getLineLeftOffset(e);return n>0&&(r=this.__charBounds[e][n-1],i+=r.left+r.width),i}getDownCursorOffset(e,n){const r=this._getSelectionForOffset(e,n),i=this.get2DCursorLocation(r),s=i.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-r;const o=i.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s+1,a);return this._textLines[s].slice(o).length+l+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,n){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&n?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,n){const r=this._getSelectionForOffset(e,n),i=this.get2DCursorLocation(r),s=i.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-r;const o=i.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s-1,a),c=this._textLines[s].slice(0,o),u=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+l-c.length+(1-u)}_getIndexOnLine(e,n){const r=this._textLines[e];let i,s,o=this._getLineLeftOffset(e),a=0;for(let l=0,c=r.length;l<c;l++)if(i=this.__charBounds[e][l].width,o+=i,o>n){s=!0;const u=o-i,d=o,h=Math.abs(u-n);a=Math.abs(d-n)<h?l:l-1;break}return s||(a=r.length-1),a}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,n){const r=this["get".concat(e,"CursorOffset")](n,this._selectionDirection===dt);if(n.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),r!==0){const i=this.text.length;this.selectionStart=gl(0,this.selectionStart,i),this.selectionEnd=gl(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const n=this._selectionDirection===Me?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,n),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,n,r){let i;if(e.altKey)i=this["findWordBoundary".concat(r)](this[n]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[n]+=r==="Left"?-1:1,!0;i=this["findLineBoundary".concat(r)](this[n])}return i!==void 0&&this[n]!==i&&(this[n]=i,!0)}_moveLeft(e,n){return this._move(e,n,"Left")}_moveRight(e,n){return this._move(e,n,"Right")}moveCursorLeftWithoutShift(e){let n=!0;return this._selectionDirection=Me,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(n=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,n}moveCursorLeftWithShift(e){return this._selectionDirection===dt&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Me,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,n){const r="moveCursor".concat(e).concat(n.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](n)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Me&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=dt,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let n=!0;return this._selectionDirection=dt,this.selectionStart===this.selectionEnd?(n=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,n}}const g1=t=>!!t.button;class W5 extends H5{constructor(){super(...arguments),L(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new U5(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:n,alreadySelected:r}=e;this.canvas&&this.editable&&!g1(n)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(n)||(this.canvas.textEditingManager.register(this),r&&(this.inCompositionMode=!1,this.setCursorByClick(n)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=r||this.isEditing)))}mouseUpHandler(e){let{e:n,transform:r}=e;const i=this.draggableTextDelegate.end(n);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||g1(n)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(n),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const n=this.getSelectionStartFromPointer(e),r=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(r,i,n):(this.selectionStart=n,this.selectionEnd=n),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const n=this.canvas.getScenePoint(e).transform(Lr(this.calcTransformMatrix())).add(new Y(-this._getLeftOffset(),-this._getTopOffset()));let r=0,i=0,s=0;for(let c=0;c<this._textLines.length&&r<=n.y;c++)r+=this.getHeightOfLine(c),s=c,c>0&&(i+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let o=Math.abs(this._getLineLeftOffset(s));const a=this._textLines[s].length,l=this.__charBounds[s];for(let c=0;c<a;c++){const u=o+l[c].kernedWidth;if(n.x<=u){Math.abs(n.x-u)<=Math.abs(n.x-o)&&i++;break}o=u,i++}return Math.min(this.flipX?a-i:i,this._text.length)}}const Ad="moveCursorUp",Od="moveCursorDown",Rd="moveCursorLeft",Nd="moveCursorRight",Id="exitEditing",m1=(t,e)=>{const n=e.getRetinaScaling();t.setTransform(n,0,0,n,0,0);const r=e.viewportTransform;t.transform(r[0],r[1],r[2],r[3],r[4],r[5])},z5=B({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Id,27:Id,33:Ad,34:Od,35:Nd,36:Rd,37:Rd,38:Ad,39:Nd,40:Od},keysMapRtl:{9:Id,27:Id,33:Ad,34:Od,35:Rd,36:Nd,37:Nd,38:Ad,39:Rd,40:Od},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Mi extends W5{static getDefaults(){return B(B({},super.getDefaults()),Mi.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,n){super(e,B(B({},Mi.ownDefaults),n)),this.initBehavior()}_set(e,n){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=n,this):(e==="canvas"&&(this.canvas instanceof F0&&this.canvas.textEditingManager.remove(this),n instanceof F0&&n.textEditingManager.add(this)),super._set(e,n))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,n){this[e]!==n&&(this._fireSelectionChanged(),this[e]=n),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,r=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,n,r)}setSelectionStyles(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,n,r)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,n)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const n=this.isEditing;this.isEditing=!1;const r=super.toCanvasElement(e);return this.isEditing=n,r}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const n=this._getCursorBoundaries(),r=this.findAncestorsWithClipPath(),i=r.length>0;let s,o=e;if(i){s=fr(e.canvas),o=s.getContext("2d"),m1(o,this.canvas);const a=this.calcTransformMatrix();o.transform(a[0],a[1],a[2],a[3],a[4],a[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,n):this.renderCursor(o,n),i)for(const a of r){const l=a.clipPath,c=fr(e.canvas),u=c.getContext("2d");if(m1(u,this.canvas),!l.absolutePositioned){const d=a.calcTransformMatrix();u.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l.transform(u),l.drawObject(u,!0,{}),this.drawClipPathOnCache(o,l,c)}i&&(e.setTransform(1,0,0,1,0,0),e.drawImage(s,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let n=this;for(;n;)n.clipPath&&e.push(n),n=n.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1?arguments[1]:void 0;const r=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,n);return{left:r,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,n){return n?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let n=0,r=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(e);for(let c=0;c<s;c++)n+=this.getHeightOfLine(c);const o=this._getLineLeftOffset(s),a=this.__charBounds[s][i];a&&(r=a.left),this.charSpacing!==0&&i===this._textLines[s].length&&(r-=this._getWidthOfCharSpacing());const l={top:n,left:o+(r>0?r:0)};return this.direction==="rtl"&&(this.textAlign===dt||this.textAlign===si||this.textAlign===Oc?l.left*=-1:this.textAlign===Me||this.textAlign===yf?l.left=o-(r>0?r:0):this.textAlign!==xe&&this.textAlign!==Rc||(l.left=o-(r>0?r:0))),l}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,n){this._renderCursor(e,n,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const r=this.get2DCursorLocation(e),i=r.lineIndex,s=r.charIndex>0?r.charIndex-1:0,o=this.getValueOfPropertyAt(i,s,"fontSize"),a=this.getObjectScaling().x*this.canvas.getZoom(),l=this.cursorWidth/a,c=this.getValueOfPropertyAt(i,s,"deltaY"),u=n.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:n.left+n.leftOffset-l/2,top:u+n.top+c,width:l,height:o}}_renderCursor(e,n,r){const{color:i,opacity:s,left:o,top:a,width:l,height:c}=this.getCursorRenderingData(r,n);e.fillStyle=i,e.globalAlpha=s,e.fillRect(o,a,l,c)}renderSelection(e,n){const r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,r,n)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const n=this.getSelectionStartFromPointer(e);this.renderCursorAt(n)}_renderSelection(e,n,r){const i=n.selectionStart,s=n.selectionEnd,o=this.textAlign.includes(si),a=this.get2DCursorLocation(i),l=this.get2DCursorLocation(s),c=a.lineIndex,u=l.lineIndex,d=a.charIndex<0?0:a.charIndex,h=l.charIndex<0?0:l.charIndex;for(let f=c;f<=u;f++){const p=this._getLineLeftOffset(f)||0;let g=this.getHeightOfLine(f),v=0,y=0,b=0;if(f===c&&(y=this.__charBounds[c][d].left),f>=c&&f<u)b=o&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===u)if(h===0)b=this.__charBounds[u][h].left;else{const C=this._getWidthOfCharSpacing();b=this.__charBounds[u][h-1].left+this.__charBounds[u][h-1].width-C}v=g,(this.lineHeight<1||f===u&&this.lineHeight>1)&&(g/=this.lineHeight);let _=r.left+p+y,T=g,x=0;const w=b-y;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",T=1,x=g):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===dt||this.textAlign===si||this.textAlign===Oc?_=this.width-_-w:this.textAlign===Me||this.textAlign===yf?_=r.left+p-b:this.textAlign!==xe&&this.textAlign!==Rc||(_=r.left+p-b)),e.fillRect(_,r.top+r.topOffset+x,w,T),r.topOffset+=v}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,Rt)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),n=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:n}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}L(Mi,"ownDefaults",z5),L(Mi,"type","IText"),ce.setClass(Mi),ce.setClass(Mi,"i-text");class Eo extends Mi{static getDefaults(){return B(B({},super.getDefaults()),Eo.ownDefaults)}constructor(e,n){super(e,B(B({},Eo.ownDefaults),n))}static createControls(){return{controls:vB()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(si)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let n=0,r=0,i=0;const s={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[i]===`
`&&o>0?(r=0,i++,n++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(r++,i++),s[o]={line:n,offset:r},i+=e.graphemeLines[o].length,r+=e.graphemeLines[o].length;return s}styleHas(e,n){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[n];r&&(n=r.line)}return super.styleHas(e,n)}isEmptyStyles(e){if(!this.styles)return!0;let n,r=0,i=e+1,s=!1;const o=this._styleMap[e],a=this._styleMap[e+1];o&&(e=o.line,r=o.offset),a&&(i=a.line,s=i===e,n=a.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const u in l[c]){const d=parseInt(u,10);if(d>=r&&(!s||d<n))for(const h in l[c][u])return!1}return!0}_getStyleDeclaration(e,n){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[e];if(!r)return{};e=r.line,n=r.offset+n}return super._getStyleDeclaration(e,n)}_setStyleDeclaration(e,n,r){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+n,r)}_deleteStyleDeclaration(e,n){const r=this._styleMap[e];super._deleteStyleDeclaration(r.line,r.offset+n)}_getLineStyle(e){const n=this._styleMap[e];return!!this.styles[n.line]}_setLineStyle(e){const n=this._styleMap[e];super._setLineStyle(n.line)}_wrapText(e,n){this.isWrapping=!0;const r=this.getGraphemeDataForRender(e),i=[];for(let s=0;s<r.wordsData.length;s++)i.push(...this._wrapLine(s,n,r));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const n=this.splitByGrapheme,r=n?"":" ";let i=0;return{wordsData:e.map((s,o)=>{let a=0;const l=n?this.graphemeSplit(s):this.wordSplit(s);return l.length===0?[{word:[],width:0}]:l.map(c=>{const u=n?[c]:this.graphemeSplit(c),d=this._measureWord(u,o,a);return i=Math.max(d,i),a+=u.length+r.length,{word:u,width:d}})}),largestWordWidth:i}}_measureWord(e,n){let r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let o=0,a=e.length;o<a;o++)s+=this._getGraphemeBox(e[o],n,o+i,r,!0).kernedWidth,r=e[o];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,n,r){let{largestWordWidth:i,wordsData:s}=r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const a=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ";let d=0,h=[],f=0,p=0,g=!0;n-=o;const v=Math.max(n,i,this.dynamicMinWidth),y=s[e];let b;for(f=0,b=0;b<y.length;b++){const{word:_,width:T}=y[b];f+=_.length,d+=p+T-a,d>v&&!g?(c.push(h),h=[],d=T,g=!0):d+=a,g||l||h.push(u),h=h.concat(_),p=l?0:this._measureWord([u],e,f),f++,g=!1}return b&&c.push(h),i+o>this.dynamicMinWidth&&(this.dynamicMinWidth=i-a+o),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,n){return this.splitByGrapheme&&!n?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const n=super._splitTextIntoLines(e),r=this._wrapText(n.lines,this.width),i=new Array(r.length);for(let s=0;s<r.length;s++)i[s]=r[s].join("");return n.lines=i,n.graphemeLines=r,n}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const n in this._styleMap){const r=parseInt(n,10);if(this._textLines[r]){const i=this._styleMap[n].line;e.set("".concat(i),!0)}}for(const n in this.styles)e.has(n)||delete this.styles[n]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}L(Eo,"type","Textbox"),L(Eo,"textLayoutProperties",[...Mi.textLayoutProperties,"width"]),L(Eo,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),ce.setClass(Eo);class y1 extends wp{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,n){const{target:r}=e,{clipPath:i,group:s}=r;if(!i||!this.shouldPerformLayout(e))return;const{width:o,height:a}=Fi(TA(r,i)),l=new Y(o,a);if(i.absolutePositioned)return{center:Ya(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:l};{const c=i.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:u=new Y,correction:d=new Y}=this.calcBoundingBox(n,e)||{};return{center:u.add(c),correction:d.subtract(c),size:l}}return{center:r.getRelativeCenterPoint().add(c),size:l}}}}L(y1,"type","clip-path"),ce.setClass(y1);class b1 extends wp{getInitialSize(e,n){let{target:r}=e,{size:i}=n;return new Y(r.width||i.x,r.height||i.y)}}L(b1,"type","fixed"),ce.setClass(b1);class $5 extends yu{subscribeTargets(e){const n=e.target;e.targets.reduce((r,i)=>(i.parent&&r.add(i.parent),r),new Set).forEach(r=>{r.layoutManager.subscribeTargets({target:r,targets:[n]})})}unsubscribeTargets(e){const n=e.target,r=n.getObjects();e.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{!r.some(s=>s.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[n]})})}}class wo extends Po{static getDefaults(){return B(B({},super.getDefaults()),wo.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,wo.ownDefaults),this.setOptions(n);const{left:r,top:i,layoutManager:s}=n;this.groupInit(e,{left:r,top:i,layoutManager:s??new $5})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.multiSelectionStacking==="selection-order"?this.add(...n):n.forEach(i=>{const s=this._objects.findIndex(a=>a.isInFrontOf(i)),o=s===-1?this.size():s;this.insertAt(o,i)})}canEnterGroup(e){return this.getObjects().some(n=>n.isDescendantOf(e)||e.isDescendantOf(n))?(qs("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,n){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,n)}exitGroup(e,n){this._exitGroup(e,n),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,n){super._onAfterObjectsChange(e,n);const r=new Set;n.forEach(i=>{const{parent:s}=i;s&&r.add(s)}),e===qb?r.forEach(i=>{i._onAfterObjectsChange(bf,n)}):r.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,n,r){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=B(B({hasControls:!1},r),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,i);super._renderControls(e,n),e.restore()}}L(wo,"type","ActiveSelection"),L(wo,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),ce.setClass(wo),ce.setClass(wo,"activeSelection");class G5{constructor(){L(this,"resources",{})}applyFilters(e,n,r,i,s){const o=s.getContext("2d");if(!o)return;o.drawImage(n,0,0,r,i);const a={sourceWidth:r,sourceHeight:i,imageData:o.getImageData(0,0,r,i),originalEl:n,originalImageData:o.getImageData(0,0,r,i),canvasEl:s,ctx:o,filterBackend:this};e.forEach(c=>{c.applyTo(a)});const{imageData:l}=a;return l.width===r&&l.height===i||(s.width=l.width,s.height=l.height),o.putImageData(l,0,0),a}}class jA{constructor(){let{tileSize:e=Ie.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};L(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),L(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,n){this.dispose(),this.createWebGLCanvas(e,n)}createWebGLCanvas(e,n){const r=fr({width:e,height:n}),i=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=r,this.gl=i)}applyFilters(e,n,r,i,s,o){const a=this.gl,l=s.getContext("2d");if(!a||!l)return;let c;o&&(c=this.getCachedTexture(o,n));const u={originalWidth:n.width||n.naturalWidth||0,originalHeight:n.height||n.naturalHeight||0,sourceWidth:r,sourceHeight:i,destinationWidth:r,destinationHeight:i,context:a,sourceTexture:this.createTexture(a,r,i,c?void 0:n),targetTexture:this.createTexture(a,r,i),originalTexture:c||this.createTexture(a,r,i,c?void 0:n),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},d=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,d),e.forEach(h=>{h&&h.applyTo(u)}),function(h){const f=h.targetCanvas,p=f.width,g=f.height,v=h.destinationWidth,y=h.destinationHeight;p===v&&g===y||(f.width=v,f.height=y)}(u),this.copyGLTo2D(a,u),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(u.sourceTexture),a.deleteTexture(u.targetTexture),a.deleteFramebuffer(d),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,n,r,i,s){const{NEAREST:o,TEXTURE_2D:a,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:d,TEXTURE_MIN_FILTER:h,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:p}=e,g=e.createTexture();return e.bindTexture(a,g),e.texParameteri(a,d,s||o),e.texParameteri(a,h,s||o),e.texParameteri(a,f,u),e.texParameteri(a,p,u),i?e.texImage2D(a,0,l,l,c,i):e.texImage2D(a,0,l,n,r,0,l,c,null),g}getCachedTexture(e,n,r){const{textureCache:i}=this;if(i[e])return i[e];{const s=this.createTexture(this.gl,n.width,n.height,n,r);return s&&(i[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,n){const r=e.canvas,i=n.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const o=r.height-i.height;s.drawImage(r,0,o,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,n){const r=n.targetCanvas.getContext("2d"),i=n.destinationWidth,s=n.destinationHeight,o=i*s*4;if(!r)return;const a=new Uint8Array(this.imageBuffer,0,o),l=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,s,e.RGBA,e.UNSIGNED_BYTE,a);const c=new ImageData(l,i,s);r.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,n={renderer:"",vendor:""};if(!e)return n;const r=e.getExtension("WEBGL_debug_renderer_info");if(r){const i=e.getParameter(r.UNMASKED_RENDERER_WEBGL),s=e.getParameter(r.UNMASKED_VENDOR_WEBGL);i&&(n.renderer=i.toLowerCase()),s&&(n.vendor=s.toLowerCase())}return this.gpuInfo=n,n}}let Ug;function Y5(){const{WebGLProbe:t}=pi();return t.queryWebGL(Yi()),Ie.enableGLFiltering&&t.isSupported(Ie.textureSize)?new jA({tileSize:Ie.textureSize}):new G5}function jg(){return!Ug&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Ug=Y5()),Ug}const V5=["filters","resizeFilter","src","crossOrigin","type"],HA=["cropX","cropY"];class nr extends Xt{static getDefaults(){return B(B({},super.getDefaults()),nr.ownDefaults)}constructor(e,n){super(),L(this,"_lastScaleX",1),L(this,"_lastScaleY",1),L(this,"_filterScalingX",1),L(this,"_filterScalingY",1),this.filters=[],Object.assign(this,nr.ownDefaults),this.setOptions(n),this.cacheKey="texture".concat(Ks()),this.setElement(typeof e=="string"?(this.canvas&&Pr(this.canvas.getElement())||Rl()).getElementById(e):e,n)}getElement(){return this._element}setElement(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(r),(n=e.classList)===null||n===void 0||n.add(nr.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const n=jg(!1);n instanceof jA&&n.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const n=this[e];n&&pi().dispose(n),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const n=this.width/2,r=this.height/2;e.beginPath(),e.moveTo(-n,-r),e.lineTo(n,-r),e.lineTo(n,r),e.lineTo(-n,r),e.lineTo(-n,-r),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=[];return this.filters.forEach(r=>{r&&n.push(r.toObject())}),B(B({},super.toObject([...HA,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],n=this._element,r=-this.width/2,i=-this.height/2;let s=[],o=[],a="",l="";if(!n)return[];if(this.hasCrop()){const c=Ks();s.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+r+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(n.width||n.naturalWidth,'" height="').concat(n.height||n.naturalHeight,'"').concat(l).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,o=['	<rect x="'.concat(r,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return s=this.paintFirst!==Rt?s.concat(o,e):s.concat(e,o),s}getSrc(e){const n=e?this._element:this._originalElement;return n?n.toDataURL?n.toDataURL():this.srcFromAttribute?n.getAttribute("src")||"":n.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:n,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return kh(e,{crossOrigin:n,signal:r}).then(i=>{n!==void 0&&this.set({crossOrigin:n}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,n=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),i=r.x,s=r.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>n&&s>n)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const a=fr(o),{width:l,height:c}=o;this._element=a,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=s,jg().applyFilters([e],o,l,c,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const n=this._originalElement,r=n.naturalWidth||n.width,i=n.naturalHeight||n.height;if(this._element===this._originalElement){const s=fr({width:r,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,i),this._lastScaleX=1,this._lastScaleY=1);jg().applyFilters(e,this._originalElement,r,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const n=this._element;if(!n)return;const r=this._filterScalingX,i=this._filterScalingY,s=this.width,o=this.height,a=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=n.naturalWidth||n.width,u=n.naturalHeight||n.height,d=a*r,h=l*i,f=Math.min(s*r,c-d),p=Math.min(o*i,u-h),g=-s/2,v=-o/2,y=Math.min(s,c/r-a),b=Math.min(o,u/i-l);n&&e.drawImage(n,d,h,f,p,g,v,y,b)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.getOriginalSize();this.width=e||r.width,this.height=n||r.height}parsePreserveAspectRatioAttribute(){const e=F6(this.preserveAspectRatio||""),n=this.width,r=this.height,i={width:n,height:r};let s,o=this._element.width,a=this._element.height,l=1,c=1,u=0,d=0,h=0,f=0;return!e||e.alignX===Nn&&e.alignY===Nn?(l=n/o,c=r/a):(e.meetOrSlice==="meet"&&(l=c=ZB(this._element,i),s=(n-o*l)/2,e.alignX==="Min"&&(u=-s),e.alignX==="Max"&&(u=s),s=(r-a*c)/2,e.alignY==="Min"&&(d=-s),e.alignY==="Max"&&(d=s)),e.meetOrSlice==="slice"&&(l=c=e5(this._element,i),s=o-n/l,e.alignX==="Mid"&&(h=s/2),e.alignX==="Max"&&(h=s),s=a-r/c,e.alignY==="Mid"&&(f=s/2),e.alignY==="Max"&&(f=s),o=n/l,a=r/c)),{width:o,height:a,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:d,cropX:h,cropY:f}}static fromObject(e,n){let{filters:r,resizeFilter:i,src:s,crossOrigin:o,type:a}=e,l=Ze(e,V5);return Promise.all([kh(s,B(B({},n),{},{crossOrigin:o})),r&&fu(r,n),i&&fu([i],n),bp(l,n)]).then(c=>{let[u,d=[],[h]=[],f={}]=c;return new this(u,B(B({},l),{},{src:s,filters:d,resizeFilter:h},f))})}static fromURL(e){let{crossOrigin:n=null,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return kh(e,{crossOrigin:n,signal:r}).then(s=>new this(s,i))}static async fromElement(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const i=Qi(e,this.ATTRIBUTE_NAMES,r);return this.fromURL(i["xlink:href"]||i.href,n,i).catch(s=>(qs("log","Unable to parse Image",s),null))}}L(nr,"type","Image"),L(nr,"cacheProperties",[...Xi,...HA]),L(nr,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),L(nr,"CSS_CANVAS","canvas-img"),L(nr,"ATTRIBUTE_NAMES",[...Zs,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),ce.setClass(nr),ce.setSVGClass(nr);_p(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const xp=t=>t.webgl!==void 0,Kb="precision highp float",q5=`
    `.concat(Kb,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),K5=["type"],X5=["type"],Q5=new RegExp(Kb,"g");class Nt{get type(){return this.constructor.type}constructor(){let e=Ze(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K5);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return q5}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=pi();i!=="highp"&&(n=n.replace(Q5,Kb.replace("highp",i)));const s=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),a=e.createProgram();if(!s||!o||!a)throw new ai("Vertex, fragment shader or program creation error");if(e.shaderSource(s,r),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new ai("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new ai("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(a,s),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new ai('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(a)));const l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(e,a),uniformLocations:l}}getAttributeLocations(e,n){return{aPosition:e.getAttribLocation(n,"aPosition")}}getUniformLocations(e,n){const r=this.constructor.uniformLocations,i={};for(let s=0;s<r.length;s++)i[r[s]]=e.getUniformLocation(n,r[s]);return i}sendAttributeData(e,n,r){const i=n.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}_setupFrameBuffer(e){const n=e.context;if(e.passes>1){const r=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===r&&e.sourceHeight===i||(n.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(n,r,i)),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e.targetTexture,0)}else n.bindFramebuffer(n.FRAMEBUFFER,null),n.finish()}_swapTextures(e){e.passes--,e.pass++;const n=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=n}isNeutralState(e){return!1}applyTo(e){xp(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const n=this.getCacheKey();return e.programCache[n]||(e.programCache[n]=this.createProgram(e.context)),e.programCache[n]}applyToWebGL(e){const n=e.context,r=this.retrieveShader(e);e.pass===0&&e.originalTexture?n.bindTexture(n.TEXTURE_2D,e.originalTexture):n.bindTexture(n.TEXTURE_2D,e.sourceTexture),n.useProgram(r.program),this.sendAttributeData(n,r.attributeLocations,e.aPosition),n.uniform1f(r.uniformLocations.uStepW,1/e.sourceWidth),n.uniform1f(r.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(n,r.uniformLocations),n.viewport(0,0,e.destinationWidth,e.destinationHeight),n.drawArrays(n.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,n,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,n),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,n){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:n,sourceHeight:r}=e,i=fr({width:n,height:r});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return B({type:this.type},e.reduce((n,r)=>(n[r]=this[r],n),{}))}toJSON(){return this.toObject()}static async fromObject(e,n){return new this(Ze(e,X5))}}L(Nt,"type","BaseFilter"),L(Nt,"uniformLocations",[]);const J5={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Dd extends Nt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(J5[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:n}}=e;const r=new Pe(this.color).getSource(),i=this.alpha,s=r[0]*i,o=r[1]*i,a=r[2]*i,l=1-i;for(let c=0;c<n.length;c+=4){const u=n[c],d=n[c+1],h=n[c+2];let f,p,g;switch(this.mode){case"multiply":f=u*s/255,p=d*o/255,g=h*a/255;break;case"screen":f=255-(255-u)*(255-s)/255,p=255-(255-d)*(255-o)/255,g=255-(255-h)*(255-a)/255;break;case"add":f=u+s,p=d+o,g=h+a;break;case"difference":f=Math.abs(u-s),p=Math.abs(d-o),g=Math.abs(h-a);break;case"subtract":f=u-s,p=d-o,g=h-a;break;case"darken":f=Math.min(u,s),p=Math.min(d,o),g=Math.min(h,a);break;case"lighten":f=Math.max(u,s),p=Math.max(d,o),g=Math.max(h,a);break;case"overlay":f=s<128?2*u*s/255:255-2*(255-u)*(255-s)/255,p=o<128?2*d*o/255:255-2*(255-d)*(255-o)/255,g=a<128?2*h*a/255:255-2*(255-h)*(255-a)/255;break;case"exclusion":f=s+u-2*s*u/255,p=o+d-2*o*d/255,g=a+h-2*a*h/255;break;case"tint":f=s+u*l,p=o+d*l,g=a+h*l}n[c]=f,n[c+1]=p,n[c+2]=g}}sendUniformData(e,n){const r=new Pe(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)}}L(Dd,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),L(Dd,"type","BlendColor"),L(Dd,"uniformLocations",["uColor"]),ce.setClass(Dd);const Z5={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},e8=["type","image"];class Pd extends Nt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Z5[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const n=e.context,r=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(n,r,n.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(n,n.TEXTURE1)}createTexture(e,n){return e.getCachedTexture(n.cacheKey,n.getElement())}calculateMatrix(){const e=this.image,{width:n,height:r}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/n,-e.top/r,1]}applyTo2d(e){let{imageData:{data:n,width:r,height:i},filterBackend:{resources:s}}=e;const o=this.image;s.blendImage||(s.blendImage=Yi());const a=s.blendImage,l=a.getContext("2d");a.width!==r||a.height!==i?(a.width=r,a.height=i):l.clearRect(0,0,r,i),l.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),l.drawImage(o.getElement(),0,0,r,i);const c=l.getImageData(0,0,r,i).data;for(let u=0;u<n.length;u+=4){const d=n[u],h=n[u+1],f=n[u+2],p=n[u+3],g=c[u],v=c[u+1],y=c[u+2],b=c[u+3];switch(this.mode){case"multiply":n[u]=d*g/255,n[u+1]=h*v/255,n[u+2]=f*y/255,n[u+3]=p*b/255;break;case"mask":n[u+3]=b}}}sendUniformData(e,n){const r=this.calculateMatrix();e.uniform1i(n.uImage,1),e.uniformMatrix3fv(n.uTransformMatrix,!1,r)}toObject(){return B(B({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,n){let{type:r,image:i}=e,s=Ze(e,e8);return nr.fromObject(i,n).then(o=>new this(B(B({},s),{},{image:o})))}}L(Pd,"type","BlendImage"),L(Pd,"defaults",{mode:"multiply",alpha:1}),L(Pd,"uniformLocations",["uTransformMatrix","uImage"]),ce.setClass(Pd);class Md extends Nt{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){xp(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:n,width:r,height:i}}=e;this.aspectRatio=r/i,this.horizontal=!0;let s=this.getBlurValue()*r;const o=new Uint8ClampedArray(n),a=15,l=4*r;for(let c=0;c<n.length;c+=4){let u=0,d=0,h=0,f=0,p=0;const g=c-c%l,v=g+l;for(let y=-14;y<a;y++){const b=y/a,_=4*Math.floor(s*b),T=1-Math.abs(b);let x=c+_;x<g?x=g:x>v&&(x=v);const w=n[x+3]*T;u+=n[x]*w,d+=n[x+1]*w,h+=n[x+2]*w,f+=w,p+=T}o[c]=u/f,o[c+1]=d/f,o[c+2]=h/f,o[c+3]=f/p}this.horizontal=!1,s=this.getBlurValue()*i;for(let c=0;c<o.length;c+=4){let u=0,d=0,h=0,f=0,p=0;const g=c%l,v=o.length-l+g;for(let y=-14;y<a;y++){const b=y/a,_=Math.floor(s*b)*l,T=1-Math.abs(b);let x=c+_;x<g?x=g:x>v&&(x=v);const w=o[x+3]*T;u+=o[x]*w,d+=o[x+1]*w,h+=o[x+2]*w,f+=w,p+=T}n[c]=u/f,n[c+1]=d/f,n[c+2]=h/f,n[c+3]=f/p}}sendUniformData(e,n){const r=this.chooseRightDelta();e.uniform2fv(n.uDelta,r)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:n,aspectRatio:r}=this;return n?r>1&&(e=1/r):r<1&&(e=r),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}L(Md,"type","Blur"),L(Md,"defaults",{blur:0}),L(Md,"uniformLocations",["uDelta"]),ce.setClass(Md);class Ld extends Nt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=Math.round(255*this.brightness);for(let i=0;i<n.length;i+=4)n[i]+=r,n[i+1]+=r,n[i+2]+=r}isNeutralState(){return this.brightness===0}sendUniformData(e,n){e.uniform1f(n.uBrightness,this.brightness)}}L(Ld,"type","Brightness"),L(Ld,"defaults",{brightness:0}),L(Ld,"uniformLocations",["uBrightness"]),ce.setClass(Ld);const WA={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class La extends Nt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const n=e.imageData.data,r=this.matrix,i=this.colorsOnly;for(let s=0;s<n.length;s+=4){const o=n[s],a=n[s+1],l=n[s+2];if(n[s]=o*r[0]+a*r[1]+l*r[2]+255*r[4],n[s+1]=o*r[5]+a*r[6]+l*r[7]+255*r[9],n[s+2]=o*r[10]+a*r[11]+l*r[12]+255*r[14],!i){const c=n[s+3];n[s]+=c*r[3],n[s+1]+=c*r[8],n[s+2]+=c*r[13],n[s+3]=o*r[15]+a*r[16]+l*r[17]+c*r[18]+255*r[19]}}}sendUniformData(e,n){const r=this.matrix,i=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],s=[r[4],r[9],r[14],r[19]];e.uniformMatrix4fv(n.uColorMatrix,!1,i),e.uniform4fv(n.uConstants,s)}toObject(){return B(B({},super.toObject()),{},{matrix:[...this.matrix]})}}function Ko(t,e){var n;const r=(L(n=class extends La{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),L(n,"defaults",{colorsOnly:!1,matrix:e}),n);return ce.setClass(r,t),r}L(La,"type","ColorMatrix"),L(La,"defaults",WA),L(La,"uniformLocations",["uColorMatrix","uConstants"]),ce.setClass(La);Ko("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Ko("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Ko("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Ko("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Ko("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Ko("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Ko("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class v1 extends Nt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){xp(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(n=>{n.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,n){return Promise.all((e.subFilters||[]).map(r=>ce.getClass(r.type).fromObject(r,n))).then(r=>new this({subFilters:r}))}}L(v1,"type","Composed"),ce.setClass(v1);class Fd extends Nt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:n}}=e;const r=Math.floor(255*this.contrast),i=259*(r+255)/(255*(259-r));for(let s=0;s<n.length;s+=4)n[s]=i*(n[s]-128)+128,n[s+1]=i*(n[s+1]-128)+128,n[s+2]=i*(n[s+2]-128)+128}sendUniformData(e,n){e.uniform1f(n.uContrast,this.contrast)}}L(Fd,"type","Contrast"),L(Fd,"defaults",{contrast:0}),L(Fd,"uniformLocations",["uContrast"]),ce.setClass(Fd);const t8={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Bd extends Nt{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return t8[this.getCacheKey()]}applyTo2d(e){const n=e.imageData,r=n.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),a=n.width,l=n.height,c=e.ctx.createImageData(a,l),u=c.data,d=this.opaque?1:0;let h,f,p,g,v,y,b,_,T,x,w,C,I;for(w=0;w<l;w++)for(x=0;x<a;x++){for(v=4*(w*a+x),h=0,f=0,p=0,g=0,I=0;I<s;I++)for(C=0;C<s;C++)b=w+I-o,y=x+C-o,b<0||b>=l||y<0||y>=a||(_=4*(b*a+y),T=i[I*s+C],h+=r[_]*T,f+=r[_+1]*T,p+=r[_+2]*T,d||(g+=r[_+3]*T));u[v]=h,u[v+1]=f,u[v+2]=p,u[v+3]=d?r[v+3]:g}e.imageData=c}sendUniformData(e,n){e.uniform1fv(n.uMatrix,this.matrix)}toObject(){return B(B({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}L(Bd,"type","Convolute"),L(Bd,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),L(Bd,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),ce.setClass(Bd);const zA="Gamma";class Ud extends Nt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:n}}=e;const r=this.gamma,i=1/r[0],s=1/r[1],o=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const a=this.rgbValues;for(let l=0;l<256;l++)a.r[l]=255*Math.pow(l/255,i),a.g[l]=255*Math.pow(l/255,s),a.b[l]=255*Math.pow(l/255,o);for(let l=0;l<n.length;l+=4)n[l]=a.r[n[l]],n[l+1]=a.g[n[l+1]],n[l+2]=a.b[n[l+2]]}sendUniformData(e,n){e.uniform3fv(n.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:zA,gamma:this.gamma.concat()}}}L(Ud,"type",zA),L(Ud,"defaults",{gamma:[1,1,1]}),L(Ud,"uniformLocations",["uGamma"]),ce.setClass(Ud);const n8={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class jd extends Nt{applyTo2d(e){let{imageData:{data:n}}=e;for(let r,i=0;i<n.length;i+=4){const s=n[i],o=n[i+1],a=n[i+2];switch(this.mode){case"average":r=(s+o+a)/3;break;case"lightness":r=(Math.min(s,o,a)+Math.max(s,o,a))/2;break;case"luminosity":r=.21*s+.72*o+.07*a}n[i+2]=n[i+1]=n[i]=r}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return n8[this.mode]}sendUniformData(e,n){e.uniform1i(n.uMode,1)}isNeutralState(){return!1}}L(jd,"type","Grayscale"),L(jd,"defaults",{mode:"average"}),L(jd,"uniformLocations",["uMode"]),ce.setClass(jd);const r8=B(B({},WA),{},{rotation:0});class Hg extends La{calculateMatrix(){const e=this.rotation*Math.PI,n=$i(e),r=Gi(e),i=1/3,s=Math.sqrt(i)*r,o=1-n;this.matrix=[n+o/3,i*o-s,i*o+s,0,0,i*o+s,n+i*o,i*o-s,0,0,i*o-s,i*o+s,n+i*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}L(Hg,"type","HueRotation"),L(Hg,"defaults",r8),ce.setClass(Hg);class Hd extends Nt{applyTo2d(e){let{imageData:{data:n}}=e;for(let r=0;r<n.length;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2],this.alpha&&(n[r+3]=255-n[r+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,n){e.uniform1i(n.uInvert,Number(this.invert)),e.uniform1i(n.uAlpha,Number(this.alpha))}}L(Hd,"type","Invert"),L(Hd,"defaults",{alpha:!1,invert:!0}),L(Hd,"uniformLocations",["uInvert","uAlpha"]),ce.setClass(Hd);class Wd extends Nt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=this.noise;for(let i=0;i<n.length;i+=4){const s=(.5-Math.random())*r;n[i]+=s,n[i+1]+=s,n[i+2]+=s}}sendUniformData(e,n){e.uniform1f(n.uNoise,this.noise/255),e.uniform1f(n.uSeed,Math.random())}isNeutralState(){return this.noise===0}}L(Wd,"type","Noise"),L(Wd,"defaults",{noise:0}),L(Wd,"uniformLocations",["uNoise","uSeed"]),ce.setClass(Wd);class zd extends Nt{applyTo2d(e){let{imageData:{data:n,width:r,height:i}}=e;for(let s=0;s<i;s+=this.blocksize)for(let o=0;o<r;o+=this.blocksize){const a=4*s*r+4*o,l=n[a],c=n[a+1],u=n[a+2],d=n[a+3];for(let h=s;h<Math.min(s+this.blocksize,i);h++)for(let f=o;f<Math.min(o+this.blocksize,r);f++){const p=4*h*r+4*f;n[p]=l,n[p+1]=c,n[p+2]=u,n[p+3]=d}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,n){e.uniform1f(n.uBlocksize,this.blocksize)}}L(zd,"type","Pixelate"),L(zd,"defaults",{blocksize:4}),L(zd,"uniformLocations",["uBlocksize"]),ce.setClass(zd);class $d extends Nt{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=255*this.distance,i=new Pe(this.color).getSource(),s=[i[0]-r,i[1]-r,i[2]-r],o=[i[0]+r,i[1]+r,i[2]+r];for(let a=0;a<n.length;a+=4){const l=n[a],c=n[a+1],u=n[a+2];l>s[0]&&c>s[1]&&u>s[2]&&l<o[0]&&c<o[1]&&u<o[2]&&(n[a+3]=0)}}sendUniformData(e,n){const r=new Pe(this.color).getSource(),i=this.distance,s=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],o=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(n.uLow,s),e.uniform4fv(n.uHigh,o)}}L($d,"type","RemoveColor"),L($d,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),L($d,"uniformLocations",["uLow","uHigh"]),ce.setClass($d);class Gd extends Nt{sendUniformData(e,n){e.uniform2fv(n.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(n.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),n=this.tempScale,r=this.getFilterWindow(),i=new Array(r);for(let s=1;s<=r;s++)i[s-1]=e(s*n);return i}generateShader(e){const n=new Array(e);for(let r=1;r<=e;r++)n[r-1]="".concat(r,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(n.map((r,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(r,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(r,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){xp(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return n=>{if(n>=e||n<=-e)return 0;if(n<11920929e-14&&n>-11920929e-14)return 1;const r=(n*=Math.PI)/e;return Math.sin(n)/n*Math.sin(r)/r}}applyTo2d(e){const n=e.imageData,r=this.scaleX,i=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/i;const s=n.width,o=n.height,a=Math.round(s*r),l=Math.round(o*i);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,o,a,l):this.resizeType==="hermite"?this.hermiteFastResize(e,s,o,a,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,o,a,l):this.resizeType==="lanczos"?this.lanczosResize(e,s,o,a,l):new ImageData(a,l),e.imageData=c}sliceByTwo(e,n,r,i,s){const o=e.imageData,a=.5;let l=!1,c=!1,u=n*a,d=r*a;const h=e.filterBackend.resources;let f=0,p=0;const g=n;let v=0;h.sliceByTwo||(h.sliceByTwo=Yi());const y=h.sliceByTwo;(y.width<1.5*n||y.height<r)&&(y.width=1.5*n,y.height=r);const b=y.getContext("2d");for(b.clearRect(0,0,1.5*n,r),b.putImageData(o,0,0),i=Math.floor(i),s=Math.floor(s);!l||!c;)n=u,r=d,i<Math.floor(u*a)?u=Math.floor(u*a):(u=i,l=!0),s<Math.floor(d*a)?d=Math.floor(d*a):(d=s,c=!0),b.drawImage(y,f,p,n,r,g,v,u,d),f=g,p=v,v+=d;return b.getImageData(f,p,i,s)}lanczosResize(e,n,r,i,s){const o=e.imageData.data,a=e.ctx.createImageData(i,s),l=a.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,d=this.rcpScaleY,h=2/this.rcpScaleX,f=2/this.rcpScaleY,p=Math.ceil(u*this.lanczosLobes/2),g=Math.ceil(d*this.lanczosLobes/2),v={},y={x:0,y:0},b={x:0,y:0};return function _(T){let x,w,C,I,U,O,G,j,X,$,q;for(y.x=(T+.5)*u,b.x=Math.floor(y.x),x=0;x<s;x++){for(y.y=(x+.5)*d,b.y=Math.floor(y.y),U=0,O=0,G=0,j=0,X=0,w=b.x-p;w<=b.x+p;w++)if(!(w<0||w>=n)){$=Math.floor(1e3*Math.abs(w-y.x)),v[$]||(v[$]={});for(let M=b.y-g;M<=b.y+g;M++)M<0||M>=r||(q=Math.floor(1e3*Math.abs(M-y.y)),v[$][q]||(v[$][q]=c(Math.sqrt(Math.pow($*h,2)+Math.pow(q*f,2))/1e3)),C=v[$][q],C>0&&(I=4*(M*n+w),U+=C,O+=C*o[I],G+=C*o[I+1],j+=C*o[I+2],X+=C*o[I+3]))}I=4*(x*i+T),l[I]=O/U,l[I+1]=G/U,l[I+2]=j/U,l[I+3]=X/U}return++T<i?_(T):a}(0)}bilinearFiltering(e,n,r,i,s){let o,a,l,c,u,d,h,f,p,g,v,y,b,_=0;const T=this.rcpScaleX,x=this.rcpScaleY,w=4*(n-1),C=e.imageData.data,I=e.ctx.createImageData(i,s),U=I.data;for(h=0;h<s;h++)for(f=0;f<i;f++)for(u=Math.floor(T*f),d=Math.floor(x*h),p=T*f-u,g=x*h-d,b=4*(d*n+u),v=0;v<4;v++)o=C[b+v],a=C[b+4+v],l=C[b+w+v],c=C[b+w+4+v],y=o*(1-p)*(1-g)+a*p*(1-g)+l*g*(1-p)+c*p*g,U[_++]=y;return I}hermiteFastResize(e,n,r,i,s){const o=this.rcpScaleX,a=this.rcpScaleY,l=Math.ceil(o/2),c=Math.ceil(a/2),u=e.imageData.data,d=e.ctx.createImageData(i,s),h=d.data;for(let f=0;f<s;f++)for(let p=0;p<i;p++){const g=4*(p+f*i);let v=0,y=0,b=0,_=0,T=0,x=0,w=0;const C=(f+.5)*a;for(let I=Math.floor(f*a);I<(f+1)*a;I++){const U=Math.abs(C-(I+.5))/c,O=(p+.5)*o,G=U*U;for(let j=Math.floor(p*o);j<(p+1)*o;j++){let X=Math.abs(O-(j+.5))/l;const $=Math.sqrt(G+X*X);$>1&&$<-1||(v=2*$*$*$-3*$*$+1,v>0&&(X=4*(j+I*n),w+=v*u[X+3],b+=v,u[X+3]<255&&(v=v*u[X+3]/250),_+=v*u[X],T+=v*u[X+1],x+=v*u[X+2],y+=v))}}h[g]=_/y,h[g+1]=T/y,h[g+2]=x/y,h[g+3]=w/b}return d}}L(Gd,"type","Resize"),L(Gd,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),L(Gd,"uniformLocations",["uDelta","uTaps"]),ce.setClass(Gd);class Yd extends Nt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=-this.saturation;for(let i=0;i<n.length;i+=4){const s=n[i],o=n[i+1],a=n[i+2],l=Math.max(s,o,a);n[i]+=l!==s?(l-s)*r:0,n[i+1]+=l!==o?(l-o)*r:0,n[i+2]+=l!==a?(l-a)*r:0}}sendUniformData(e,n){e.uniform1f(n.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}L(Yd,"type","Saturation"),L(Yd,"defaults",{saturation:0}),L(Yd,"uniformLocations",["uSaturation"]),ce.setClass(Yd);class Vd extends Nt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:n}}=e;const r=-this.vibrance;for(let i=0;i<n.length;i+=4){const s=n[i],o=n[i+1],a=n[i+2],l=Math.max(s,o,a),c=(s+o+a)/3,u=2*Math.abs(l-c)/255*r;n[i]+=l!==s?(l-s)*u:0,n[i+1]+=l!==o?(l-o)*u:0,n[i+2]+=l!==a?(l-a)*u:0}}sendUniformData(e,n){e.uniform1f(n.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}L(Vd,"type","Vibrance"),L(Vd,"defaults",{vibrance:0}),L(Vd,"uniformLocations",["uVibrance"]),ce.setClass(Vd);const i8=()=>{const t=A.useRef(null),[e,n]=A.useState(null),[r,i]=A.useState("#000000"),[s,o]=A.useState("draw"),a=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFFFFF"];A.useEffect(()=>{if(!t.current)return;const c=new F0(t.current,{width:500,height:350,backgroundColor:"#ffffff"});return c.freeDrawingBrush=new Ef(c),c.freeDrawingBrush.color=r,c.freeDrawingBrush.width=3,c.isDrawingMode=!0,n(c),()=>{c.dispose()}},[]),A.useEffect(()=>{e&&(e.isDrawingMode=!0,e.freeDrawingBrush&&(e.freeDrawingBrush.color=s==="erase"?"#ffffff":r,e.freeDrawingBrush.width=s==="erase"?20:3))},[s,r,e]);const l=()=>{e&&(e.clear(),e.backgroundColor="#ffffff",e.renderAll(),Mr.success("Canvas cleared!"))};return E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsxs("div",{className:"win95-border-inset bg-muted p-2 flex gap-2 items-center flex-wrap",children:[E.jsx("button",{onClick:()=>o("draw"),className:`win95-border p-1.5 ${s==="draw"?"win95-border-inset bg-muted":"bg-card hover:bg-muted"}`,title:"Pencil",children:E.jsx(FP,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>o("erase"),className:`win95-border p-1.5 ${s==="erase"?"win95-border-inset bg-muted":"bg-card hover:bg-muted"}`,title:"Eraser",children:E.jsx(xP,{className:"w-4 h-4"})}),E.jsx("div",{className:"w-px h-6 bg-border mx-1"}),E.jsx("button",{onClick:l,className:"win95-border bg-card hover:bg-muted p-1.5",title:"Clear",children:E.jsx(WP,{className:"w-4 h-4"})}),E.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.map(c=>E.jsx("button",{onClick:()=>i(c),className:`win95-border w-6 h-6 ${r===c?"win95-border-inset":""}`,style:{backgroundColor:c},title:c},c))]}),E.jsx("div",{className:"win95-border-inset",children:E.jsx("canvas",{ref:t,className:"pixelated"})})]})},s8="modulepreload",o8=function(t){return"/"+t},_1={},Bu=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=o8(l),l in _1)return;_1[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":s8,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},a8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>Fl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Xb extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class E1 extends Xb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class w1 extends Xb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class T1 extends Xb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var U0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(U0||(U0={}));var l8=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class c8{constructor(e,{headers:n={},customFetch:r,region:i=U0.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=a8(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return l8(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:s,method:o,body:a,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:h,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new E1(y)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new w1(f);if(!f.ok)throw new T1(f);let g=((i=f.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield f.json():g==="application/octet-stream"?v=yield f.blob():g==="text/event-stream"?v=f:g==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new E1(s)}:{data:null,error:s,response:s instanceof T1||s instanceof w1?s.context:void 0}}})}}var Sn={},Qb={},Sp={},Uu={},Cp={},kp={},u8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ml=u8();const d8=ml.fetch,$A=ml.fetch.bind(ml),GA=ml.Headers,h8=ml.Request,f8=ml.Response,Fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:GA,Request:h8,Response:f8,default:$A,fetch:d8},Symbol.toStringTag,{value:"Module"})),p8=OT(Fl);var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});let g8=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ap.default=g8;var YA=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kp,"__esModule",{value:!0});const m8=YA(p8),y8=YA(Ap);let b8=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=m8.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l,c;let u=null,d=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=b:d=JSON.parse(b))}const v=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await s.text();try{u=JSON.parse(v),Array.isArray(u)&&s.status===404&&(d=[],u=null,f=200,p="OK")}catch{s.status===404&&v===""?(f=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new y8.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};kp.default=b8;var v8=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cp,"__esModule",{value:!0});const _8=v8(kp);let E8=class extends _8.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Cp.default=E8;var w8=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uu,"__esModule",{value:!0});const T8=w8(Cp);let x8=class extends T8.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Uu.default=x8;var S8=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sp,"__esModule",{value:!0});const sc=S8(Uu);let C8=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(e,n){const{head:r=!1,count:i}=n??{},s=r?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),i&&this.headers.append("Prefer",`count=${i}`),new sc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var i;const s="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new sc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new sc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new sc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new sc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Sp.default=C8;var VA=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qb,"__esModule",{value:!0});const k8=VA(Sp),A8=VA(Uu);let O8=class qA{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new k8.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new qA(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=new Headers(this.headers);return s&&u.set("Prefer",`count=${s}`),new A8.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Qb.default=O8;var Bl=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.PostgrestError=Sn.PostgrestBuilder=Sn.PostgrestTransformBuilder=Sn.PostgrestFilterBuilder=Sn.PostgrestQueryBuilder=Sn.PostgrestClient=void 0;const KA=Bl(Qb);Sn.PostgrestClient=KA.default;const XA=Bl(Sp);Sn.PostgrestQueryBuilder=XA.default;const QA=Bl(Uu);Sn.PostgrestFilterBuilder=QA.default;const JA=Bl(Cp);Sn.PostgrestTransformBuilder=JA.default;const ZA=Bl(kp);Sn.PostgrestBuilder=ZA.default;const e2=Bl(Ap);Sn.PostgrestError=e2.default;var R8=Sn.default={PostgrestClient:KA.default,PostgrestQueryBuilder:XA.default,PostgrestFilterBuilder:QA.default,PostgrestTransformBuilder:JA.default,PostgrestBuilder:ZA.default,PostgrestError:e2.default};const{PostgrestClient:N8,PostgrestQueryBuilder:lJ,PostgrestFilterBuilder:cJ,PostgrestTransformBuilder:uJ,PostgrestBuilder:dJ,PostgrestError:hJ}=R8;class I8{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const D8="2.75.0",P8=`realtime-js/${D8}`,M8="1.0.0",j0=1e4,L8=1e3,F8=100;var Ic;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ic||(Ic={}));var St;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(St||(St={}));var Ir;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ir||(Ir={}));var H0;(function(t){t.websocket="websocket"})(H0||(H0={}));var po;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(po||(po={}));class B8{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class t2{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(We||(We={}));const x1=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=U8(o,t,e,i),s),{}):{}},U8=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?n2(s,o):W0(o)},n2=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return z8(e,n)}switch(t){case We.bool:return j8(e);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return H8(e);case We.json:case We.jsonb:return W8(e);case We.timestamp:return $8(e);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return W0(e);default:return W0(e)}},W0=t=>t,j8=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},H8=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},W8=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},z8=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>n2(e,a))}return t},$8=t=>typeof t=="string"?t.replace(" ","T"):t,r2=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Wg{constructor(e,n,r={},i=j0){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var S1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(S1||(S1={}));class Dc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dc.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Dc.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Dc.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),p=u.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(C1||(C1={}));var Pc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pc||(Pc={}));var Ci;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));class Jb{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wg(this,Ir.join,this.params,this.timeout),this.rejoinTimer=new t2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ir.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Dc(this),this.broadcastEndpointURL=r2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==St.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Pc.PRESENCE]&&this.bindings[Pc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Ci.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Ci.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e==null||e(Ci.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,y=[];for(let b=0;b<v;b++){const _=g[b],{filter:{event:T,schema:x,table:w,filter:C}}=_,I=f&&f[b];if(I&&I.event===T&&I.schema===x&&I.table===w&&I.filter===C)y.push(Object.assign(Object.assign({},_),{id:I.id}));else{this.unsubscribe(),this.state=St.errored,e==null||e(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ci.SUBSCRIBED);return}}).receive("error",f=>{this.state=St.errored,e==null||e(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===St.joined&&e===Pc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=St.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ir.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Wg(this,Ir.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=St.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wg(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>F8){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ir;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,v;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(g=f.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,g,v,y,b,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const T=f.id,x=(p=f.filter)===null||p===void 0?void 0:p.event;return T&&((g=n.ids)===null||g===void 0?void 0:g.includes(T))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const T=(b=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:g,table:v,commit_timestamp:y,type:b,errors:_}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Jb.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ir.close,{},e)}_onError(e){this._on(Ir.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=x1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=x1(e.columns,e.old_record)),n}}const zg=()=>{},qd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G8=[1e3,2e3,5e3,1e4],Y8=1e4,V8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class q8{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j0,this.transport=null,this.heartbeatIntervalMs=qd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zg,this.ref=0,this.reconnectTimer=null,this.logger=zg,this.conn=null,this.sendBuffer=[],this.serializer=new B8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Bu(async()=>{const{default:a}=await Promise.resolve().then(()=>Fl);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${H0.websocket}`,this.httpEndpoint=r2(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=I8.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M8}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ic.connecting:return po.Connecting;case Ic.open:return po.Open;case Ic.closing:return po.Closing;default:return po.Closed}}isConnected(){return this.connectionState()===po.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Jb(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(L8,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ir.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([V8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:P8};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Ir.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new t2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:j0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:qd.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:zg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>G8[d-1]||Y8,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Zb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _t(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class K8 extends Zb{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class z0 extends Zb{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var X8=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const i2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>Fl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Q8=()=>X8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bu(()=>Promise.resolve().then(()=>Fl),void 0)).Response:Response}),$0=t=>{if(Array.isArray(t))return t.map(n=>$0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=$0(r)}),e},J8=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Xo=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const $g=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Z8=(t,e,n)=>Xo(void 0,void 0,void 0,function*(){const r=yield Q8();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new K8($g(i),s,o))}).catch(i=>{e(new z0($g(i),i))}):e(new z0($g(t),t))}),eU=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(J8(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function ju(t,e,n,r,i,s){return Xo(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,eU(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Z8(l,a,r))})})}function wf(t,e,n,r){return Xo(this,void 0,void 0,function*(){return ju(t,"GET",e,n,r)})}function Qr(t,e,n,r,i){return Xo(this,void 0,void 0,function*(){return ju(t,"POST",e,r,i,n)})}function G0(t,e,n,r,i){return Xo(this,void 0,void 0,function*(){return ju(t,"PUT",e,r,i,n)})}function tU(t,e,n,r){return Xo(this,void 0,void 0,function*(){return ju(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function s2(t,e,n,r,i){return Xo(this,void 0,void 0,function*(){return ju(t,"DELETE",e,r,i,n)})}var nU=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class rU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return nU(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_t(e))return{data:null,error:e};throw e}})}}var iU=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class sU{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}asStream(){return new rU(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.execute().then(e,n)}execute(){return iU(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_t(e))return{data:null,error:e};throw e}})}}var vn=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const oU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aU{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=i2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return vn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},k1),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?G0:Qr)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}upload(e,n,r){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return vn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:k1.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield G0(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(_t(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return vn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Qr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Zb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}update(e,n,r){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return vn(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}copy(e,n,r){return vn(this,void 0,void 0,function*(){try{return{data:{path:(yield Qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return vn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Qr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return vn(this,void 0,void 0,function*(){try{const i=yield Qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>wf(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new sU(l,this.shouldThrowOnError)}info(e){return vn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield wf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$0(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}exists(e){return vn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield tU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r)&&r instanceof z0){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return vn(this,void 0,void 0,function*(){try{return{data:yield s2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}list(e,n,r){return vn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},oU),n),{prefix:e||""});return{data:yield Qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}listV2(e,n){return vn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Qr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const lU="2.75.0",cU={"X-Client-Info":`storage-js/${lU}`};var aa=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class uU{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cU),n),this.fetch=i2(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return aa(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_t(e))return{data:null,error:e};throw e}})}getBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}createBucket(e){return aa(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Qr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_t(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return aa(this,void 0,void 0,function*(){try{return{data:yield G0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_t(r))return{data:null,error:r};throw r}})}emptyBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}deleteBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield s2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(_t(n))return{data:null,error:n};throw n}})}}class dU extends uU{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new aU(this.url,this.headers,e,this.fetch)}}const hU="2.75.0";let mc="";typeof Deno<"u"?mc="deno":typeof document<"u"?mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mc="react-native":mc="node";const fU={"X-Client-Info":`supabase-js-${mc}/${hU}`},pU={headers:fU},gU={schema:"public"},mU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yU={};var bU=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const vU=t=>{let e;return t?e=t:typeof fetch>"u"?e=$A:e=fetch,(...n)=>e(...n)},_U=()=>typeof Headers>"u"?GA:Headers,EU=(t,e,n)=>{const r=vU(n),i=_U();return(s,o)=>bU(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var wU=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function TU(t){return t.endsWith("/")?t:t+"/"}function xU(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>wU(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function SU(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(TU(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const o2="2.75.0",ma=30*1e3,Y0=3,Gg=Y0*ma,CU="http://localhost:9999",kU="supabase.auth.token",AU={"X-Client-Info":`gotrue-js/${o2}`},V0="X-Supabase-Api-Version",a2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RU=10*60*1e3;class bu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function he(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NU extends bu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function IU(t){return he(t)&&t.name==="AuthApiError"}class go extends bu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class eo extends bu{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class gs extends eo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DU(t){return he(t)&&t.name==="AuthSessionMissingError"}class la extends eo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kd extends eo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xd extends eo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PU(t){return he(t)&&t.name==="AuthImplicitGrantRedirectError"}class A1 extends eo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class q0 extends eo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Yg(t){return he(t)&&t.name==="AuthRetryableFetchError"}class O1 extends eo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class K0 extends eo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),R1=` 	
\r=`.split(""),MU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<R1.length;e+=1)t[R1[e].charCodeAt(0)]=-2;for(let e=0;e<Tf.length;e+=1)t[Tf[e].charCodeAt(0)]=e;return t})();function N1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Tf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Tf[r]),e.queuedBits-=6}}function l2(t,e,n){const r=MU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function I1(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{BU(o,r,n)};for(let o=0;o<t.length;o+=1)l2(t.charCodeAt(o),i,s);return e.join("")}function LU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function FU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}LU(r,e)}}function BU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ka(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)l2(t.charCodeAt(i),n,r);return new Uint8Array(e)}function UU(t){const e=[];return FU(t,n=>e.push(n)),new Uint8Array(e)}function To(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>N1(i,n,r)),N1(null,n,r),e.join("")}function jU(t){return Math.round(Date.now()/1e3)+t}function HU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const jn=()=>typeof window<"u"&&typeof document<"u",so={tested:!1,writable:!1},c2=()=>{if(!jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(so.tested)return so.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),so.tested=!0,so.writable=!0}catch{so.tested=!0,so.writable=!1}return so.writable};function WU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const u2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>Fl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},zU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ya=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},oo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hs=async(t,e)=>{await t.removeItem(e)};class Op{constructor(){this.promise=new Op.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Op.promiseConstructor=Promise;function Vg(t){const e=t.split(".");if(e.length!==3)throw new K0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!OU.test(e[r]))throw new K0("JWT not in base64url format");return{header:JSON.parse(I1(e[0])),payload:JSON.parse(I1(e[1])),signature:Ka(e[2]),raw:{header:e[0],payload:e[1]}}}async function $U(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GU(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function YU(t){return("0"+t.toString(16)).substr(-2)}function VU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,YU).join("")}async function qU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function KU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await qU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ca(t,e,n=!1){const r=VU();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ya(t,`${e}-code-verifier`,i);const s=await KU(r);return[s,r===s?"plain":"s256"]}const XU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QU(t){const e=t.headers.get(V0);if(!e||!e.match(XU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function JU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ZU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ua(t){if(!e9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qg(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function D1(t){return JSON.parse(JSON.stringify(t))}var t9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const uo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),n9=[502,503,504];async function P1(t){var e;if(!zU(t))throw new q0(uo(t),0);if(n9.includes(t.status))throw new q0(uo(t),t.status);let n;try{n=await t.json()}catch(s){throw new go(uo(s),s)}let r;const i=QU(t);if(i&&i.getTime()>=a2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new O1(uo(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new gs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new O1(uo(n),t.status,n.weak_password.reasons);throw new NU(uo(n),t.status||500,r)}const r9=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function be(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[V0]||(s[V0]=a2["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await i9(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function i9(t,e,n,r,i,s){const o=r9(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new q0(uo(l),0)}if(a.ok||await P1(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await P1(l)}}function xr(t){var e;let n=null;a9(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=jU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function M1(t){const e=xr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ts(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function s9(t){return{data:t,error:null}}function o9(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=t9(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function L1(t){return t}function a9(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kg=["global","local","others"];var l9=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class c9{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=u2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Kg[0]){if(Kg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kg.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ts})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=l9(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:o9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ts})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:L1});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(he(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ua(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ts})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ua(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ts})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ua(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ts})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ua(e.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ua(e.userId),ua(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:L1});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(he(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}}function F1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const da={debug:!!(globalThis&&c2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class u9 extends d2{}async function d9(t,e,n){da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),da.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{da.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw da.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new u9(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(da.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function h9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h2(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function f9(t){return parseInt(t,16)}function p9(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function g9(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=h2(t.address),p=u?`${u}://${r}`:r,g=t.statement?`${t.statement}
`:"",v=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}y+=b}return`${v}
${y}`}class vt extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class xf extends vt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function m9({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new vt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(p2(o)){if(s.rp.id!==o)return new vt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function y9({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new vt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(p2(r)){if(n.rpId!==r)return new vt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var f2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class b9{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const v9=new b9;function _9(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=f2(t,["challenge","user","excludeCredentials"]),s=Ka(e).buffer,o=Object.assign(Object.assign({},n),{id:Ka(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ka(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function E9(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=f2(t,["challenge","allowCredentials"]),i=Ka(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ka(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function w9(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:To(new Uint8Array(t.response.attestationObject)),clientDataJSON:To(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function T9(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:To(new Uint8Array(i.authenticatorData)),clientDataJSON:To(new Uint8Array(i.clientDataJSON)),signature:To(new Uint8Array(i.signature)),userHandle:i.userHandle?To(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function p2(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function B1(){var t,e;return!!(jn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function x9(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xf("Browser returned unexpected credential type",e)}:{data:null,error:new xf("Empty credential response",e)}}catch(e){return{data:null,error:m9({error:e,options:t})}}}async function S9(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xf("Browser returned unexpected credential type",e)}:{data:null,error:new xf("Empty credential response",e)}}catch(e){return{data:null,error:y9({error:e,options:t})}}}const C9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},k9={userVerification:"preferred",hints:["security-key"]};function Sf(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=Sf(a,o):r[s]=Sf(o)}else r[s]=o}return r}function A9(t,e){return Sf(C9,t,e||{})}function O9(t,e){return Sf(k9,t,e||{})}class R9{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=i??v9.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=A9(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:d}=await x9({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=O9(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:d}=await S9(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return he(o)?{data:null,error:o}:{data:null,error:new go("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},s){if(!n)return{data:null,error:new bu("rpId is required for WebAuthn authentication")};try{if(!B1())return{data:null,error:new go("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return he(o)?{data:null,error:o}:{data:null,error:new go("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},s){if(!n)return{data:null,error:new bu("rpId is required for WebAuthn registration")};try{if(!B1())return{data:null,error:new go("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return he(o)?{data:null,error:o}:{data:null,error:new go("Unexpected error in register",o)}}}}h9();const N9={url:CU,storageKey:kU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function U1(t,e,n){return await n()}const ha={};class vu{get jwks(){var e,n;return(n=(e=ha[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){ha[this.storageKey]=Object.assign(Object.assign({},ha[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=ha[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ha[this.storageKey]=Object.assign(Object.assign({},ha[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vu.nextInstanceID,vu.nextInstanceID+=1,this.instanceID>0&&jn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},N9),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new c9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=u2(i.fetch),this.lock=i.lock||U1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:jn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=d9:this.lock=U1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new R9(this)},this.persistSession?(i.storage?this.storage=i.storage:c2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=F1(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${o2}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=WU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),jn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),PU(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?{error:n}:{error:new go("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:xr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ca(this.storage,this.storageKey)),s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:xr})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xr})}else throw new Kd("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:M1})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:M1})}else throw new Kd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new la}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:g,wallet:v,statement:y,options:b}=e;let _;if(jn())if(typeof v=="object")_=v;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")_=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const T=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),x=await _.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const w=h2(x[0]);let C=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const U=await _.request({method:"eth_chainId"});C=f9(U)}const I={domain:T.host,address:w,statement:y,uri:T.href,version:"1",chainId:C,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=g9(I),p=await _.request({method:"personal_sign",params:[p9(f),w]})}try{const{data:g,error:v}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xr});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new la}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(he(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(e){var n,r,i,s,o,a,l,c,u,d,h,f;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:v,wallet:y,statement:b,options:_}=e;let T;if(jn())if(typeof y=="object")T=y;else{const w=window;if("solana"in w&&typeof w.solana=="object"&&("signIn"in w.solana&&typeof w.solana.signIn=="function"||"signMessage"in w.solana&&typeof w.solana.signMessage=="function"))T=w.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=y}const x=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const w=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),b?{statement:b}:null));let C;if(Array.isArray(w)&&w[0]&&typeof w[0]=="object")C=w[0];else if(w&&typeof w=="object"&&"signedMessage"in w&&"signature"in w)C=w;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)p=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${x.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const w=await T.signMessage(new TextEncoder().encode(p),"utf8");if(!w||!(w instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=w}}try{const{data:v,error:y}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:To(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:xr});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new la}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(he(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const n=await oo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xr});if(await hs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new la}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(he(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new la}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await ca(this.storage,this.storageKey));const{error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Kd("You must provide either an email or phone number.")}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:xr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await ca(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:s9})}catch(s){if(he(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new gs;const{error:i}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(he(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Kd("You must provide either an email or phone number and a type")}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await oo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Gg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await oo(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=qg()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ts}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gs}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ts})})}catch(n){if(he(n))return DU(n)&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new gs;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ca(this.storage,this.storageKey));const{data:c,error:u}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ts});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gs;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Vg(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(he(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new gs;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!jn())throw new Xd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new A1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new A1("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new Xd("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=ma&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:g,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(he(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await oo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(IU(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=HU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ca(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(he(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return jn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(he(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xr}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new la}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GU(async i=>(i>0&&await $U(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Yg(s)&&Date.now()+o-r<ma})}catch(r){if(this._debug(n,"error",r),he(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),jn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await oo(this.storage,this.storageKey);if(i&&this.userStorage){let o=await oo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await ya(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:qg()}else if(i&&!i.user&&!i.user){const o=await oo(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await hs(this.storage,this.storageKey+"-user"),await ya(this.storage,this.storageKey,i)):i.user=qg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gg;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Gg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Yg(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Op;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new gs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),he(s)){const o={data:null,error:s};return Yg(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ya(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=D1(i);await ya(this.storage,this.storageKey,s)}else{const i=D1(n);await ya(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await hs(this.storage,this.storageKey),await hs(this.storage,this.storageKey+"-code-verifier"),await hs(this.storage,this.storageKey+"-user"),this.userStorage&&await hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&jn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ma);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ma);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ma}ms, refresh threshold is ${Y0} ticks`),i<=Y0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof d2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await ca(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await be(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?w9(e.webauthn.credential_response):T9(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const o=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:_9(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:E9(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vg(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+RU>i)return r;const{data:s,error:o}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Vg(r);n!=null&&n.allowExpired||JU(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=ZU(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,UU(`${a}.${l}`)))throw new K0("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}vu.nextInstanceID=0;const I9=vu;class D9 extends I9{constructor(e){super(e)}}var P9=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class M9{constructor(e,n,r){var i,s,o;this.supabaseUrl=e,this.supabaseKey=n;const a=SU(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:gU,realtime:yU,auth:Object.assign(Object.assign({},mU),{storageKey:l}),global:pU},u=xU(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=EU(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new N8(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new dU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new c8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return P9(this,void 0,void 0,function*(){var e,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D9({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new q8(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const L9=(t,e,n)=>new M9(t,e,n);function F9(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}F9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const B9="https://owinjxnvrtzriwlfwudi.supabase.co",U9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93aW5qeG52cnR6cml3bGZ3dWRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2Njg4NjQsImV4cCI6MjA3NjI0NDg2NH0.B6eJZU_rYMD0TsdfYP6DICelCQXmOmV-fYRnJFww2qY",li=L9(B9,U9),j9=["","","","","","","","","",""],H9=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(""),[i,s]=A.useState("Anon"),[o,a]=A.useState(!0),l=A.useRef(null),c=A.useRef(null),u=()=>{var g;(g=l.current)==null||g.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{u()},[t]),A.useEffect(()=>(d(),h(),()=>{c.current&&li.removeChannel(c.current)}),[]);const d=async()=>{try{const{data:g,error:v}=await li.from("chat_messages").select("*").order("created_at",{ascending:!0}).limit(100);if(v)throw v;e(g||[])}catch(g){console.error("Error fetching messages:",g),Mr.error("Failed to load messages")}finally{a(!1)}},h=()=>{c.current=li.channel("chat_messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},g=>{e(v=>[...v,g.new])}).subscribe()},f=async g=>{if(g.preventDefault(),!!n.trim())try{const{error:v}=await li.from("chat_messages").insert([{username:i.trim()||"Anon",message:n.trim()}]);if(v)throw v;r(""),Mr.success("Message sent!")}catch(v){console.error("Error sending message:",v),Mr.error("Failed to send message")}},p=g=>{r(n+g)};return E.jsxs("div",{className:"flex flex-col gap-2 h-[400px]",children:[E.jsxs("div",{className:"win95-border-inset bg-white flex-1 overflow-y-auto p-2 font-mono text-xs",children:[o?E.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Loading messages..."}):t.length===0?E.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No messages yet. Start the conversation! "}):t.map(g=>E.jsxs("div",{className:"mb-1",children:[E.jsxs("span",{className:"text-muted-foreground",children:["[",new Date(g.created_at).toLocaleTimeString(),"]"]})," ",E.jsxs("span",{className:"font-bold text-primary",children:[g.username,":"]})," ",E.jsx("span",{className:"text-foreground",children:g.message})]},g.id)),E.jsx("div",{ref:l})]}),E.jsx("div",{className:"win95-border-inset bg-muted p-1 flex gap-1 flex-wrap",children:j9.map(g=>E.jsx("button",{onClick:()=>p(g),className:"win95-border bg-card hover:bg-muted-foreground/10 px-2 py-1 text-sm",children:g},g))}),E.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[E.jsx("input",{type:"text",value:i,onChange:g=>s(g.target.value),className:"win95-border-inset bg-input px-2 py-1 w-24 text-sm",placeholder:"Name"}),E.jsx("input",{type:"text",value:n,onChange:g=>r(g.target.value),className:"win95-border-inset bg-input px-2 py-1 flex-1 text-sm",placeholder:"Say something..."}),E.jsx("button",{type:"submit",className:"win95-border bg-card hover:bg-muted px-3 py-1 active:win95-border-inset",children:E.jsx(UP,{className:"w-4 h-4"})})]})]})},W9=()=>E.jsxs("div",{className:"win95-border-inset bg-white p-4 space-y-4 max-h-[500px] overflow-y-auto",children:[E.jsx("div",{className:"text-center",children:E.jsx("h2",{className:"text-2xl font-bold text-primary mb-2",children:"Mariana Meireles"})}),E.jsxs("div",{className:"win95-border bg-muted p-3 space-y-3 text-sm",children:[E.jsx("p",{children:"I strive to live poetically, compassionately and fearlessly."}),E.jsx("p",{children:"In my career, the ideal expression of this is to broadly improve the lives of all beings."}),E.jsx("p",{children:"Previously, I worked with software in the open-source and open-science ecosystems, contributing to projects like Firefox, Jupyter Notebooks, and Conda."}),E.jsx("p",{children:"As a researcher, I've worked at CHAI at UC Berkeley, the Max Planck and at the University of Bonn."})]}),E.jsxs("div",{className:"win95-border bg-card p-3",children:[E.jsx("h3",{className:"font-bold text-sm mb-2",children:"Connect"}),E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsxs("a",{href:"https://github.com/marimeireles/",target:"_blank",rel:"noopener noreferrer",className:"win95-border bg-muted hover:bg-muted-foreground/10 p-2 flex items-center gap-2 text-xs",children:[E.jsx(AP,{className:"w-4 h-4"}),"GitHub"]}),E.jsxs("a",{href:"https://www.linkedin.com/in/mariana-meireles/",target:"_blank",rel:"noopener noreferrer",className:"win95-border bg-muted hover:bg-muted-foreground/10 p-2 flex items-center gap-2 text-xs",children:[E.jsx(MP,{className:"w-4 h-4"}),"LinkedIn"]}),E.jsxs("a",{href:"mailto:marianameireles@protonmail.com",className:"win95-border bg-muted hover:bg-muted-foreground/10 p-2 flex items-center gap-2 text-xs",children:[E.jsx(_C,{className:"w-4 h-4"}),"Email"]}),E.jsxs("a",{href:"https://calendar.app.google/TxR1iiyEriso6AqL9",target:"_blank",rel:"noopener noreferrer",className:"win95-border bg-muted hover:bg-muted-foreground/10 p-2 flex items-center gap-2 text-xs",children:[E.jsx(zP,{className:"w-4 h-4"}),"Book a Call"]})]})]}),E.jsxs("div",{className:"win95-border bg-card p-3",children:[E.jsx("h3",{className:"font-bold text-sm mb-2",children:"Links"}),E.jsx("div",{className:"space-y-1",children:E.jsxs("a",{href:"https://marimeireles.com/cv.pdf",target:"_blank",rel:"noopener noreferrer",className:"block text-xs text-primary hover:underline",children:[E.jsx(kP,{className:"w-3 h-3 inline mr-1"}),"CV"]})})]})]}),z9=()=>{const t={behance:"https://www.behance.net/marianameireles",deviantart:"https://www.deviantart.com/marimeireles/gallery",toes:"https://github.com/marimeireles/touchdesigner-toes/tree/master"},e=[{id:1,title:"Tattoo Art",description:"",color:"bg-gradient-to-br from-orange-400 to-pink-500",url:t.deviantart},{id:2,title:"VJ",description:"",color:"bg-gradient-to-br from-blue-400 to-cyan-300",url:t.toes}];return E.jsxs("div",{className:"space-y-3",children:[E.jsx("div",{className:"win95-border bg-muted p-2 text-sm font-bold flex items-center justify-between",children:E.jsx("span",{children:" My Art Gallery"})}),E.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.map(n=>E.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer","aria-label":`${n.title}  opens external link`,className:"win95-border bg-white p-2 hover:bg-muted/50 cursor-pointer group block focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",children:[E.jsx("div",{className:`${n.color} w-full h-24 win95-border-inset mb-2 transition-transform group-hover:scale-105`}),E.jsxs("div",{className:"text-xs",children:[E.jsx("p",{className:"font-bold underline group-hover:no-underline",children:n.title}),E.jsx("p",{className:"text-muted-foreground",children:n.description||""})]})]},n.id))})]})},$9=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(!0);A.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:u,error:d}=await li.from("guestbook").select("*").order("created_at",{ascending:!1});if(d)throw d;e(u||[])}catch(u){console.error("Error fetching guestbook entries:",u),Mr.error("Failed to load guestbook entries")}finally{a(!1)}},c=async u=>{if(u.preventDefault(),!(!n.trim()||!i.trim()))try{const{data:d,error:h}=await li.from("guestbook").insert([{name:n.trim(),message:i.trim()}]).select().single();if(h)throw h;e([d,...t]),r(""),s(""),Mr.success("Thanks for signing the guestbook! ")}catch(d){console.error("Error adding guestbook entry:",d),Mr.error("Failed to add entry. Please try again.")}};return E.jsxs("div",{className:"space-y-3",children:[E.jsx("div",{className:"win95-border bg-muted p-2 text-sm font-bold",children:" Sign My Guestbook"}),E.jsxs("form",{onSubmit:c,className:"win95-border-inset bg-muted p-3 space-y-2",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold block mb-1",children:"Name:"}),E.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"w-full win95-border-inset bg-input px-2 py-1 text-sm",placeholder:"Your name",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold block mb-1",children:"Message:"}),E.jsx("textarea",{value:i,onChange:u=>s(u.target.value),className:"w-full win95-border-inset bg-input px-2 py-1 text-sm resize-none",rows:3,placeholder:"Leave a message...",required:!0})]}),E.jsx("button",{type:"submit",className:"win95-border bg-card hover:bg-muted px-4 py-1 text-sm font-bold active:win95-border-inset",children:"Sign Guestbook"})]}),E.jsx("div",{className:"win95-border-inset bg-white p-2 max-h-60 overflow-y-auto space-y-2",children:o?E.jsx("div",{className:"text-center text-sm text-muted-foreground py-4",children:"Loading..."}):t.length===0?E.jsx("div",{className:"text-center text-sm text-muted-foreground py-4",children:"No entries yet. Be the first to sign! "}):t.map(u=>E.jsxs("div",{className:"win95-border bg-muted p-2 text-sm",children:[E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsx("span",{className:"font-bold text-primary",children:u.name}),E.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.created_at).toLocaleDateString()})]}),E.jsx("p",{className:"text-xs",children:u.message})]},u.id))})]})},G9=({blogName:t})=>{const n={Software:{emoji:"",content:E.jsxs("div",{className:"space-y-3 text-sm",children:[E.jsx("p",{children:"I've worked as a software engineer with a focus on scientific development for several years. All of this work was within open-source organizations."}),E.jsx("p",{children:"I'm a core contributor to projects such as Jupyter, Firefox, Mamba, Conda Forge, Farama's Zoo, PyScript, PySide, Mozilla Webcompat, Qt, and others."}),E.jsx("p",{children:"Currently I'm affiliated with the Open Knowledge Foundation as an Expert."}),E.jsxs("p",{children:["In the past, I served as a member of the Jupyter technical committee, as a member of the DISC NumFOCUS steering committee, as a Max Planck Insitute Open Science Ambassator and as a Subject Matter Expert for NASA, developing a ",E.jsx("a",{href:"https://www.nasa.gov/news-release/new-course-from-nasa-helps-build-open-inclusive-science-community/",target:"_blank",className:"text-primary hover:underline",children:"course"})," aimed at providing guidance for scientists on practicing open science."]}),E.jsxs("p",{children:["I've also taught open science and software classes to graduate students at Harvard through the LSSTC-DSFP program and at ",E.jsx("a",{href:"http://github.com/marimeireles/talks",target:"_blank",className:"text-primary hover:underline",children:"several other"})," conferences, meetups, and groups. I'm also grateful for the Jupyter community having recognized me as a ",E.jsx("a",{href:"https://blog.jupyter.org/congratulations-distinguished-contributors-bc349fa60d68",target:"_blank",className:"text-primary hover:underline",children:"distinguished contributor"})," in early 2022."]})]})},Research:{emoji:"",content:E.jsxs("div",{className:"space-y-3 text-sm",children:[E.jsx("p",{children:"As a researcher I'm interested in understanding what are the underlying characteristics that are important for fostering cooperation among different intelligences and creating a bright future for human and AIs alike."}),E.jsxs("div",{className:"win95-border bg-muted p-2",children:[E.jsx("h4",{className:"font-bold mb-1",children:"Focus Areas"}),E.jsxs("ul",{className:"space-y-1 text-xs",children:[E.jsx("li",{children:" Coordination & cooperative AI"}),E.jsx("li",{children:" Evolutionary biology & teleology"}),E.jsx("li",{children:" Reinforcement learning"}),E.jsx("li",{children:" Complex systems"}),E.jsx("li",{children:" Ethics"})]})]}),E.jsx("p",{className:"text-xs",children:E.jsx("a",{href:"https://github.com/marimeireles/talks/",target:"_blank",className:"text-primary hover:underline",children:"Academic work "})})]})},Community:{emoji:"",content:E.jsxs("div",{className:"space-y-3 text-sm",children:[E.jsxs("p",{children:["I flourish by having the support, serendipity and positive feedback loops that a community brings. Do you want to learn or practice something together? Send me a message! If you want, you can also send me anonymous feedback ",E.jsx("a",{href:"https://www.admonymous.co/marimeireles",target:"_blank",className:"text-primary hover:underline",children:"here"}),"."]}),E.jsxs("div",{className:"win95-border bg-muted p-2",children:[E.jsx("h4",{className:"font-bold mb-1",children:"Activities"}),E.jsxs("ul",{className:"space-y-2 text-xs",children:[E.jsxs("li",{children:[" ",E.jsx("b",{children:"Supper and salon"}),': I host vegan dinners and salons in Berlin. Themes we talked about in the past include "The limits of free speech", "Spirituality and rituals", "Rethinking future socio-economic structures and institutions", "How to be moral", etc. If you are a Berliner or a passer-by and would like to join we welcome first-timers, just send me an email!',E.jsx("ul",{className:"ml-4 mt-1",children:E.jsxs("li",{children:[" If we're on a 1:1 I'm happy to have discussions that abide to the ",E.jsx("a",{href:"https://www.lesswrong.com/w/crockers-rules",target:"_blank",className:"text-primary hover:underline",children:"Crocker's Rules"}),"."]})})]}),E.jsxs("li",{children:[" ",E.jsx("b",{children:"Buddhism and meditation"}),": I practice Dzogchen Tibetan Buddhism. That said, I was a part of many religious traditions in the past and I enjoy very much learning about all kinds of different cults and spiritual communities. I'm part of an ",E.jsx("a",{href:"https://aroencyclopaedia.org/shared/text/i/information_in_01_introduction_eng.php",target:"_blank",className:"text-primary hover:underline",children:"Aro"})," sangha in Berlin and you're welcome to join us if you're interested and respectful, the sangha is religious. I'm interested in meditating with others and sharing curious states of consciousness (non-related with drug-usage as I do my best to follow the ",E.jsx("a",{href:"https://www.parallax.org/mindfulnessbell/article/dharma-talk-five-wonderful-precepts/",target:"_blank",className:"text-primary hover:underline",children:"five precepts"}),")."]}),E.jsxs("li",{children:[" ",E.jsx("b",{children:"Literature"}),": I really enjoy learning through reading and exploring new worlds through text. I try to keep an up-to-date ",E.jsx("a",{href:"/reading-list.html",target:"_blank",className:"text-primary hover:underline",children:"reading list"}),", maybe we can chill in a cafe or park and talk about ideas we had after reading together. I also write or post short texts or poems I like ",E.jsx("a",{href:"https://lettersfortheevanescents.mataroa.blog/",target:"_blank",className:"text-primary hover:underline",children:"here"}),"."]}),E.jsxs("li",{children:[" ",E.jsx("b",{children:"Multimedia Artist"}),": It's really fun to be the girl taking care of lights at events. I've built my own DMX controller, and I'm somewhat versed in being scrappy with electronics. I also try to be artsy with Touch Designer, I mainly focus on interactive art. Check some of my ",E.jsx("a",{href:"https://github.com/marimeireles/touchdesigner-toes/tree/master",target:"_blank",className:"text-primary hover:underline",children:"toes"}),". Here's a ",E.jsx("a",{href:"https://www.behance.net/marianameireles",target:"_blank",className:"text-primary hover:underline",children:"link"})," for a portfolio I'm building. I'm open for hire and to collaborate in this kind of work."]}),E.jsxs("li",{children:[" ",E.jsx("b",{children:"Drawing"}),": I'm a ",E.jsx("a",{href:"https://www.deviantart.com/marimeireles/gallery",target:"_blank",className:"text-primary hover:underline",children:"beginner tattoo artist"}),". Tattoing is a very special practice to me, something I consider truly sacred and ritualistic. I'm open to tattooing new people, if you're interested, send me an email. I'm looking to get a Sak Yant done, please let me know if you know anyone in Europe or the US that is able to bless it. I tattoo myself and friends. I also know the basics of painting with spray, and I want to learn more, I would very much like to learn together. I also want to improve in watercolor and drawing, for that I like to go out on small friend dates and paint city/landscapes."]}),E.jsxs("li",{children:[" ",E.jsx("b",{children:"AI Art*"}),": In the past, I've experimented with ",E.jsx("a",{href:"https://colab.research.google.com/drive/1hcUHPLk98zN_V89Z0U5nMUhabPjWk05k?userstoinvite=zeynepsatir35%40gmail.com&actionButton=1",target:"_blank",className:"text-primary hover:underline",children:"GANs"})," and created some ",E.jsx("a",{href:"https://www.deviantart.com/marimeireles/gallery/82011542/gan-designs-2021",target:"_blank",className:"text-primary hover:underline",children:"cool tattoo designs"}),". I've also worked with story telling and agent-based modeling LLMs. Would love to collaborate with artists as a software engineer! For more of my AI projects check my ",E.jsx("a",{href:"https://www.behance.net/marianameireles",target:"_blank",className:"text-primary hover:underline",children:"Behance"}),"."]}),E.jsxs("li",{children:[" ",E.jsx("b",{children:"Music"}),": Music theory, music producing (mainly electronic but also interested in analog jams), djing, foxdot(and similar shenanigans). I play the guitar and sing a bit, trying to be better at my Bossa Nova. Also looking for riot grrrls to play some punk rock with."]}),E.jsxs("li",{children:[" ",E.jsx("b",{children:"Flow"}),": Dragon staff, hula-hoop, fire flow, yoga. Anything flowey, I'm always looking for people to share these practices with."]}),E.jsxs("li",{children:[" ",E.jsx("b",{children:"Sports"}),": I am practicing calisthenics mixed in with some free weight lifting. I think it's fun to practice with friends, as we can teach each other stuff. I go to a nearby calisthenics park, but open to travel for a calisthenics date. I also really like bouldering and am member at a cool climbing gym! If interested, ask me which."]})]})]})]})},Activism:{emoji:"",content:E.jsxs("div",{className:"space-y-3 text-sm",children:[E.jsxs("p",{children:["I support several causes: ",E.jsx("a",{href:"https://ethicalsource.dev/",target:"_blank",className:"text-primary hover:underline",children:"ethical open source"}),", ",E.jsx("a",{href:"https://en.wikipedia.org/wiki/Animal_Liberation_(book)",target:"_blank",className:"text-primary hover:underline",children:"animal liberation"}),", the ",E.jsx("a",{href:"https://ourworldindata.org/environmental-impacts-of-food?insight=differences-carbon-footprint-foods#key-insights-on-the-environmental-impacts-of-food",target:"_blank",className:"text-primary hover:underline",children:"decrease"})," in animal-based products consumption, investing in carbon offsets to decrease my CO2 footprint, leveraging democracy through ",E.jsx("a",{href:"https://pol.is/home",target:"_blank",className:"text-primary hover:underline",children:"open democratic practices"}),", ",E.jsx("a",{href:"https://postmeritocracy.org/",target:"_blank",className:"text-primary hover:underline",children:"post meritocracy"})," in my engineering work context, combating disinformation on the Web, ",E.jsx("a",{href:"https://80000hours.org/problem-profiles/artificial-intelligence/",target:"_blank",className:"text-primary hover:underline",children:"AI alignment"}),", ",E.jsx("a",{href:"https://ia600605.us.archive.org/15/items/GuerillaOpenAccessManifesto/Goamjuly2008.pdf",target:"_blank",className:"text-primary hover:underline",children:"open access to knowledge"}),", empowering people to overcome poverty using a) ",E.jsx("a",{href:"https://marimeireles.notion.site/Poverty-alleviation-6cc16e6e2e3e49d19ed9112aec79d5cf?pvs=4",target:"_blank",className:"text-primary hover:underline",children:"non-traditional methods of pedagogy"}),", b) ",E.jsx("a",{href:"https://marimeireles.notion.site/Poverty-alleviation-6cc16e6e2e3e49d19ed9112aec79d5cf?pvs=4",target:"_blank",className:"text-primary hover:underline",children:"land redistribution coupled with permaculture"})," and community building in rural contexts c) offering OSS opportunities through ",E.jsx("a",{href:"https://marimeireles.notion.site/Poverty-alleviation-6cc16e6e2e3e49d19ed9112aec79d5cf?pvs=4",target:"_blank",className:"text-primary hover:underline",children:"internships"})," and ",E.jsx("a",{href:"https://marimeireles.com/mentorship.html",target:"_blank",className:"text-primary hover:underline",children:"mentoring"})," d) respecting people's agency over their own economical future through ",E.jsx("a",{href:"https://www.givedirectly.org/",target:"_blank",className:"text-primary hover:underline",children:"donating money directly"})," to them."]}),E.jsxs("div",{className:"win95-border bg-muted p-2",children:[E.jsx("h4",{className:"font-bold mb-1",children:"Projects I Support"}),E.jsxs("ul",{className:"space-y-1 text-xs",children:[E.jsxs("li",{children:[" ",E.jsx("a",{href:"https://www.linkedin.com/company/84894279/",target:"_blank",className:"text-primary hover:underline",children:"Women of Color Code"})]}),E.jsxs("li",{children:[" ",E.jsx("a",{href:"https://www.redi-school.org/",target:"_blank",className:"text-primary hover:underline",children:"ReDI School"})]}),E.jsxs("li",{children:[" ",E.jsx("a",{href:"https://berlin.pyladies.com/",target:"_blank",className:"text-primary hover:underline",children:"PyLadies Berlin"})]}),E.jsxs("li",{children:[" ",E.jsx("a",{href:"https://www.frauenloop.org/",target:"_blank",className:"text-primary hover:underline",children:"Frauen Loop"})]})]})]}),E.jsx("p",{className:"text-xs",children:"I believe women have the right to have full control over their own bodies:"}),E.jsx("div",{className:"win95-border bg-muted p-2",children:E.jsxs("ul",{className:"space-y-1 text-xs",children:[E.jsxs("li",{children:[" ",E.jsx("a",{href:"https://fragdenstaat.de/aktionen/219a/",target:"_blank",className:"text-primary hover:underline",children:"Frag Den Staat"}),": Doctors in Germany are not allowed to post factual information on abortions on their websites. This organization is currently providing resources on the subject in German, English, and Turkish."]}),E.jsxs("li",{children:[" ",E.jsx("a",{href:"https://www.womenonwaves.org/en/",target:"_blank",className:"text-primary hover:underline",children:"Women on Waves"}),": A Dutch NGO bringing reproductive health services to women in countries with restrictive abortion laws. If the value of their products is inaccessible to you, I want to help, send me an email."]})]})})]})}}[t];return n?E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"win95-border bg-gradient-to-r from-primary/10 to-accent/20 p-3 text-center",children:[E.jsx("div",{className:"text-3xl mb-2",children:n.emoji}),E.jsx("h2",{className:"text-lg font-bold text-primary",children:t})]}),E.jsx("div",{className:"win95-border-inset bg-white p-3 max-h-[400px] overflow-y-auto",children:n.content})]}):E.jsx("div",{className:"win95-border-inset bg-white p-4 text-center",children:E.jsx("p",{className:"text-muted-foreground",children:"Content not found"})})},Y9=`Name,Status,Type,Author,Notes
Alcibiades,Read,philosophy,Plato
The Vital Question,Want to read,biology;teleology,
The Player of Games,Read,sci-fi,Ian Banks
The Wisdom of Insecurity,Read,buddhism,Allan Watts
The Dark Forest,Read,sci-fi,Cixin Liu
The dynamic world of Ukiyo-e,Want to read,art,Kuniyoshi
Ulysses,Reading,fiction,James Joyce
King Lear,Read,fiction,Shakespeare
Introduction to Topological Manifolds,Want to read,math,John M. Lee
Mathematical Structure of Syntactic Merge,Want to read,math;language,Matilda
Why Greatness Cannot Be Planned,Reading,philosophy,Kenneth O. Stanley and Joel Lehman
Population Games and Evolutionary Dynamics,Reading,math;game-theory;evolution,Sandholm
Magic Science and Religion and the Scope of Rationality,Reading,anthropology;religion;history,Stanley Jeyaraja Tambiah
The Calculus of Selfishness,Reading,math;game-theory,Sigmund
The Essential Rilke,Read,poetry,Rilse
The Rebel,Want to read,fiction;philosophy,Camus
Ode to a Nightingale,Want to read,poetry,John Keats
Who Gets What and Why,Want to read,economics,Alvin E. Roth
1q94,Want to read,fiction,Murakami
Small Moral Works,Want to read,philosophy,Giacomo Leopardi
Ramayana,Reading,religion;hinduism,Valmiki
Essays on the Gita,Want to read,religion;hinduism,Aurobindo
The Feeling of Life Itself,Want to read,consciousness,Koch
High Weirdness,Want to read,drugs;magic,Philip K. Dick Terence McKenna and Robert Anton Wilson
Wild Swans: Three Daughters of China,Want to read,history;biography,Jung Chang
Wild Geese,Want to read,poetry,Mary Oliver
Shadows of the mind,Want to read,consciousness,Penrose
Letters to a Young Poet,Read,poetry,Rainer Maria Rilke 
Spacetime and Geometry: An Introduction to General Relativity,Want to read,physics, Sean Carroll
Philebus,Want to read,philosophy,Plato
Gorgias,Want to read,philosophy,Plato
Science and the Modern World,Reading,philosophy;physics,Whitehead
Terra Ignota,Want to read,sci-fi,Palmer
Always Coming Home,Want to read,sci-fi,Le Guin
God is a verb,Reading,judaism;magic,David A. Cooper
An Enquiry Concerning Human Understanding,Abandoned,philosophy,Hume
The Couple's Guide to Thriving with ADHD,Read,psychology,Melissa Orlov and Nancie Kohlenberger
The Unbearable Lightness of Being,Read,fiction;philosophy,Milan Kundera
Ant Architecture,Reading,biology,Walter R Tschinkel
Shadows at Noon,Reading,history,Joya Chatterji
The Computer and the Brain,Read,neuroscience;computer-science,Von Neumann
Spectrum of Ecstasy,Reading,buddhism,Khandro Dechen and Ngakpa Chogyam
Distress,Want to read,sci-fi,Greg Egan
Picturing Quantum Processes,Want to read,physics,Bob Coecke and Stefano Gogioso
Invisible Cities,Want to read,fiction,Italo Calvino
Narciss and Goldmund,Want to read,fiction,Hesse
The Perennial Philosophy,Want to read,philosophy,Huxley
What it is like to be a Bat,Want to read,philosophy,Thomas Nagel
On Certainty,Want to read,philosophy,Wittgenstein
Embodied Mind: Cognitive Science and Human Experience,Want to read,psychology;philosophy,Francisco Varela
Reinventing the sacred: A new view of science reason and religion,Want to read,philosophy,Stuart Kauffman
The tao is silent,Reading,buddhism;philosophy,Raymon Smullyan
The Autobiography of a Super-Tramp,Read,autobiography,H. W. Davis
Jung's Map of the Soul,Read,psychology,
Learn Physics with Functional Programming,Want to read,physics,Scott N. Walck
An Introduction to Automata Theory Languages and Computation,Want to read,computer-science,Hopcroft
Structure and Interpretation of Classical Mechanics,Want to read,physics,Sussman
On Virtue Ethics,Want to read,philosophy,Rosalind Hursthouse
Surprised by Joy: The Shape of My Early Life,Want to read,biography;christianity,C.S. Lewis
Consider Phlebas,Stalled,sci-fi,Iain M. Banks
Opression and liberty,Reading,philosophy;economics,Simone Weil
How to Know a Person: The Art of Seeing Others Deeply and Being Deeply Seen,Want to read,psychology,David Brooks
Living With Complexity,Want to read,complexity,Donald A. Norman
Modern Man in Search of a Soul,Read,psicology,Jung
The Heroic Heart,Read,buddhism,Jetsunma Tenzin Palmo
River Out of Eden,Want to read,evolution;history,Richard Dawkins
Karmamudra: The Yoga of Bliss,Reading,buddhism;sex,Nida Chenagtsang
My Spiritual Autobiography,Read,biography;buddhism,Dalai Lama
Broke: Fixing Britains poverty crisis,Reading,economics,Tom Clark
I Want to Keep Smashing Myself Until I Am Whole,Want to read,philosophy,Elias Canetti and Joshua Cohen
Why Greatness Cannot Be Planned,Want to read,computer-science;psychology,Kenneth O. Stanley and Joel Lehman
Models of My Life,Want to read,philosophy;economics,Herbert Simon
The Complex World,Want to read,complex-systems,Krakauer
The Democracy Project,Want to read,history;anthropology;economics,David Graeber
A Book of Noises,Want to read,music,Caspar Henderson
The Moment of Complexity,Want to read,complex-systems,Mike Taylor
Cooperation: A Political Economic and Social Theory,Want to read,coordination;game-theory,Harcourt
The Tyranny of the Ideal,Want to read,philosophy,Gerald F Gaus
Post-scarcity Anarchism,Want to read,anarchism;economics,Murray Bookchin
The Problem of Induction,Want to read,philosophy,Hume
The Usefulness of Useless Knowledge,Want to read,philosophy,Abraham Flexner and Robbert Dijkgraaf
Chaos,Reading,physics;complex-systems,James Gleick
Emotional Intelligence,Read,psychology,Daniel Goleman
Good Economics for Hard Times,Reading,economics,Abhijit and Duflo
Factfulness,Read,economics;philosophy,Hans Rosling
Dynamical Systems in Neuroscience,Want to read,neuroscience,Eugene M. M Izhikevich
The Cyberiad,Read,sci-fi,Stanisaw Lem
The Age of Em,Reading,futurism,Robin Hanson,
How Asia Works,Read,economics;history,Joe Studwell,
Norwegian Wood,Stalled,fiction,Haruki Murakami,
Tudo  rio,Read,fiction,Carla Madeira,
The Language Instinct,Want to read,psychology;evolution;consciousness,Steven Pinker
The Society of Mind,Reading,consciousness;computer-science,Marvin Minsky
Logicomix,Want to read,comics,Apostolos Doxiadis
The Miracle of Mindfulness,Read,buddhism,Thich Nhat Hanh
Deschooling Society,Want to read,education,Ivan Illich
Free schools,Want to read,education,Jonathan Kozol
The Ignorant Schoolmaster,Want to read,education,Jacques Rancire
Cognitive Science An Introduction to the Science of the Mind,Want to read,psychology;neuroscience,Jose Luis Bermudez
Macroeconomics,Want to read,economics,Mankiw
Algebra,Want to read,math,Serge Lang
The Theory of Groups and Quantum Mechanics,Want to read,math;physics,Weyl
Representation Theory A First Course,Want to read,math,Fulton & Harris
Introduction to Statistical Inference,Want to read,math,Kiefer
Data Analysis A Bayesian Tutorial,Want to read,math,Skilling & Sivia
Bishop's Pattern Recognition and Machine Learning,Want to read,computer-science,Christopher M. Bishop 
Salinsky & Frances-White's The Improv Handbook,Want to read,comedy,Tom Salinsky and Deborah Frances-White 
Does Altruism Exist? Culture Genes and the Welfare of Others,Read,evolution;philosophy,David Sloan Wilson
This View of Life: Completing the Darwinian Revolution,Want to read,coordination;evolution,David Sloan Wilson
Right Concentration,Reference,buddhism,Leigh Brasington
The Three-Body Problem,Read,sci-fi,Ken Liu
At Home in Mitford,Want to read,fiction,Jan Karon
Good Omens,Abandoned,fiction, Terry Pratchett and Neil Gaiman
Good Sex: Getting Off Without Checking Out,Read,buddhism;sex,Jessica Graham
Orthodox Chinese Buddhism,Read,buddhism,Sheng-yen
Union of Mahamudra and Dzogchen,Want to read,buddhism,Chkyi Nyima Rinpoche
The Science of Enlightenment: How Meditation Works,Read,buddhism,Shinzen Young
Wild Ivy: The Spiritual Autobiography of Zen Master Hakuin,Want to read,buddhism; biography,Hakuin
Zen Mind Beginner's Mind,Read,buddhism,Shunry Suzuki
Diversity and Complexity,Stalled,complex-systems,Scott E. Page
Handbook of Computational Economics,Want to read,agent-based-modelling;economics,Leigh Tesfatsion
Radical Markets,Want to read,economics,Glen Weil
The Hitchhiker's Guide to the Galaxy,Read,sci-fi,Douglas Adams,
The Restaurant at the End of the Universe,Read,sci-fi,Douglas Adams,
Life the Universe and Everything,Read,sci-fi,Douglas Adams,
So Long and Thanks for All the Fish,Read,sci-fi,Douglas Adams,
Mostly Harmless,Read,sci-fi,Douglas Adams,
How to Travel with a Salmon: and Other Stories,Read,fiction,Umberto Eco
Snowcrash,Read,sci-fi,Neal Stephenson,
Neuromancer,Read,sci-fi
The Rise and Fall of American Growth,Want to read,history,Robert J. Gordon
Men Machines and Modern Times,Want to read,history,Elting E. Morison
Commoning as a Transformative Social Paradigm,Want to read,anarchism;urbanism,David Bollier
You Are Here,Read,buddhism,Thich Nhat Hanh
The Art Of Living,Read,buddhism,Thich Nhat Hanh
The Art of Mindful Living,Read,buddhism,Thich Nhat Hanh
Call Me By My True Names,Want to read,buddhism;poetry,Thich Nhat Hanh
Peace Is Every Step,Read,buddhism,Thich Nhat Hanh
Shambhala: The Sacred Path of the Warrior,Abandoned,buddhism;magic,Chogyam Trungpa,
Cutting Through Spiritual Materialism,Want to read,buddhism,Chogyam Trungpa
On Having No Head,Read,buddhism,Douglas Edison Harding
Cooperative Game Theory and Applications,Want to read,game-theory;coordination,Imma Curiel
Micromotives and Macrobehavior,Want to read,agent-based-modelling,Schelling
Difficult Conversations,Want to read,psychology,Douglas Stone et al.
The Book of Joy,Read,buddhism,Dalai Lama and Desmond Tutu
A Guide to the Good Life,Read,philosophy; psychology,William Irvine
Consciousness Explained,Reading,consciousness,Daniel C. Dennet
The Knowledge Machine,Want to read,philosophy,Michael Strevens
Social Engineering,Want to read,psychology,Robert W. Gehl & Sean T. Lawson
What is Truth,Want to read,philosophy,Peter Vardy
The Logic of Scientific Discovery,Stalled,philosophy,Popper
The Other Significant Others,Read,psychology,,Not a lot of content, unfortunately.
A Treatise of Human Nature,Want to read,philosophy,Hume,
Phenomenology of Perception,Want to read,philosophy,Maurice Merleau-Ponty,
Philosophical Investigations,Reading,philosophy,Wittgenstein,
Secrets of Divine Love: A Spiritual Journey into the Heart of Islam,Want to read,philosophy; islam,Helwa,
From Darkness Into Light,Want to read,philosophy; islam,Helwa,
Zen and the Art of Motorcycles,Read,philosophy,Robert Pirsig,
The Wisdom of Insecurity,Read,philosophy,Alan Watts,
The Social Instinct: How Cooperation Shaped the World,Want to read,psychology; biology,Nichola Raihani,
Walden Two,Want to read,fiction; philosophy,B.F. Skinner,
Beyond Freedom and Dignity,Want to read,philosophy,B.F. Skinner,
The Emergence of Organizations and Markets,Want to read,economics; history,John F. Padgett & Walter W. Powell,
Seeing Like a State: How Certain Schemes to Improve the Human Condition Have Failed,Read,history; economics; urbanism,James C. Scott,Great and unexpected insights against communism coming from the far-left.
Famine Affluence and Morality,Read,philosophy,Peter Singer,
The Art of Statistics: How to Learn from Data,Reading,math,David Spiegelhalter,
If You're an Egalitarian How Come You're So Rich?,Want to read,economics; philosophy,G.A. Cohen,
Supercooperators: The Mathematics of Evolution Altruism and Human Behaviour,Want to read,coordination; evolution,Martin Nowak,
The Nature of Computation,Reading,computer-science; math,Cristopher Moore & Stephan Mertens,
Category Theory for the Sciences,Want to read,math,David I. Spivak,
A Mathematician's Apology,Want to read,math; philosophy,G.H. Hardy,
Evolutionary Dynamics: Exploring the Equations of Life,Want to read,evolution; biology; math,Martin Nowak,
Dilla Time,Want to read,biography,Dan Charnas,
Foundryside,Want to read,sci-fi,Robert Jackson Bennett,
The Long Way to a Small Angry Planet,Read,sci-fi,Becky Chambers,
Beyond,Want to read,game-theory; philosophy; psychology,Martin Nowak,
Finite and Infinite Games,Want to read,philosophy; psychology,James P. Carse,
I Am a Strange Loop,Read,philosophy; math; biography,Douglas R. Hofstadter,
Gathering Moss,Want to read,biology,Robin Wall Kimmerer,
Reading Lessons,Want to read,education,Carol Atherton,
What Capitalism Needs Forgotten Lessons of Great Economists,Want to read,economics,John L Campbell John A. Hall,
Lyapunov Exponents,Want to read,complex-systems; physics,Arkady Pikovsky,
All the Mathematics You Missed,Want to read,math,,
Chaotic dynamics,Want to read,complex-systems; physics,,
Chaos in dynamical systems,Want to read,complex-systems; physics,Edward Ott,
Foundations of Complex-system Theories,Want to read,complex-systems,Sunny Auyang,
Intellectual Curiosity and the Scientific Revolution,Want to read,history,Toby Huff,
Tales of Japan,Want to read,fiction,,
Cognition in the Wild,Want to read,neuroscience,Edwin Hutchins,
The Economy of Cities,Want to read,economics; urbanism,Jane Jacobs,
Green Development: Environment and sustainability in the Third World,Want to read,agroecology,,
Finding the Mother Tree,Want to read,agroecology,,
Organic Manifesto: How Organic Farming Can Heal Our Planet Feed the World and Keep Us Safe,Want to read,agroecology; economics,,
A Networked Self: Identity Community and Culture on Social Network Sites,Want to read,anarchism; computer-science; psychology,,
Ethics: Origin and Development,Want to read,anarchism; philosophy,Peter Kropotkin,
Squatting in Europe,Want to read,anarchism; urbanism,,
The Mushroom at the End of the World,Want to read,anthropology,,
Moral Tribes: Emotion Reason and the Gap Between Us and Them,Want to read,anthropology,,
The Evolution of Civilizations,Want to read,anthropology,,
African Fractals,Want to read,anthropology; art,,
The Secret of Our Success: How Culture Is Driving Human Evolution; Domesticating Our Species; and Making Us Smarter,Want to read,anthropology; behaviorism; evolution; history; psychology,Joseph Henrich,
A Billion Wicked Thoughts: What the Internet Tells Us About Sexual Relationships,Want to read,anthropology; computer-science,,
Technology of the Oppressed: Inequity and the Digital Mundane in Favelas of Brazil,Want to read,anthropology; computer-science,,
Discipline and Punish: The Birth of the Prison,Read,philosophy;history,Foucault,Like every Foucault book this could have been a couple of pages long paper couldn't it?
The Collapse of Complex Societies,Want to read,anthropology; coordination; economics; history,Joseph A. Tainter,
On Human Nature,Want to read,anthropology; evolution; philosophy; psychology,E. O. Wilson,
War and Peace and War: The Rise and Fall of Empires,Want to read,anthropology; history,Peter Turchin,
Ultrasociety,Want to read,anthropology; history; systems-theory,Peter Turchin,
A Brief History of Everyone Who Ever Lived: The Stories in Our Genes,Want to read,anthropology; neuroscience,,
Cosmos,Want to read,anthropology; physics; history,Carl Sagan,
Cybernetics Art and Ideas,Want to read,art,,
10 PRINT CHR$(205.5+RND(1)); : GOTO 10,Want to read,art; computer-science; history,,
Genetics and Analysis of Quantitative Traits,Want to read,behaviorism; evolution,,
The Bell Curve: Intelligence and Class Structure in American Life,Want to read,behaviorism; psychology; questionable-research,Herrnstein,
The Confessions,Want to read,biography,,
The Book of Margery Kempe,Want to read,biography,,
Essays,Want to read,biography,Augustine,
Grace Abounding,Want to read,biography,Michel de Montaigne,
The Narrative of the Captivity and Restoration,Want to read,biography,,
The Autobiography of Benjamin Franklin,Want to read,biography,,
Narrative of the Life of Frederick Douglass,Want to read,biography,,
Incidents in the Life of a Slave Girl,Want to read,biography,,
Little House on the Prairie,Want to read,biography,,
The Road from Coorain,Want to read,biography,,
Black Boy,Want to read,biography,Richard Wright,
The Autobiography of Malcolm X,Want to read,biography,,
Hunger of Memory,Want to read,biography,,
The Year of Magical Thinking,Want to read,biography,,
LSD My Problem Child,Want to read,biography; drugs,Albert Hofmann,
My View of the World,Want to read,biography; philosophy,Schroedigner,
The Song of the Cell: An Exploration of Medicine and the New Human,Want to read,biology,,
Master Builder: How the New Science of the Cell is Rewriting the Story of Life,Want to read,biology; evolution,,
Why Buddhism Is True,Abandoned,buddhism,Bachelor,Very introductory to buddhist practices.
Regenesis: Feeding the World Without Devouring the Planet,Want to read,climate,,
All We Can Save: Truth; Courage and Solutions for the Climate Crisis,Want to read,climate,,
Complex Ecology,Want to read,climate; complex-systems,,
What If,Want to read,comics; computer-science; math; physics,Munroe,
Ghost in the Shell,Want to read,comics; fiction,,
Akira,Want to read,comics; fiction,,
The World of Eden,Want to read,comics; fiction,Moebius,
When the Wind Blows,Want to read,comics; fiction,Raymond Briggs,
The Primacy of Doubt: From Quantum Physics to Climate Change,Want to read,complex-systems,Tim Palmer,
Complex Population Dynamics: A Theoretical/Empirical Synthesis,Want to read,complex-systems; coordination,Peter Turchin,
Systems Thinking for Social Change,Want to read,complex-systems; coordination,,
Out of Control,Want to read,complex-systems; coordination; psychology,Kevin Kelly,
The Age of Prediction: Algorithms and the Shifting Shadow of Risk,Want to read,computer-science,,
The Essence of Software,Want to read,computer-science,Daniel Jackson,
Refactoring,Want to read,computer-science,Martin Fowler,
The Pragmatic Programmer: From Journeyman to Master,Want to read,computer-science,Andy Hunt; Dave Thomas,
Artificial Intelligence: A Modern Approach,Want to read,computer-science,Russel Norvig,
Staff Engineer: Leadership Beyond the Management Track,Want to read,computer-science,Will Larson,
Code,Want to read,computer-science,Charles Petzold,
Web Assembly in Action,Want to read,computer-science,,
Compilers: Principles Techniques and Tools,Want to read,computer-science,,
Waltzing With Bears: Managing Risk on Software Projects,Want to read,computer-science,,
Fairness and Machine Learning: Limitations and Opportunities,Want to read,computer-science,Solon Barcas Moritz Hardt and Narayana,
The Alignment Problem Machine Learning and Human Values,Want to read,computer-science; philosophy,,
Code: Version 2.0,Want to read,computer-science; governance,,
Curl,Want to read,computer-science; governance,Guy that made curl,
The Revolt of The Public and the Crisis of Authority in the New Millennium,Want to read,computer-science; governance,Martin Gurri Arnold Kling,
The Stack: On Software and Sovereignty ,Want to read,computer-science; governance,,
Democracy in the Information Age,Want to read,computer-science; governance,Elaine Kamarck; Joseph Nye,
Accelerating Democracy: Transforming Governance Through Technology,Want to read,computer-science; governance,,
@ is for Activism: Dissent Resistance and Rebellion in a Digital Culture,Want to read,computer-science; governance,,
#Republic: Divided Democracy in the Age of Social Media,Want to read,computer-science; governance,Sunstein,
The Crowdfunding Revolution: Social Networking Meets Venture Financing,Want to read,computer-science; governance; economics,Lawton Marom,
Abolish Silicon Valley,Want to read,computer-science; governance; economics,,
A World Without Work,Want to read,computer-science; governance; economics,,
Active Measures,Want to read,computer-science; disinformation,,
Geekonomics: The Real Cost of Insecure Software,Want to read,computer-science; economics; info-sec,,
Art of Doing Science and Engineering: Learning to Learn,Want to read,computer-science; education,,
A Madman Dreams of Turing Machines,Want to read,computer-science; history,,
A Computer Called Leo,Want to read,computer-science; history,,
A Brief History of the Future: From Radio Days to Internet Years in a Lifetime,Want to read,computer-science; history,,
A Brief History of Computing,Want to read,computer-science; history,,
@War: The Rise of the Military-Internet Complex,Want to read,computer-science; history,,
Quantum Computing Since Democritus,Want to read,computer-science; history; math; physics,Scott Aaronson,
The Nature of Mathematical Modeling,Want to read,computer-science; math,Neil Geshenfeld,
An Introduction to Statistical Learning: With Applications in R,Want to read,computer-science; math,,
Computers and Intractability: A Guide to the Theory of NP-Completeness,Want to read,computer-science; math,,
Principles of Computational Modelling in Neuroscience,Want to read,computer-science; neuroscience,,
Fundamentals of Computational Neuroscience,Want to read,computer-science; neuroscience,Trappenberg,
The Computer and the Brain,Want to read,computer-science; neuroscience; systems-theory,Von Neumann,
Moral AI: And How We Get There,Want to read,computer-science; philosophy,Jana Schalch Borg,
Hackers & Painters: Big Ideas from the Computer Age,Want to read,computer-science; philosophy,Paul Graham,
A Gift of Fire: Social Legal and Ethical Issues for Computing Technology,Want to read,computer-science; philosophy,,
A Dangerous Master: How to Keep Technology from Slipping Beyond Our Control,Want to read,computer-science; philosophy,,
A Crowd of One: The Future of Individual Identity,Want to read,computer-science; philosophy; psychology,,
Algorithms to Live By,Want to read,computer-science; psychology,,
The Conscious Mind: In Search of a Fundamental Theory,Want to read,consciousness; philosophy,David Chalmers,
The Elephant in the Brain,Want to read,consciousness,,
Thoughtfulness and the Rule of Law,Want to read,governance,Jeremy Waldron,
End Times: Elites Counter-Elites and the Path of Political Disintegration,Want to read,governance,Peter Turchin,
Where There Is No Government,Want to read,governance,Joireman,
Patterns of Democracy,Want to read,governance,Arend Lijphart,
The Death and Life of Great American Cities,Want to read,governance;urbanism,,
Governing the Commons,Read,governance;game-theory,Elinor Ostrom,
Systems Thinking for Social Change,Want to read,governance,,
Regenerative Leadership,Want to read,governance,Giles Hutchins & Laura Storm,
The End of Poverty,Want to read,economics; economics,Sach,
How the World Really Works,Want to read,economics,Vaclav Smil,
Controlling Corruption,Want to read,governance; economics,,
The Great Transformation,Want to read,governance; economics; history,Karl Polanyi,
Knowledge And Decisions,Want to read,governance; economics; philosophy,Thomas Sowell,
The Myth of the Rational Voter: Why Democracies Choose Bad Policies,Want to read,governance; economics; psychology,Bryan Caplan,
Another Now: Dispatches from an Alternative Present,Want to read,governance; fiction,Yanis Varoufakis,Kind of like Postcapitalism but better(?)
Democracy in America,Want to read,governance; history,Tocqueville,
Collapse: How Societies Choose to Fail or Succeed ,Want to read,governance; history,Jared Diamond,
Our Political Nature: The Evolutionary Origins of What Divides Us,Want to read,governance; history; psychology,Avi Tuschman,
Open Development: Networked Innovations in International Development,Want to read,governance; open-source,,
Why We're Polarized,Want to read,governance; philosophy,Ezra Klein,
Economics of Good and Evil,Want to read,economics,,Similar to Poor Economics
The Persistency of Poverty ,Want to read,economics,,
The New Economics: A Manifesto,Want to read,economics,Steve Keen,
Mission Economy,Want to read,economics,Mariana Mazzucato,
Everything for Everyone,Want to read,economics,,
Ours to Hack and to Own,Want to read,economics,Schneider,
Good Capitalism; Bad Capitalism; and the Economics of Growth and Prosperity,Want to read,economics,,
Basic Economics: A Common Sense Guide to the Economy,Want to read,economics,,
On Classical Economics,Want to read,economics,Thomas Sowell,
The Times Complete History of the World,Want to read,economics,Richard Overy,
The Thank You Economy,Want to read,economics,,
Doing Economics: A Guide to Understanding and Carrying Out Economic Research,Want to read,economics,,
How Markets Fail: The Logic of Economic Calamities,Want to read,economics,,
The Trouble with Markets: Saving Capitalism from Itself,Want to read,economics,,
Capitalism Socialism and Democracy,Want to read,economics;governance,,
Building a Sustainable and Desirable Economy-in-Society-in-Nature,Want to read,economics,,
Understanding Capital: Marx's Economic Theory,Want to read,economics;history,,
Grassroots and Nonprofit Leadership: A Guide for Organizations in Changing Times,Want to read,economics,,
Imperialism in the Twenty-First Century: Globalization Super-Exploitation and Capitalism's Final Crisis,Want to read,economics;history,,
Rethinking Money: How New Currencies Turn Scarcity into Prosperity,Want to read,economics,,
The Looting Machine: Warlords Oligarchs Corporations Smugglers and the Theft of Africa's Wealth,Want to read,economics,,
Inequality: What Can Be Done?,Want to read,economics,,
Politics Is for Power: How to Move Beyond Political Hobbyism Take Action and Make Real Change,Want to read,economics,,
Small Is Beautiful: Economics as if People Mattered,Want to read,economics,,
Common Wealth: Economics for a Crowded Planet,Want to read,economics,,
Social Justice Handbook: Small Steps for a Better World,Want to read,economics,,
The Local Economy Solution,Want to read,economics,,
Beyond Growth: The Economics of Sustainable Development,Want to read,economics,,
The Good Society: The Humane Agenda,Want to read,economics,,
Local Is Our Future: Steps to an Economics of Happiness,Want to read,economics,,
Moral Politics: How Liberals and Conservatives Think,Want to read,economics,,
Social Entrepreneurship: What Everyone Needs to Know,Want to read,economics;governance,,
Manifesto of the Free People's Union,Want to read,economics,,
Cities and the Wealth of Nations,Want to read,economics;urbanism,,
Wikinomics: How Mass Collaboration Changes Everything,Want to read,economics,,
Creating a Learning Society: A New Approach to Growth Development and Social Progress,Want to read,economics,,
The Wealth of Nations/The Theory of Moral Sentiments,Want to read,economics,,
Merchants of Doub,Want to read,economics,,
You Can't Be Neutral on a Moving Train: A Personal History of Our Times,Want to read,economics,,
Why Nations Fail,Want to read,economics,Daron Acemoglu and James A. Robinson,
Inventing the Future: Postcapitalism and a World Without Work,Want to read,economics; anarchism;governance,,
The Case Against Education: Why the Education System Is a Waste of Time and Money,Want to read,economics; education,Bryan Caplan,
Atlas Shrugged,Want to read,economics; fiction,Ayn Rand,
Analyzing Politics,Want to read,economics; game-theory, Kenneth A Shepsle,
Understanding Power: The Indispensable Chomsky,Want to read,economics; history,,
The Revolution Will Not be Funded,Want to read,economics; philosophy,,
The Wisdom of Crowds,Want to read,economics; psychology,James Surowiecki,
Nudge,Want to read,economics; questionable-research,Sunstein,
The Tipping Point: How Little Things Can Make a Big Difference,Want to read,economics; questionable-research,Malcolm Gladwell,
Blind Spots: Why We Fail to Do What's Right and What to Do about It,Want to read,economics; questionable-research,,
Blindness,Abandoned,fiction,Saramago,So incredibly boring.
Animal Spirits: How Human Psychology Drives the Economy and Why It Matters for Global Capitalism,Want to read,economics; questionable-research,,
The Educated Mind,Want to read,education,,
Seven Complex Lessons in Education for the Future,Want to read,education,Edgar Morin,
Pedagogy of Freedom,Want to read,education,Paulo Freire,
Pedagogia do Oprimido,Want to read,education,Paulo Freire,
How We Learn: The New Science of Education and the Brain,Want to read,education; neuroscience,,
Power Sex Suicide: Mitochondria and the Meaning of Life,Want to read,evolution,Nick Lane,
The Selfish Gene,Want to read,evolution,Dawkins,
Consilience,Want to read,evolution,E. O. Wilson,
The Origins of Species,Want to read,evolution,,
The Machinery of Life,Want to read,evolution; biology,David S. Goodsell,
Evolution and the Theory of Games,Want to read,evolution; math; systems-theory,John Maynard Smith,
A History of the Human Brain: From the Sea Sponge to CRISPR; How Our Brain Evolved,Want to read,evolution; neuroscience,Bret Stekta,
How to Travel with a Salmon: And Other Essays,Read,fiction,Umberto Eco,
Fahrenheit 451,Want to read,fiction,,
The Sound and the Fury,Want to read,fiction,William Faulkner
The High King,Want to read,fiction,,
Taran Wanderer,Want to read,fiction,,
Solenoid,Want to read,fiction,Mircea Crtrescu,
Gilead,Want to read,fiction,,
The Ballad of Black Tom,Want to read,fiction,,
I Wonder What Human Flesh Tastes Like,Want to read,fiction,,
Jade City,Want to read,fiction,Fonda Lee,
Mistborn,Want to read,fiction,Brandon Sanderson,
Another Now: Dispatches from an Alternative Present,Want to read,fiction,Yanis Varoufakis,
Foucault's Pendulum,Want to read,fiction,Umberto Eco,
The Grail Quest,Want to read,fiction,Bernard Cornwell,
Into the Wild,Want to read,fiction,,
The Sound and Fury,Want to read,fiction,,
Howls Moving Castle,Want to read,fiction,,
David Copperfield,Want to read,fiction,,
Oliver Twist,Want to read,fiction,,
The Call of the Wild,Read,fiction,,
And Then There Were None,Want to read,fiction,,
The Girl With the Dragon Tattoo,Want to read,fiction,,
Dungeon Crawler Karl,Want to read,fiction,,
A Wizard of Earthsea Rimbaud,Want to read,fiction,,
Lolita,Want to read,fiction,Vladimir Nabokov,
Mans Search for Meaning,Want to read,biography; philosophy,Viktor Frankl,
Waves,Want to read,fiction,Virginia Woolf,
Mrs Dalloway,Want to read,fiction,Virginia Woolf,
The Decameron,Want to read,fiction,Boccaccio,
O Guarani,Want to read,fiction,,
O Ateneu,Want to read,fiction,,
Sagarana,Want to read,fiction,,
The Gambler,Want to read,fiction,Dostoevsky,
Moby Dick,Want to read,fiction,,
Don Quixote,Want to read,fiction,,
The Return of the Native,Want to read,fiction,,
Madame Bovary,Want to read,fiction,,
Huckleberry Finn,Want to read,fiction,,
The Portrait of a Lady,Want to read,fiction,,
Red Badge of Courage,Want to read,fiction,,
Seize the Day,Want to read,fiction,,
One Hundred Years of Solitude,Want to read,fiction,,
If On A Winters Night A Traveler,Want to read,fiction,,
Beloved,Want to read,fiction,,
Heart of Darkness,Want to read,fiction,,
The Things They Carried,Want to read,fiction,,
The House of Mirth,Want to read,fiction,,
Mrs. Dalloway,Want to read,fiction,,
Native Son,Want to read,fiction,,
Jane Eyre,Want to read,fiction,,
Uncle Tom's Cabin,Want to read,fiction,,
The Scarlet Letter,Want to read,fiction,,
Pilgrims Progress,Want to read,fiction,,
Agamemnon,Want to read,fiction,Aeschylus,
Oedipus Rex,Want to read,fiction,Sophocles,
Hippolytus,Want to read,fiction,Euripides,
The Comedy of Error,Want to read,fiction,William Shakespeare,
Richard II,Want to read,fiction,William Shakespeare,
The Spanish Tragedy,Want to read,fiction,Thomas Kyd,
Doctor Faustus,Want to read,fiction,Christopher Marlowe,
Life Is a Dream,Want to read,fiction,Pedro Calderon de la Barca,
Hedda Gabler,Want to read,fiction,Henrik Ibsen,
The Cherry Orchard,Want to read,fiction,Anton Chekhov,
Major Barbara,Want to read,fiction,George Bernard Shaw,
Six Characters in Search of an Author,Want to read,fiction,Luigi Pirandello,
Mother Courage and Her Children,Want to read,fiction,Bertolt Brecht,
Death of a Salesman,Want to read,fiction,Arthur Miller,
Waiting for Godot,Want to read,fiction,Samuel Beckett,
The Fall,Want to read,fiction; philosophy,Camus,
Dancing in the Glory of Monsters: The Collapse of the Congo and the Great War of Africa,Want to read,history,,
The Gulag Archipelago,Want to read,history,,
The White Pill: A Tale of Good and Evil,Want to read,history,,
Human Accomplishment,Want to read,history,Charles Murray,
Slavery and Social Death,Want to read,history,,
1491: New Revelations of the Americas Before Columbus,Want to read,history,Charles C. Mann,
The Strange Death of Europe: Immigration Identity Islam,Want to read,history,Douglas Murray,
How Europe Underdeveloped Africa,Want to read,history,Walter Rodney,
Histories,Want to read,history,Herodotus,
The Peloponnesian War,Want to read,history,Thucydides,
The Power of Geography,Want to read,history;,,
Common Sense,Want to read,history; philosophy,Thomas Paine,
The Federalist Papers,Want to read,history; philosophy,,
The Wretched of the Earth,Want to read,history; philosophy,Frantz Fanon,
Quantum: Einstein Bohr and the Great Debate about the Nature of Reality,Want to read,history; physics,Kumar,
The Matter of Everything: How Curiosity Physics and Improbable Experiments Changed the World,Want to read,history; physics,Suzie Sheehy,
Mild Children,Want to read,history; sci-fi,Hand Moravec,
A Myriad of Tongues,Want to read,language,,
The Case Against Reality,Want to read,magic;questionable-research,Donald Hoffman,
Existential Kink,Read,magic;questionable-research,,
Doing Bayesian Data Analysis: A Tutorial with R JAGS and Stan,Want to read,math,,
Proof and the Art of Mathematics,Want to read,math,Hamkins,
Mathematics: Its Content Methods and Meaning,Want to read,math,Aleksandrov and Kolmogorov,
The Fractal Geometry of Nature   The Fractal Geometry of Nature ,Want to read,math,Mandelbrot,
Linear Algebra and Its Applications,Want to read,math,Gilbert Strang,
Categories for the Working Mathematician,Want to read,math,Saunders Mac Lane,
Gdel's Proof,Want to read,math,,
Div Grad Curl and All That: An Informal Text on Vector Calculus,Want to read,math,Harry Schey,
Linear Algebra and Its Applications,Want to read,math,Gilbert Strang,
Concrete Mathematics: A Foundation for Computer Science,Want to read,math; computer-science,,
The Road to Reality,Want to read,math; philosophy; physics,,
The Theoretical Minimum: What You Need to Know to Start Doing Physics,Want to read,math; physics,Leonard Susskind,
Theoretical Neuroscience: Computational and Mathematical Modeling of Neural Systems,Want to read,neuroscience,Peter Dayan and Abbott,
Cognition in Practice: Mind Mathematics and Culture in Everyday Life,Want to read,neuroscience,,
Metamagical Themas: Questing for the Essence of Mind and Pattern,Want to read,neuroscience; coordination; computer-science; game-theory,David Hofstadter,
How We Learn: Why Brains Learn Better Than Any Machine . . . for Now,Want to read,neuroscience; psychology,,
Models of the Mind: How Physics Engineering and Mathematics Have Shaped Our Understanding of the Brain,Want to read,neuroscience; psychology,Grace Lindsay,
Why Zebras Don't Get Ulcers,Want to read,neuroscience; psychology,Sapolsky,
The Elephant in the Brain,Want to read,neuroscience; psychology,,
Why We Sleep,Want to read,neuroscience; questionable-research,Matthew Walker,
Open Sources: Voices from the Open Source Revolution,Want to read,open-source,,
Free Software Free Society,Want to read,open-source,Stallman,
On the Shortness of Life,Want to read,philosophy,Seneca,
Popper Selections,Want to read,philosophy,David Miller,
Tractatus Logico-Philosophicus,Want to read,philosophy,,
The Skeptics' Guide to the Universe: How to Know What's Really Real in a World Increasingly Full of Fake,Want to read,philosophy,Steven Novella,
After Virtue,Want to read,philosophy,,
Consider the Lobster: And Other Essays,Want to read,philosophy,David Foster Wallace,
Waking Up: A Guide to Spirituality Without Religion,Want to read,philosophy,Sam Harris,
The Trouble with Being Born,Want to read,philosophy,Emil Cioran,
Letters to a Young Contrarian,Want to read,philosophy,Christopher Hitchens,
The Open Society and Its Enemies,Want to read,philosophy,Karl Popper,
After Virtue,Want to read,philosophy,,
Nausea,Want to read,philosophy,Sartre,
Animal Rights: A Very Short Introduction,Want to read,philosophy,,
Epistemic Risk and the Demands of Rationality,Want to read,philosophy,,
Being and Time,Want to read,philosophy,Heidegger,
The Sofist,Want to read,philosophy,,
Consilience: The Unity of Knowledge ,Want to read,philosophy; evolution,E. O. Wilson,
Mind-body Problem,Want to read,philosophy; fiction,Rebecca Goldstein,
What Is Life? with Mind and Matter and Autobiographical Sketches,Want to read,philosophy; physics; biology,Erwin Schrdinger,
Rationality and the Reflective Mind,Want to read,philosophy; psychology,Stanovich,
Science Fictions: The Epidemic of Fraud Bias Negligence and Hype in Science,Want to read,philosophy; psychology,Stuart Ritchie,
Spacetime and Geometry: An Introduction to General Relativity ,Want to read,physics,Sean Carroll,
How to Make an Apple Pie from Scratch,Reading,physics,Harry Cliff,
Einstein's Universe,Want to read,physics,Nigel Calder,
Parallel Worlds: A Journey through Creation Higher Dimensions and the Future of the Cosmos,Want to read,physics,Michio Kaku,
String of Beads,Want to read,poetry,Shikishi,
Unforgotten Dreams,Want to read,poetry,Shotetsu,
Poemas Malditos Gostosos e Gozosos,Want to read,poetry,,
The Gold Cell,Want to read,poetry,Sharon Olds,
26 poetas hoje,Want to read,poetry,,
Pale Fire,Want to read,poetry,Nabokov,
The Iliad,Want to read,poetry,Homer,
The Odyssey,Want to read,poetry,Homer,
Sappho,Want to read,poetry,Sappho,
The Aeneid,Want to read,poetry,Virgil,
Canterbury Tales,Want to read,poetry,Geoffrey Chaucer,
Sonnets,Want to read,poetry,William Shakespeare,
Paradise Lost,Want to read,poetry,John Milton,
The Rape of the Lock,Want to read,poetry, Alexander Pope,
The Prelude,Want to read,poetry,William Wordsworth,
Leaves of Grass,Want to read,poetry,Walt Whitman,
Middlemarch,Want to read,poetry,George Eliot,
The Waste Land,Want to read,poetry,T.S. Eliot,
The Love Song of J. Alfred Prufrock,Want to read,poetry,T.S. Eliot,
Four Quartets,Want to read,poetry,T.S. Eliot,
The Dream Songs,Want to read,poetry,John Berryman,
Flow: The Psychology of Optimal Experience,Want to read,psychology,,
The Body Keeps the Score: Brain Mind and Body in the Healing of Trauma,Want to read,psychology,Kolk,
How Emotions Are Made: The Secret Life of the Brain,Want to read,psychology,,
The Red Book,Reading,psychology,Jung,
The Anxiety and Depression Work Book,Want to read,psychology,,
Nonviolent Communication: A Language of Life,Want to read,psychology,,
Inadequate Equilibria,Want to read,psychology,Eliezer Yudkowsky,
How We Change,Want to read,psychology,Polan,
Radical Acceptance,Want to read,psychology,Tara Brach,
The Paradox of Choice,Want to read,psychology,,
Stumbling on Happiness,Want to read,psychology,,
Predictably Irrational: The Hidden Forces That Shape Our Decisions,Want to read,psychology; economics,,
The Shape of Thought: How Mental Adaptations Evolve,Want to read,psychology; evolution,H. Clark Barrett,
Children of Time,Want to read,sci-fi,,
Enders Game,Want to read,sci-fi,,
Stories of Your Life and Others,Read,sci-fi,Ted Chiang,
Hyperion,Read,sci-fi,Dan Simmons,
Blindsight,Want to read,sci-fi,Peter Watts,
Sword & Citadel,Want to read,sci-fi,Gene Wolf,
The Peace War,Want to read,sci-fi,Vernor Vinge,
Permutation City,Read,sci-fi,Greg Egan,
Diaspora,Read,sci-fi,Greg Egan,
Cryptonomicon,Want to read,sci-fi,,
A Fire Upon the Deep,Read,sci-fi,Vernor Vinge,
Island,Want to read,sci-fi,Asimov,
Linked: How Everything Is Connected to Everything Else,Want to read,systems-theory,,
Nonlinear Dynamics and Chaos,Want to read,systems-theory; complex-systems; physics,Strogatz Steven H.,
Deep Simplicity: Bringing Order to Chaos and Complexity ,Want to read,systems-theory; complex-systems; physics,John Gribbin,
Sync: The Emerging Science of Spontaneous Order ,Want to read,systems-theory; history,,
The (Mis)Behavior of Markets,Want to read,systems-theory; math; economics,Mandelbrot,
A First Course in Chaotic Dynamical Systems: Theory and Experiment ,Want to read,systems-theory; physics,,
Does God Play Dice?: The New Mathematics of Chaos ,Want to read,systems-theory; physics; math,,
Dream States,Want to read,urbanism,,
Gdel Escher Bach: An Eternal Golden Braid,Stalled,computer-science;math;physics;Hofstadter,,
Crime and Punishment,Stalled,fiction,,
The Ministry for the Future,Stalled,sci-fi,Kim Stanley,
The Omnivores Dilemma ,Stalled,agroecology; anthropology,,
Rules Without Rulers,Stalled,anarchism,,
Anarcho-syndicalism: Theory and Practice,Stalled,anarchism,,
On Anarchism,Stalled,anarchism,Chomsky,
Ferramentas para Autonomia,Stalled,anarchism; governance,,
Markets Not Capitalism,Stalled,anarchism; economics,,
A Queda do Cu,Stalled,anthropology,,
Behave,Stalled,anthropology; behaviorism; neuroscience; psychology; questionable-research,,
You Are an Artist: Assignments to Spark Creation,Stalled,art,,
Active Inference,Reading,neuroscience; computer-science; math,Thomas Parr,
Wir Kindern vom Zoo Bahnhof,Stalled,biography,Christiane F.,
Memories Dreams Reflections,Stalled,biography,Jung,
Entering the Heart of Sun and Moon,Stalled,buddhism,,
Complexity: A Guided Tour,Stalled,complex-systems,Mitchell,
Which Side Are You On?,Stalled,governance,Thomas Geoghegan,
Postcapitalism,Stalled,governance; economics,,
The Origins of Political Order,Stalled,governance; economics; history,Fukuyama,
The Digital Party,Stalled,governance; open-source,,
Antifragile,Stalled,coordination; questionable-research,,
Thinking in Systems,Stalled,coordination; systems-theory,Donella Meadows,
Pihkal: A Chemical Love Story,Stalled,drugs,,
Sacred Economics,Stalled,economics; magic,,
How to Solve It: A New Aspect of Mathematical Method,Stalled,education; math,Polya,
Infinite Jest,Reading,fiction,David Foster Wallace,
Ficciones,Stalled,fiction,Jorge Luis Borges,
Der Mann mit der Ledertasche,Stalled,fiction,Bukowski,
The Plague,Stalled,fiction,,
War and Peace,Stalled,fiction,,
13th Age,Reference,games,,
Mathematical Proofs: A transition to advanced mathematics,Stalled,math,,
The Joy of Abstraction ,Stalled,math; systems-theory,Cheng,
Surfing Uncertainty,Stalled,neuroscience;consciousness,Clarke,
The Nichomachean Ethics,Read,philosophy,Aristotle,
Being and Nothingness,Stalled,philosophy,Sartre,
Meditations,Stalled,philosophy,Marcus Aurelius,
Geneology of Morals,Stalled,philosophy,Nietzsche,
Being and Time,Stalled,philosophy,,
Causation Prediction and Search,Stalled,philosophy; math,,
Boitempo ,Stalled,poetry,Drummond ,
Thinking Fast and Slow,Stalled,psychology,Daniel Kahneman Patrick Egan et al.,
Monalisa Overdrive,Stalled,sci-fi,,
On Writing Well,Stalled,writing,,
Reinforcement Learning: An Introduction,Reference,computer-science,Sutton & Richard S.,
The Beginning of Infinity,Read,physics,David Deutsch,
Agent Based Models of Geographical Systems,Reference,agent-based-modelling,,
Color and Light,Reference,art,,
Images of Enlightenment,Reference,buddhism,,
The Mind Illuminated,Reference,buddhism,Culadasa,
Worlds of Transformation,Reference,buddhism; art,,
The Theory of Complex Systems,Reference,complex-systems; computer-science; math,,
Cellular Automata And Complexity: Collected Papers,Reference,complex-systems; computer-science; math; systems-theory,Wolfram,
Architecture Patterns With Python,Reference,computer-science,,
Robust Python,Reference,computer-science,,
Machine Learning: A Probabilistic Perspective,Reference,computer-science,Kevin Murphy,
Deep Learning,Reference,computer-science,,
The Rust Programming Language,Reference,computer-science,,
Algorithms,Reference,computer-science,Sedwick,
Essential TypeScript,Reference,computer-science,Adam Freeman,
Effective Modern C++,Reference,computer-science,Meyers,
Introduction to Algorithms,Reference,computer-science,Cormen,
Web Assembly the Definitive Guide,Reference,computer-science,,
Fluent Python,Reference,computer-science,,
Test Driven Development ,Reference,computer-science,Kant Beck,
Hands-On Machine Learning with Scikit-Learn and TensorFlow,Reference,computer-science,,
Python for Data Analysis,Reference,computer-science; math,,
A New Kind of Science,Reference,computer-science; math,Wolfram,
Cellular Automata and Complexity,Reference,computer-science; math; systems-theory,Wolfram,
Game Theory: An Introduction,Reference,game-theory,Tadelis,
Essentials of Game Theory,Reference,game-theory,Yoav Shoham Kevin Leyton-Brown,
Multiagent systems: algorithmic game-theoretic and logical foundations,Reference,game-theory; agent-based-modelling,Yoav Shoham Kevin Leyton-Brown,
Behavioral Game Theory: Experiments in Strategic Interaction,Reference,game-theory; behaviorism,Colin Camerer,
A History of Western Philosophy,Reference,history; philosophy,Bertrand Russel,
All of Statistics,Reference,math,,
Introduction to Probability,Reference,math,Joseph K. Blitzstein,
Probability Theory: The Logic of Science,Reference,math,E.T. Jaynes,
Calculus,Reference,math,James Stewart,
Um Curso de Geometria Analitica e Algebra Linear,Reference,math,Reginaldo,
On Numbers and Games,Reference,math; systems-theory,Conway,
The Problems of Philosophy,Reference,philosophy,Bertrand Russel,
The Art of Electronics,Reference,physics,Paul Horowitz,
Introduction to Graph Theory,Reference,systems-theory,Richard Trudeau,
Frankenstein,Read,fiction,Mary Shelley,
How to Be Compassionate,Read,buddhism,Dalai Lama,
The Topmost Yoga System,Read,anthropology; questionable-research,,
Essential Yoga,Read,sport; buddhism,,
Multiagent Systems: A Modern Approach to Distributed Artificial Intelligence,Read,agent-based-modelling,,
Modeling Social Behavior Mathematical and Agent-Based,Read,agent-based-modelling,Smaldino,
The One-Straw Revolution,Read,agroecology,,
Technological Slavery,Read,anarchism,,
Steal This Book,Read,anarchism,,
Walden,Read,anarchism; biography; climate,,
Plunder of the Commons,Read,anarchism; climate; governance; economics,Guy Standing,
V for Vendetta,Read,anarchism; comics; fiction,,
Community Rules,Read,anarchism; governance; open-source,,
Banqueiro Anarquista,Read,anarchism; economics; fiction,,
The Social Conquest of Earth,Read,anthropology; evolution,E. O. Wilson,
Mitos e Lendas Nrdicas,Read,anthropology; fiction,,
Guns Germs and Steel,Read,anthropology; history; questionable-research,,
The Dawn of Everything,Read,anthropology; philosophy,,
The Righteous Mind,Read,anthropology; philosophy; questionable-research,,
Charles Evans Pocket Book to Watercolor Artists,Read,art,,
Asterios Polyp,Read,art; comics; fiction,,
The Design of Everyday Things,Read,art; computer-science; psychology,,
Surely You're Joking Mr. Feynman!,Read,biography,,
What Do You Care What Other People Think,Read,biography,,
Deep Thinking,Read,biography,Kasparov,
Ludwig Wittgenstein: The Duty of Genius,Read,biography,Ray Monk,
Persepolis,Read,biography; comics,,
Maus,Read,biography; comics; history,,
The Man Who Knew Infinity: A Life of the Genius Ramanujan,Read,biography; math,,
Roaring Silence,Read,buddhism,,
Buddha,Read,buddhism; comics,,
Demian,Read,buddhism; fiction,Hesse,
Siddharta,Read,buddhism; fiction,,
The Art of Sexual Ecstasy,Read,buddhism; magic;sex,,
Tao Te Ching,Read,buddhism; philosophy,,
Alone with Others,Read,buddhism; philosophy,,
The Internal Game of Tennis,Read,buddhism; psychology; sports,,
O Evangelho Segundo O Espiritismo,Read,christianity,Allan Kardec,
Violetas na Janela,Read,christianity,,
Livro dos Espritos,Read,christianity,Allan Kardec,
O Grande Amigo de Deus,Read,christianity; fiction,Caldwell,
Servos de Deus,Read,christianity; fiction,Caldwell,
Medico de Homens e de Almas,Read,christianity; fiction,Caldwell,
Every Species is a Masterpiece,Read,climate,E. O. Wilson,
Billions and Billions,Read,climate; philosophy,Carl Sagan,
Pale Blue Dot,Read,climate; physics,,
Sabrina,Read,comics,,
The Best We Could Do,Read,comics; biography,,
Heaven No Hell,Read,comics; fiction,Michael Deforge,
100 Bullets,Read,comics; fiction,,
Jerusalem,Read,comics; fiction,,
Batman: The Killing Joke,Read,comics; fiction,,
Batman: Year One,Read,comics; fiction,,
The Dark Knight Returns,Read,comics; fiction,,
Elektra Dead or Alive,Read,comics; fiction,,
Sin City,Read,comics; fiction,,
Ronin,Read,comics; fiction,Miller,
Vagabond,Read,comics; fiction,Takehiko Inoue,
The Walking Dead,Read,comics; fiction,Robert Kirkman,
Blade of the Immortal,Read,comics; fiction,Hiroaki Samura,
Crisis on Infinite Earths,Read,comics; fiction,,
300,Read,comics; fiction,,
Swamp Thing,Read,comics; fiction,,
Black Hole,Read,comics; fiction,,
Death Note,Read,comics; fiction,,
Scott Pilgrim,Read,comics; fiction,,
Y; The Last Man,Read,comics; fiction,,
Batman: Year One,Read,comics; fiction,,
Preacher,Read,comics; fiction,,
Sweet Tooth,Read,comics; fiction,,
Blankets,Read,comics; fiction,,
Transmetropolitan,Read,comics; fiction,,
Habibi,Read,comics; fiction,,
Conan of Cimmeria,Read,comics; fiction,Robert E. Howard,
Sandman Series,Read,comics; fiction,,
Watchmen Series,Read,comics; fiction,,
The Incal,Read,comics; fiction,Jodorowsky,
The Incal,Read,comics; sci-fi,,
Making Things Work: Solving Complex Problems in a Complex World,Read,complex-systems; coordination,Yaneer Bar-Yam,
The Evolution of Cooperation,Read,complex-systems; coordination; game-theory,Axelrod,
Mastering Python High Performance,Read,computer-science,Fernando Doglio,
Python High Performance,Read,computer-science,Gabriele Lanaro,
Effective Python: 90 Specific Ways to Write Better Python,Read,computer-science,,
A Philosophy of Software Design,Read,computer-science,,
Developer Hegemony,Read,computer-science,,
C++: How to Program,Read,computer-science,Deitel,
C++ for Programmers,Read,computer-science,Deitel,
Algoritmos e Estrutura de Dados,Read,computer-science,Ziviani,
Clean Architecture,Read,computer-science,,
Surveillance Capitalism,Read,computer-science,,
Mindstorms: Children Computers And Powerful Ideas,Read,computer-science; education,,
The Book of Why,Read,computer-science; math; philosophy,Judea Pearl ,
The Art of Community,Read,computer-science; open-source,Bacon,
Working in Public,Read,computer-science; open-source; questionable-research,,
Utopia,Read,governance,Thomas More,
The Handbook for Radical Local Democracy,Read,governance; economics,,
Poor Economics,Read,economics,Abhijit Banerjee; Esther Duflo,
Greenpilled,Read,economics; questionable-research,,
Producing Open Source Software,Read,computer-science; open-source,Karl Fogel,
The Prince,Read,governance; philosophy,,
Vier Tage Woche,Read,psychology,,
The Pragmatist's Guide to Governance,Read,governance; questionable-research,,
The Doors of Perception,Read,drugs; philosophy,Albert Hofmann,
Debt,Read,economics,,
Who Rules the World,Read,economics,,
Manufacturing Consent,Read,economics,,
Utopia for Realists: And How We Can Get There,Read,economics,Rutger Bregman,
Poverty by America,Read,economics,Matthew Desmond,
The Origin of Wealth,Read,economics,,
Capital and Ideology ,Read,economics; history,Piketty ,
Doughnut Economics,Read,economics; history; questionable-research,,
The Wealth of Networks,Read,economics; open-source,,
The Well Educated Mind,Read,education; questionable-research,Susan Wise Bauer,
The Castle of Llyr,Read,fiction,,
The Black Cauldron,Read,fiction,,
The Book of Three,Read,fiction,,
The Man in the High Castle,Read,fiction,,
Maktub,Read,fiction,,
Brida,Read,fiction,,
Memorias de Emilia,Read,fiction,,
Tonico e Carnica,Read,fiction,,
Garra de Campeo,Read,fiction,,
Comedias para Se Ler na Escola,Read,fiction,Verissimo,
Sozinha no Mundo,Read,fiction,,
O Menino do Dedo Verde,Read,fiction,,
A Ilha Perdida,Read,fiction,,
O Escaravelho do Diabo,Read,fiction,,
As Aventuras de Xisto,Read,fiction,,
The Sorcerer of the North,Read,fiction,,
The Battle for Skandia,Read,fiction,,
The Icebound Land,Read,fiction,,
The Burning Bridge,Read,fiction,,
The Ruins of Gorlan,Read,fiction,,
Sharpe's Fortress,Read,fiction,,
Sharpes Triumph,Read,fiction,,
Sharpes Tiger,Read,fiction,,
Saxon Stories: The Lords of the North,Read,fiction,,
Saxon Stories: The Pale Horseman,Read,fiction,,
Saxon Stories: The Last Kingdom,Read,fiction,,
Roverandom,Read,fiction,Tolkien,
The Idiot,Read,fiction,Dostoevsky,
Overstory,Read,fiction,Richard Powers,
Os Sete Gatinhos,Read,fiction,Nelson Rodrigues,
No Se Pode Amar e Ser Feliz ao Mesmo Tempo,Read,fiction,Nelson Rodrigues,
A Vida Como Ela ,Read,fiction,Nelson Rodrigues,
Poliana Moa,Read,fiction,,
Poliana,Read,fiction,,
A Series of Unfortunate Events,Read,fiction,,
The Arabian Nights,Read,fiction,,
The Lost Symbol,Read,fiction,,
The Ring of the Nibelung,Read,fiction,,
Beowulf,Read,fiction,,
Hamlet,Read,fiction,,
The Three Musketeers,Read,fiction,,
Wuthering Heights,Read,fiction,,
O Cortio,Read,fiction,,
O Homem de Cabea de Papelo,Read,fiction,,
The Archer's Tale,Read,fiction,Bernard Cornwell,
The Old Man and the Sea,Read,fiction,,
The Call of Cthulhu,Read,fiction,,
Necronomicon,Read,fiction,,
The Mists of Avalon,Read,fiction,,
Running With Wolves,Read,fiction,,
Faust,Read,fiction,,
The Sorrows of Young Werther,Read,fiction,,
Romeo and Juliet,Read,fiction,,
The Little Prince,Read,fiction,,
The Wise Man's Fear,Read,fiction,,
Ranger's Apprentice Series,Read,fiction,,
Name of the Wind,Read,fiction,,
At the Mountains of Madness,Read,fiction,Lovecraft,
Eragon,Read,fiction,,
Harry Potter e o Prisioneiro de Azkaban,Read,fiction,,
Harry Potter e a Camara Secre,Read,fiction,,
Harry Potter e a Pedra Filosofal,Read,fiction,,
Gulliver's Travels,Read,fiction,,
Digital Fortress,Read,fiction,,
Angels and Demons,Read,fiction,,
Da Vinci Code,Read,fiction,,
A Sala De mbar,Read,fiction,,
I Ching,Reference,magic,,
The Sun Also Rises,Read,fiction,,
Kholstomer,Read,fiction,Tolstoi,
Fight Club,Read,fiction,Bukowski,
The Hobbit,Read,fiction,Tolkien,
Breaking Dawn,Read,fiction,,
Twilight Saga,Read,fiction,,
Dracula,Read,fiction,,
Pride and Prejudice,Read,fiction,Jane Austen,
The Sky is Falling,Read,fiction,Sydney Sheldon,
The Pilgrimage,Read,fiction,Paulo Coelho,
If Tomorrow Comes,Read,fiction,Sydney Sheldon,
Memories of Midnight,Read,fiction,Sydney Sheldon,
A Strange in the Mirror,Read,fiction,Sydney Sheldon,
Carrie,Read,fiction,Stephan King,
 Espera de um Milagre,Read,fiction,Stephan King,
The Shining,Read,fiction,Stephan King,
The Earth is the Lord's,Read,fiction,Caldwell,
The Valley of Horses,Read,fiction,,
The Clan of the Cave Bear,Read,fiction,,
Inferno,Read,fiction,,
Quincas Borba,Read,fiction,Machado de Assis,
Ensaion Sobre a Lucidez,Read,fiction,,
Animal Farm,Read,fiction,Orwell,
The Catcher in the Rye,Read,fiction,Paulo Coelho,
Veronika Decide Morrer,Read,fiction,,
Metamorphosis,Read,fiction,Paulo Coelho,
O Alquimista,Read,fiction,Paulo Coelho,
Estrela da Manh,Read,fiction,Lispector,
Memrias de um Sargento de Milcia,Read,fiction,,
So Bernardo,Read,fiction,Graciliano Ramos,
Vidas Secas,Read,fiction,Graciliano Ramos,
Noite na Taverna,Read,fiction,Alvares de Azevedo,
Morte e Vida Severina,Read,fiction,,
Grande Serto Veredas,Abandoned,fiction,Joo Guimares Rosa,
A Paixo Segundo G.H,Read,fiction,,
Uma Aprendizagem ou O Livro dos Prazeres,Read,fiction,,
A Hora da Estrela,Read,fiction,,
The Death of Ivan Illych,Read,fiction,,
Dead Souls,Read,fiction,Gogol,
O Fazedor de Velhos,Read,fiction,,
Lord of the Flies,Read,fiction,,
O Cortio,Read,fiction,,
Memrias Pstumas de Brs Cubas,Read,fiction,,
Alices Adventures in Wonderland,Read,fiction,,
Moreninha,Read,fiction,,
The Picture of Dorian Gray,Read,fiction,,
Dracula,Read,fiction,,
Iracema,Read,fiction,,
Triste Fim de Policarpo Quaresma,Read,fiction,,
Nine Princess in Amber,Read,fiction,,
Lord of the Rings,Read,fiction,,
The Call of Cthulhu and Other Weird Stories,Read,fiction,,
The Brothers Karamazov,Read,fiction,,
Anna Karenina,Read,fiction,,
Candide,Read,fiction; philosophy,Voltaire,
The Stranger,Read,fiction; philosophy,,
The Age of Reason,Read,fiction; philosophy,Sartre,
Angstia,Read,fiction; psychology,Graciliano Ramos,
White Nights,Read,fiction; psychology,,
Steppenwolf,Read,fiction; psychology,,
Notes from the Underground,Read,fiction; psychology,,
Go for Beginners,Reading,games,,
The Way to Go,Read,games,,
Tormenta,Read,games,,
Tagmar,Read,games,,
Fiasco,Read,games,,
Changeling: The Lost,Read,games,,
Mage: The Awakening,Read,games,,
Dungeon World,Read,games,,
Numenera,Read,games,,
Mage: The Ascension,Read,games,,
World of Darkness,Read,games,,
Vampire the Masquerade,Read,games,,
Pathfinder,Read,games,,
Savage Worlds,Read,games,,
Fate,Read,games,,
Cyberpunk 2020,Read,games,,
GURPS 2,Read,games,,
Dungeon and Dragons 5,Read,games,,
Dungeon and Dragons 3.5,Read,games,,
Dungeon and Dragons 2,Read,games,,
Dungeon and Dragons 3,Read,games,,
On Tennis,Read,games; biography,David Foster Wallace,
Shadowrun,Read,games; sci-fi,,
GURPS Cyberpunk,Read,games; sci-fi,,
Star Wars: Edge of the Empire,Read,games; sci-fi,,
Star Wars Roleplaying Game,Read,games; sci-fi,,
Eclipse Phase,Read,games; sci-fi,,
1808,Read,history,,
Quilombos: Resistncia ao Escravismo,Read,history,,
Casa-Grande Senzala,Read,history,Gilberto Freyre,
Between the World and Me,Read,history,,
The Road to Serfdom,Read,history,von Hayek,
On Tyranny,Read,history,Timothy Snyder,
The Origins of Totalitarianism,Read,history;,Hannah Arendt,
The Secret,Read,magic,,
The Prophet,Read,magic,Khalil,
The Book of Five Rings,Read,magic; philosophy,,
You Are the One Youve Been Waiting For,Read,magic; psychology,,
99 Variations on a Proof,Read,math,,
How to Change Your Mind,Stalled,neuroscience; psychology; drugs,Michael Pollan,
The Cathedral and the Bazaar,Read,open-source,,
The Coproduction of Open Source Software by Volunteers and Big Tech Firms,Read,open-source,,
The Art of Logic,Read,philosophy,Cheng,
80000 Hours,Read,philosophy,,
A Little History of Philosophy,Read,philosophy,,
On the Genealogy of Morality,Read,philosophy,Nietzsche,
The Republic,Read,philosophy,Plato,
The Art of War,Read,philosophy,,
The Myth of Sisyphus,Read,philosophy,Camus,
Symposium,Read,philosophy,Plato,
Fedon,Read,philosophy,Plato,
Thus Spoke Zarathustra,Read,philosophy,,
50 Philosophy Ideas,Read,philosophy,,
What We Owe the Future,Read,philosophy,William MacASkill,
Superintelligence,Read,philosophy,Nick Bostrom,
The Life You Can Save,Read,philosophy,Peter Singer,
Leviathan,Read,philosophy,Thomas Hobbes,
The Daily Stoic,Read,philosophy,,
How to Be Perfect,Read,philosophy; questionable-research,,
Howl,Read,poetry,Ginsberg,
Bagagem,Read,poetry,Adelia Prado,
Antologia Poetica,Read,poetry,Cecilia Meireles,
Toda Poesia,Read,poetry,Paulo Leminski,
Morte e Vida Severina,Read,poetry,,
Eu,Read,poetry,Augusto dos Anjos,
Antologia Potica,Read,poetry,Vinicius de Morais,
Veinte poemas de amor y una cancin desesperada,Read,poetry,,
Poesia de Fernando Pessoa,Read,poetry,,
A Rosa do Povo,Read,poetry,Carlos Drummond de Andrade,
Sim: Existo Dentro do Meu Corpo,Read,poetry,,
O Livro do Desassossego,Read,psychology,,
All About Love,Read,psychology,Bell Hooks,
Chatter: The Voice in Our Head Why It Matters and How to Harness It ,Read,psychology,,
Man and His Symbols,Read,psychology; magic,Jung and others,
The Archetypes and the Collective Unconscious,Read,psychology; magic,Jung,
Atomic Habits,Read,psychology; questionable-research,,
Deep Work,Read,psychology; questionable-research,,
How to Win Friends and Influence People,Read,psychology; questionable-research,,
I Have No Mouth and I Must Scream,Read,sci-fi,,
The Bicentennial Man,Read,sci-fi,Isaac Asimov,
The Dispossessed: An Ambiguous Utopia,Read,sci-fi,,
Hitchhiker's Guide Collection,Read,sci-fi,Douglas Adams,
Dune Messiah,Read,sci-fi,Frank Herbert,
I; Robot,Read,sci-fi,Asimov,
2001: Space Odyssey,Read,sci-fi,,
Foundation,Read,sci-fi,Asimov,
Do Androids Dream of Electric Sheep?,Read,sci-fi,,
The Naked Sun,Read,sci-fi,Asimov,
The Caves of Steel,Read,sci-fi,,
Project Hail Mary,Read,sci-fi,,
1984,Read,sci-fi,Orwell,
Dune,Read,sci-fi,,
Brave New World,Read,sci-fi,,
Red Mars,Read,sci-fi,Kim Stanley,
Practical Programming for Strength Training,Read,sports,,
Starting Strength,Read,sports,,
Complex Adaptive Systems,Read,systems-theory; complex-systems,John H. Miller,
Data Science from Scratch,Read,computer-science,,
Ishmael,Abandoned,anthropology; fiction; questionable-research,,
Sapiens,Abandoned,anthropology; questionable-research,Yuval Noah Harari,
The Creative Act,Abandoned,art,,
A Guide to the Bodhisattva Way,Reading,buddhism,,
Spawn ,Abandoned,comics; fiction,,
In a Flight of Starlings,Abandoned,complex-systems; biography,Giorgio Parisi,
Grokking Deep Learning,Abandoned,computer-science,,
Structure and Interpretation of Computer Programs,Abandoned,computer-science,,
Clean Code: A Handbook of Agile Software Craftsmanship,Abandoned,computer-science,,
Think Bayes,Abandoned,computer-science; math,,
Invisible Women,Abandoned,computer-science; philosophy,,
Superforcasting,Abandoned,psychology,,
The Relevance of the Communist Manifesto,Abandoned,economics,iek,
Enlightenment Now,Abandoned,economics; questionable-research,Steven Pinker,
By the River Piedra I Sat Down and Wept,Abandoned,fiction,,
Sharpe's Prey,Abandoned,fiction,,
Saxon Stories: Sword Song,Abandoned,fiction,,
Harry Potter e o Calice de Fogo,Abandoned,fiction,,
The Adventures of Sherlock Holmes,Abandoned,fiction,,
Game of Thrones,Abandoned,fiction,,
Gone With the Wind,Abandoned,fiction,,
The Chronicles of Narnia,Abandoned,fiction,,
The Name of the Rose,Abandoned,fiction,,
The Trial,Abandoned,fiction,,
The Count of Monte Cristo,Abandoned,fiction,,
Don Quixote,Abandoned,fiction,,
Invisible Man,Abandoned,fiction,,
O Tempo e o Vento,Abandoned,fiction,,
Lucola,Abandoned,fiction,,
The Invisible Man,Abandoned,fiction,Ralph Ellinson,
The Silmarillon,Abandoned,fiction,,
3d&t,Abandoned,games,,
After Tamerlane,Abandoned,history,,
The Feynman Lectures on Physics,Abandoned,math; physics,,
Critique of Pure Reason,Abandoned,philosophy,,
The World as Will and Representation,Abandoned,philosophy,,
On the Freedom of the Will,Abandoned,philosophy,,
The Second Sex,Abandoned,philosophy,,
Beyond Good and Evil,Abandoned,philosophy,,
The Courage to Be Disliked,Abandoned,psychology,,
Walkaway,Abandoned,sci-fi,,
Complex Population Dynamics,Abandoned,systems-theory,Peter Turchin`,V9=()=>Y9.split(`
`).slice(1).map(t=>{const e=[];let n="",r=!1;for(let c=0;c<t.length;c++){const u=t[c];u==='"'?r=!r:u===","&&!r?(e.push(n.trim()),n=""):n+=u}e.push(n.trim());const[i="",s="",o="",a="",l=""]=e;return{Name:i,Status:s,Type:o,Author:a,Notes:l}}).filter(t=>t.Name),q9=t=>{const e={fiction:"bg-pink-200 text-pink-800","sci-fi":"bg-purple-200 text-purple-800",poetry:"bg-rose-200 text-rose-800",comics:"bg-yellow-200 text-yellow-800",biography:"bg-orange-200 text-orange-800",autobiography:"bg-orange-100 text-orange-700",philosophy:"bg-indigo-200 text-indigo-800",math:"bg-blue-200 text-blue-800",physics:"bg-cyan-200 text-cyan-800",biology:"bg-green-200 text-green-800",neuroscience:"bg-teal-200 text-teal-800",psychology:"bg-violet-200 text-violet-800","computer-science":"bg-slate-200 text-slate-800",history:"bg-amber-200 text-amber-800",economics:"bg-emerald-200 text-emerald-800",anthropology:"bg-lime-200 text-lime-800",buddhism:"bg-yellow-100 text-yellow-700",christianity:"bg-blue-100 text-blue-700",islam:"bg-green-100 text-green-700",hinduism:"bg-orange-100 text-orange-700",magic:"bg-purple-100 text-purple-700",art:"bg-fuchsia-200 text-fuchsia-800",games:"bg-red-200 text-red-800",education:"bg-sky-200 text-sky-800",governance:"bg-stone-200 text-stone-800",anarchism:"bg-red-300 text-red-900",climate:"bg-green-300 text-green-900",drugs:"bg-purple-300 text-purple-900"},n=t.toLowerCase().trim();return e[n]||"bg-gray-200 text-gray-800"},K9=t=>{const e={read:"bg-green-200 text-green-800",reading:"bg-blue-200 text-blue-800","want to read":"bg-amber-200 text-amber-800",stalled:"bg-gray-200 text-gray-800",abandoned:"bg-red-200 text-red-800",reference:"bg-purple-200 text-purple-800"},n=t.toLowerCase().trim();return e[n]||"bg-gray-200 text-gray-800"},X9=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[i,s]=A.useState(null),[o,a]=A.useState("asc"),[l,c]=A.useState("idle"),u=A.useMemo(()=>V9(),[]),d=p=>{i===p?a(o==="asc"?"desc":"asc"):(s(p),a("asc"))},h=A.useMemo(()=>{let p=u.filter(g=>Object.values(g).some(v=>v.toLowerCase().includes(t.toLowerCase())));return i&&(p=[...p].sort((g,v)=>{const y=g[i].toLowerCase(),b=v[i].toLowerCase(),_=y.localeCompare(b);return o==="asc"?_:-_})),p},[u,t,i,o]),f=async p=>{if(p.preventDefault(),!!n.trim()){c("loading");try{(await fetch("https://formspree.io/f/xjvndedd",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookName:n})})).ok?(c("success"),r(""),setTimeout(()=>c("idle"),3e3)):(c("error"),setTimeout(()=>c("idle"),3e3))}catch(g){console.error("Error submitting form:",g),c("error"),setTimeout(()=>c("idle"),3e3)}}};return E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"win95-border bg-muted p-3",children:[E.jsxs("form",{onSubmit:f,className:"flex gap-2 items-center flex-wrap",children:[E.jsx("label",{htmlFor:"bookName",className:"text-sm font-bold",children:"Recommend a book:"}),E.jsx("input",{type:"text",id:"bookName",name:"bookName",value:n,onChange:p=>r(p.target.value),className:"win95-border-inset bg-input px-2 py-1 text-sm flex-1 min-w-[200px]",placeholder:"type...",disabled:l==="loading"}),E.jsx("button",{type:"submit",className:"win95-border bg-card hover:bg-muted px-3 py-1 text-sm font-bold active:win95-border-inset disabled:opacity-50 disabled:cursor-not-allowed",disabled:l==="loading",children:l==="loading"?"sending...":"send"})]}),l==="success"&&E.jsx("div",{className:"mt-2 text-sm text-green-700 bg-green-100 border border-green-300 px-2 py-1 rounded",children:"Thank you! Your book recommendation has been sent."}),l==="error"&&E.jsx("div",{className:"mt-2 text-sm text-red-700 bg-red-100 border border-red-300 px-2 py-1 rounded",children:"Oops! Something went wrong. Please try again."})]}),E.jsx("div",{className:"flex justify-end",children:E.jsx("input",{type:"text",value:t,onChange:p=>e(p.target.value),className:"win95-border-inset bg-input px-3 py-1 text-sm w-1/3",placeholder:"search..."})}),E.jsx("div",{className:"win95-border-inset bg-white p-2 max-h-[400px] overflow-y-auto",children:E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-border",children:[E.jsxs("th",{className:"text-left py-2 px-2 font-bold",children:["Name"," ",E.jsx("span",{className:"cursor-pointer",onClick:()=>d("Name"),children:""}),E.jsx("span",{className:"cursor-pointer",onClick:()=>d("Name"),children:""})]}),E.jsxs("th",{className:"text-left py-2 px-2 font-bold",children:["Status"," ",E.jsx("span",{className:"cursor-pointer",onClick:()=>d("Status"),children:""}),E.jsx("span",{className:"cursor-pointer",onClick:()=>d("Status"),children:""})]}),E.jsxs("th",{className:"text-left py-2 px-2 font-bold",children:["Type"," ",E.jsx("span",{className:"cursor-pointer",onClick:()=>d("Type"),children:""}),E.jsx("span",{className:"cursor-pointer",onClick:()=>d("Type"),children:""})]}),E.jsx("th",{className:"text-left py-2 px-2 font-bold",children:"Author"}),E.jsx("th",{className:"text-left py-2 px-2 font-bold",children:"Notes"})]})}),E.jsx("tbody",{children:h.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"text-center py-4 text-muted-foreground",children:"No books found"})}):h.map((p,g)=>E.jsxs("tr",{className:"border-b border-border/50 hover:bg-accent/10",children:[E.jsx("td",{className:"py-2 px-2",children:p.Name}),E.jsx("td",{className:"py-2 px-2",children:E.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium mr-1 mb-1 ${K9(p.Status)}`,children:p.Status})}),E.jsx("td",{className:"py-2 px-2",children:p.Type.split(";").map((v,y)=>E.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium mr-1 mb-1 ${q9(v.trim())}`,children:v.trim()},y))}),E.jsx("td",{className:"py-2 px-2",children:p.Author}),E.jsx("td",{className:"py-2 px-2",children:p.Notes})]},g))})]})})]})},Q9=()=>E.jsxs("div",{className:"win95-border-inset bg-white p-4 space-y-4",children:[E.jsx("div",{className:"text-center space-y-2",children:E.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E.jsx(p0,{className:"w-5 h-5 text-pink-500"}),E.jsx("h2",{className:"text-xl font-bold text-primary",children:"Looking for Opportunities!"}),E.jsx(p0,{className:"w-5 h-5 text-pink-500"})]})}),E.jsxs("div",{className:"win95-border p-3 space-y-3 text-sm bg-gradient-to-br from-pink-50 to-pink-50",children:[E.jsxs("p",{className:"font-semibold text-center text-pink-500",children:["I'm currently seeking ",E.jsx("strong",{children:"in-person opportunities in the Bay Area"}),"!"]}),E.jsx("p",{className:"text-center text-pink-500",children:"If you're excited about my interests and you think I could be a good fit:"})]}),E.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[E.jsxs("a",{href:"https://calendar.app.google/TxR1iiyEriso6AqL9",target:"_blank",rel:"noopener noreferrer",className:"win95-border p-3 flex items-center justify-center gap-2 text-sm font-bold active:win95-border-inset transition-all hover:brightness-110",style:{background:"linear-gradient(90deg, hsl(180, 75%, 75%))"},children:[E.jsx(wP,{className:"w-4 h-4"}),"Schedule a Time"]}),E.jsxs("a",{href:"mailto:marianameireles@protonmail.com",className:"win95-border p-3 flex items-center justify-center gap-2 text-sm font-bold active:win95-border-inset transition-all hover:brightness-110",style:{background:"linear-gradient(90deg,hsl(330, 75%, 75%))"},children:[E.jsx(_C,{className:"w-4 h-4"}),"Send me an Email"]})]})]}),J9=()=>{const t=A.useRef(null);return A.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;const r=()=>{e.width=window.innerWidth,e.height=window.innerHeight};r(),window.addEventListener("resize",r);const i=[[["#FFB6D9","#D4A5FF"],["#D4A5FF","#A5D8FF"],["#A5D8FF","#FFE5A5"],["#FFE5A5","#FFB6D9"],["#FFA5C7","#D4A5FF"]],[["#FF9CEE","#C9A0FF"],["#C9A0FF","#A0E7FF"],["#A0E7FF","#FFD4A3"],["#FFD4A3","#FF94B3"],["#FF94B3","#FF9CEE"]],[["#E5B8F4","#C9E4FF"],["#C9E4FF","#FFE4B5"],["#FFE4B5","#FFB8E6"],["#FFB8E6","#D4B5FF"],["#D4B5FF","#E5B8F4"]],[["#FFC4E1","#E8B5FF"],["#E8B5FF","#B5E8FF"],["#B5E8FF","#FFEAA7"],["#FFEAA7","#FFB8D1"],["#FFB8D1","#FFC4E1"]],[["#FFD1F0","#E0C3FF"],["#E0C3FF","#C3E8FF"],["#C3E8FF","#FFF4C4"],["#FFF4C4","#FFD1E3"],["#FFD1E3","#FFD1F0"]]],s=i[Math.floor(Math.random()*i.length)],o=[],a=40+Math.floor(Math.random()*30);for(let u=0;u<a;u++){const d=s[Math.floor(Math.random()*s.length)],h=.3+Math.random()*1.2;o.push({x:Math.random()*e.width,y:Math.random()*e.height,radius:50+Math.random()*200,color:d[Math.floor(Math.random()*2)],vx:(Math.random()-.5)*h,vy:(Math.random()-.5)*h,opacity:.4+Math.random()*.5,phase:Math.random()*Math.PI*2,speed:h})}let l=0;const c=()=>{n.clearRect(0,0,e.width,e.height),l+=.01,o.forEach(u=>{u.phase+=.02;const d=Math.sin(u.phase)*2,h=Math.cos(u.phase*.7)*2;u.x+=u.vx+d,u.y+=u.vy+h,u.x<-u.radius&&(u.x=e.width+u.radius),u.x>e.width+u.radius&&(u.x=-u.radius),u.y<-u.radius&&(u.y=e.height+u.radius),u.y>e.height+u.radius&&(u.y=-u.radius);const f=u.opacity+Math.sin(l+u.phase)*.1;n.save();const p=n.createRadialGradient(u.x,u.y,0,u.x,u.y,u.radius),g=Math.max(.2,Math.min(.9,f));p.addColorStop(0,u.color+Math.round(g*255).toString(16).padStart(2,"0")),p.addColorStop(.5,u.color+Math.round(g*.6*255).toString(16).padStart(2,"0")),p.addColorStop(1,u.color+"00"),n.fillStyle=p,n.beginPath(),n.arc(u.x,u.y,u.radius*1.5,0,Math.PI*2),n.fill(),n.restore()}),requestAnimationFrame(c)};return c(),()=>{window.removeEventListener("resize",r)}},[]),E.jsx("canvas",{ref:t,className:"fixed top-0 left-0 w-full h-full pointer-events-none",style:{opacity:.8,zIndex:0}})},Z9=()=>{const[t,e]=A.useState(new Set(["about","jobPopup"])),[n,r]=A.useState([{id:"software-1",name:"Software"},{id:"research-1",name:"Research"}]),[i,s]=A.useState(!1),[o,a]=A.useState({about:13,"software-1":11,"research-1":12,jobPopup:20}),[l,c]=A.useState(20),[u,d]=A.useState({}),h=w=>{e(new Set(t).add(w)),v(w)},f=w=>{const C=new Set(t);C.delete(w),e(C);const I={...o};delete I[w],a(I)},p=w=>{const C=n.find(I=>I.name===w);if(C)v(C.id);else{const I=Date.now().toString();r([...n,{id:I,name:w}]),v(I)}},g=w=>{r(n.filter(I=>I.id!==w));const C={...o};delete C[w],a(C)},v=w=>{const C=l+1;c(C),a({...o,[w]:C})},y={paint:{title:"Paint",icon:""},chat:{title:"Chat Room",icon:""},about:{title:"About Mariana Meireles",icon:""},gallery:{title:"My Art Gallery",icon:""},guestbook:{title:"Guestbook",icon:""},readingList:{title:"Reading List",icon:""},jobPopup:{title:"Looking for Opportunities!",icon:""}},b={Software:"",Research:"",Community:"",Activism:""},_=[...Array.from(t).map(w=>({id:w,title:y[w].title,icon:y[w].icon})),...n.map(w=>({id:w.id,title:w.name,icon:b[w.name]||""}))],T=w=>{u[w]&&d({...u,[w]:!1}),v(w)},x=(w,C)=>{d({...u,[w]:C})};return E.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",style:{backgroundColor:"#f0e6ff"},children:[E.jsx("div",{className:"hidden md:block",children:E.jsx(J9,{})}),E.jsxs("div",{className:"hidden md:flex absolute top-4 left-4 flex-col gap-4 z-10",children:[E.jsx(ia,{icon:"",label:"Chat",onClick:()=>h("chat")}),E.jsx(ia,{icon:"",label:"Guestbook",onClick:()=>h("guestbook")}),E.jsx(ia,{icon:"",label:"Software",onClick:()=>p("Software")}),E.jsx(ia,{icon:"",label:"Research",onClick:()=>p("Research")}),E.jsx(ia,{icon:"",label:"Reading List",onClick:()=>h("readingList")}),E.jsx(ia,{icon:"",label:"About",onClick:()=>h("about")})]}),t.has("paint")&&E.jsx(cs,{title:"Paint",onClose:()=>f("paint"),defaultPosition:{x:20,y:50},width:"w-auto",icon:"",zIndex:o.paint||10,onFocus:()=>v("paint"),isMinimized:u.paint,onMinimize:w=>x("paint",w),children:E.jsx(i8,{})}),t.has("chat")&&E.jsx(cs,{title:"Chat Room",onClose:()=>f("chat"),defaultPosition:{x:200,y:50},width:"w-[500px]",icon:"",zIndex:o.chat||10,onFocus:()=>v("chat"),isMinimized:u.chat,onMinimize:w=>x("chat",w),children:E.jsx(H9,{})}),t.has("about")&&E.jsx(cs,{title:"About me",onClose:()=>f("about"),defaultPosition:{x:150,y:100},width:"w-96",icon:"",zIndex:o.about||10,onFocus:()=>v("about"),isMinimized:u.about,onMinimize:w=>x("about",w),children:E.jsx(W9,{})}),t.has("jobPopup")&&E.jsx(cs,{title:"Looking for Opportunities!",onClose:()=>f("jobPopup"),defaultPosition:{x:350,y:80},width:"w-[400px]",icon:"",zIndex:o.jobPopup||20,onFocus:()=>v("jobPopup"),isMinimized:u.jobPopup,onMinimize:w=>x("jobPopup",w),children:E.jsx(Q9,{})}),t.has("gallery")&&E.jsx(cs,{title:"My Art Gallery",onClose:()=>f("gallery"),defaultPosition:{x:250,y:100},width:"w-[450px]",icon:"",zIndex:o.gallery||10,onFocus:()=>v("gallery"),isMinimized:u.gallery,onMinimize:w=>x("gallery",w),children:E.jsx(z9,{})}),t.has("guestbook")&&E.jsx(cs,{title:"Guestbook",onClose:()=>f("guestbook"),defaultPosition:{x:40,y:150},width:"w-[400px]",icon:"",zIndex:o.guestbook||10,onFocus:()=>v("guestbook"),isMinimized:u.guestbook,onMinimize:w=>x("guestbook",w),children:E.jsx($9,{})}),t.has("readingList")&&E.jsx(cs,{title:"Reading List",onClose:()=>f("readingList"),defaultPosition:{x:50,y:100},width:"w-[800px]",icon:"",zIndex:o.readingList||10,onFocus:()=>v("readingList"),isMinimized:u.readingList,onMinimize:w=>x("readingList",w),children:E.jsx(X9,{})}),n.map((w,C)=>{const U={Software:{x:300,y:80},Research:{x:450,y:180},Community:{x:320,y:120},Activism:{x:380,y:140}}[w.name]||{x:300+C*150,y:80+C*100};return E.jsx(cs,{title:w.name,onClose:()=>g(w.id),defaultPosition:U,width:"w-[450px]",icon:b[w.name]||"",zIndex:o[w.id]||10,onFocus:()=>v(w.id),isMinimized:u[w.id],onMinimize:O=>x(w.id,O),children:E.jsx(G9,{blogName:w.name})},w.id)}),E.jsx(p6,{isOpen:i,onClose:()=>s(!1),onOpenBlog:p,onOpenWindow:h}),E.jsx(f6,{onStartClick:()=>s(!i),windows:_,onWindowClick:T})]})};function j1(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&e.push(o),i=r+1,r=n.indexOf(",",i)}return e}function g2(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ej=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nj={};function H1(t,e){return(nj.jsx?tj:ej).test(t)}const rj=/[ \t\n\f\r]/g;function ij(t){return typeof t=="object"?t.type==="text"?W1(t.value):!1:W1(t)}function W1(t){return t.replace(rj,"")===""}let Hu=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Hu.prototype.normal={};Hu.prototype.property={};Hu.prototype.space=void 0;function m2(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Hu(n,r,e)}function _u(t){return t.toLowerCase()}let Mn=class{constructor(e,n){this.attribute=n,this.property=e}};Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;let sj=0;const Te=Qo(),yt=Qo(),X0=Qo(),ne=Qo(),ze=Qo(),Xa=Qo(),Bn=Qo();function Qo(){return 2**++sj}const Q0=Object.freeze(Object.defineProperty({__proto__:null,boolean:Te,booleanish:yt,commaOrSpaceSeparated:Bn,commaSeparated:Xa,number:ne,overloadedBoolean:X0,spaceSeparated:ze},Symbol.toStringTag,{value:"Module"})),Xg=Object.keys(Q0);let ev=class extends Mn{constructor(e,n,r,i){let s=-1;if(super(e,n),z1(this,"space",i),typeof r=="number")for(;++s<Xg.length;){const o=Xg[s];z1(this,Xg[s],(r&Q0[o])===Q0[o])}}};ev.prototype.defined=!0;function z1(t,e,n){n&&(t[e]=n)}function Ul(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new ev(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[_u(r)]=r,n[_u(s.attribute)]=r}return new Hu(e,n,t.space)}const y2=Ul({properties:{ariaActiveDescendant:null,ariaAtomic:yt,ariaAutoComplete:null,ariaBusy:yt,ariaChecked:yt,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:ze,ariaCurrent:null,ariaDescribedBy:ze,ariaDetails:null,ariaDisabled:yt,ariaDropEffect:ze,ariaErrorMessage:null,ariaExpanded:yt,ariaFlowTo:ze,ariaGrabbed:yt,ariaHasPopup:null,ariaHidden:yt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ze,ariaLevel:ne,ariaLive:null,ariaModal:yt,ariaMultiLine:yt,ariaMultiSelectable:yt,ariaOrientation:null,ariaOwns:ze,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:yt,ariaReadOnly:yt,ariaRelevant:null,ariaRequired:yt,ariaRoleDescription:ze,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:yt,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function b2(t,e){return e in t?t[e]:e}function v2(t,e){return b2(t,e.toLowerCase())}const oj=Ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Xa,acceptCharset:ze,accessKey:ze,action:null,allow:null,allowFullScreen:Te,allowPaymentRequest:Te,allowUserMedia:Te,alt:null,as:null,async:Te,autoCapitalize:null,autoComplete:ze,autoFocus:Te,autoPlay:Te,blocking:ze,capture:null,charSet:null,checked:Te,cite:null,className:ze,cols:ne,colSpan:null,content:null,contentEditable:yt,controls:Te,controlsList:ze,coords:ne|Xa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Te,defer:Te,dir:null,dirName:null,disabled:Te,download:X0,draggable:yt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Te,formTarget:null,headers:ze,height:ne,hidden:X0,high:ne,href:null,hrefLang:null,htmlFor:ze,httpEquiv:ze,id:null,imageSizes:null,imageSrcSet:null,inert:Te,inputMode:null,integrity:null,is:null,isMap:Te,itemId:null,itemProp:ze,itemRef:ze,itemScope:Te,itemType:ze,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Te,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:Te,muted:Te,name:null,nonce:null,noModule:Te,noValidate:Te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Te,optimum:ne,pattern:null,ping:ze,placeholder:null,playsInline:Te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Te,referrerPolicy:null,rel:ze,required:Te,reversed:Te,rows:ne,rowSpan:ne,sandbox:ze,scope:null,scoped:Te,seamless:Te,selected:Te,shadowRootClonable:Te,shadowRootDelegatesFocus:Te,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:yt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:Te,useMap:null,value:yt,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ze,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Te,declare:Te,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:Te,noHref:Te,noShade:Te,noWrap:Te,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:yt,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Te,disableRemotePlayback:Te,prefix:null,property:null,results:ne,security:null,unselectable:null},space:"html",transform:v2}),aj=Ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Bn,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:ze,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:Te,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Xa,g2:Xa,glyphName:Xa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:Bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ze,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bn,rev:Bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bn,requiredFeatures:Bn,requiredFonts:Bn,requiredFormats:Bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:Bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bn,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:b2}),_2=Ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),E2=Ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:v2}),w2=Ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),lj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cj=/[A-Z]/g,$1=/-[a-z]/g,uj=/^data[-\w.:]+$/i;function tv(t,e){const n=_u(e);let r=e,i=Mn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&uj.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace($1,hj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!$1.test(s)){let o=s.replace(cj,dj);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=ev}return new i(r,e)}function dj(t){return"-"+t.toLowerCase()}function hj(t){return t.charAt(1).toUpperCase()}const Rp=m2([y2,oj,_2,E2,w2],"html"),jl=m2([y2,aj,_2,E2,w2],"svg");function G1(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function T2(t){return t.join(" ").trim()}var nv={},Y1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,fj=/\n/g,pj=/^\s*/,gj=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,mj=/^:\s*/,yj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,bj=/^[;\s]*/,vj=/^\s+|\s+$/g,_j=`
`,V1="/",q1="*",mo="",Ej="comment",wj="declaration",Tj=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(p){var g=p.match(fj);g&&(n+=g.length);var v=p.lastIndexOf(_j);r=~v?p.length-v:r+p.length}function s(){var p={line:n,column:r};return function(g){return g.position=new o(p),c(),g}}function o(p){this.start=p,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(p){var g=new Error(e.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(p){var g=p.exec(t);if(g){var v=g[0];return i(v),t=t.slice(v.length),g}}function c(){l(pj)}function u(p){var g;for(p=p||[];g=d();)g!==!1&&p.push(g);return p}function d(){var p=s();if(!(V1!=t.charAt(0)||q1!=t.charAt(1))){for(var g=2;mo!=t.charAt(g)&&(q1!=t.charAt(g)||V1!=t.charAt(g+1));)++g;if(g+=2,mo===t.charAt(g-1))return a("End of comment missing");var v=t.slice(2,g-2);return r+=2,i(v),t=t.slice(g),r+=2,p({type:Ej,comment:v})}}function h(){var p=s(),g=l(gj);if(g){if(d(),!l(mj))return a("property missing ':'");var v=l(yj),y=p({type:wj,property:K1(g[0].replace(Y1,mo)),value:v?K1(v[0].replace(Y1,mo)):mo});return l(bj),y}}function f(){var p=[];u(p);for(var g;g=h();)g!==!1&&(p.push(g),u(p));return p}return c(),f()};function K1(t){return t?t.replace(vj,mo):mo}var xj=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nv,"__esModule",{value:!0});nv.default=Cj;const Sj=xj(Tj);function Cj(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,Sj.default)(t),i=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;i?e(o,a,s):a&&(n=n||{},n[o]=a)}),n}var Np={};Object.defineProperty(Np,"__esModule",{value:!0});Np.camelCase=void 0;var kj=/^--[a-zA-Z0-9_-]+$/,Aj=/-([a-z])/g,Oj=/^[^-]+$/,Rj=/^-(webkit|moz|ms|o|khtml)-/,Nj=/^-(ms)-/,Ij=function(t){return!t||Oj.test(t)||kj.test(t)},Dj=function(t,e){return e.toUpperCase()},X1=function(t,e){return"".concat(e,"-")},Pj=function(t,e){return e===void 0&&(e={}),Ij(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Nj,X1):t=t.replace(Rj,X1),t.replace(Aj,Dj))};Np.camelCase=Pj;var Mj=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Lj=Mj(nv),Fj=Np;function J0(t,e){var n={};return!t||typeof t!="string"||(0,Lj.default)(t,function(r,i){r&&i&&(n[(0,Fj.camelCase)(r,e)]=i)}),n}J0.default=J0;var Bj=J0;const Uj=El(Bj),Ip=x2("end"),vi=x2("start");function x2(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function jj(t){const e=vi(t),n=Ip(t);if(e&&n)return{start:e,end:n}}function Mc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Q1(t.position):"start"in t||"end"in t?Q1(t):"line"in t||"column"in t?Z0(t):""}function Z0(t){return J1(t&&t.line)+":"+J1(t&&t.column)}function Q1(t){return Z0(t&&t.start)+"-"+Z0(t&&t.end)}function J1(t){return t&&typeof t=="number"?t:1}class Zt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=Mc(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Zt.prototype.file="";Zt.prototype.name="";Zt.prototype.reason="";Zt.prototype.message="";Zt.prototype.stack="";Zt.prototype.column=void 0;Zt.prototype.line=void 0;Zt.prototype.ancestors=void 0;Zt.prototype.cause=void 0;Zt.prototype.fatal=void 0;Zt.prototype.place=void 0;Zt.prototype.ruleId=void 0;Zt.prototype.source=void 0;const rv={}.hasOwnProperty,Hj=new Map,Wj=/[A-Z]/g,zj=new Set(["table","tbody","thead","tfoot","tr"]),$j=new Set(["td","th"]),S2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Gj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Zj(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Jj(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?jl:Rp,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=C2(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function C2(t,e,n){if(e.type==="element")return Yj(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Vj(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Kj(t,e,n);if(e.type==="mdxjsEsm")return qj(t,e);if(e.type==="root")return Xj(t,e,n);if(e.type==="text")return Qj(t,e)}function Yj(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=jl,t.schema=i),t.ancestors.push(e);const s=A2(t,e.tagName,!1),o=eH(t,e);let a=sv(t,e);return zj.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!ij(l):!0})),k2(t,o,s,e),iv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Vj(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Eu(t,e.position)}function qj(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Eu(t,e.position)}function Kj(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=jl,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:A2(t,e.name,!0),o=tH(t,e),a=sv(t,e);return k2(t,o,s,e),iv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function Xj(t,e,n){const r={};return iv(r,sv(t,e)),t.create(e,t.Fragment,r,n)}function Qj(t,e){return e.value}function k2(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function iv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Jj(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function Zj(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=vi(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function eH(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&rv.call(e.properties,i)){const s=nH(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&$j.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function tH(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Eu(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Eu(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function sv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Hj;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=C2(t,s,o);a!==void 0&&n.push(a)}return n}function nH(t,e,n){const r=tv(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?g2(n):T2(n)),r.property==="style"){let i=typeof n=="object"?n:rH(t,String(n));return t.stylePropertyNameCase==="css"&&(i=iH(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?lj[r.property]||r.property:r.attribute,n]}}function rH(t,e){try{return Uj(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Zt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=S2+"#cannot-parse-style-attribute",i}}function A2(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=H1(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=H1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return rv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Eu(t)}function Eu(t,e){const n=new Zt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=S2+"#cannot-handle-mdx-estrees-without-createevaluater",n}function iH(t){const e={};let n;for(n in t)rv.call(t,n)&&(e[sH(n)]=t[n]);return e}function sH(t){let e=t.replace(Wj,oH);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function oH(t){return"-"+t.toLowerCase()}const Qg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},aH={};function ov(t,e){const n=aH,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return O2(t,r,i)}function O2(t,e,n){if(lH(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Z1(t.children,e,n)}return Array.isArray(t)?Z1(t,e,n):""}function Z1(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=O2(t[i],e,n);return r.join("")}function lH(t){return!!(t&&typeof t=="object")}const ew=document.createElement("i");function av(t){const e="&"+t+";";ew.innerHTML=e;const n=ew.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Vn(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function sr(t,e){return t.length>0?(Vn(t,t.length,0,e),t):e}const tw={}.hasOwnProperty;function R2(t){const e={};let n=-1;for(;++n<t.length;)cH(e,t[n]);return e}function cH(t,e){let n;for(n in e){const i=(tw.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){tw.call(i,o)||(i[o]=[]);const a=s[o];uH(i[o],Array.isArray(a)?a:a?[a]:[])}}}function uH(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Vn(t,0,0,r)}function N2(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Hr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dn=to(/[A-Za-z]/),Kt=to(/[\dA-Za-z]/),dH=to(/[#-'*+\--9=?A-Z^-~]/);function Cf(t){return t!==null&&(t<32||t===127)}const ey=to(/\d/),hH=to(/[\dA-Fa-f]/),fH=to(/[!-/:-@[-`{-~]/);function fe(t){return t!==null&&t<-2}function He(t){return t!==null&&(t<0||t===32)}function Ce(t){return t===-2||t===-1||t===32}const Dp=to(new RegExp("\\p{P}|\\p{S}","u")),$o=to(/\s/);function to(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Hl(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Kt(t.charCodeAt(n+1))&&Kt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Re(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Ce(l)?(t.enter(n),a(l)):e(l)}function a(l){return Ce(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const pH={tokenize:gH};function gH(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Re(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return fe(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const mH={tokenize:yH},nw={tokenize:bH};function yH(t){const e=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const T=n[r];return e.containerState=T[1],t.attempt(T[0].continuation,l,c)(_)}return c(_)}function l(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const T=e.events.length;let x=T,w;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){w=e.events[x][1].end;break}y(r);let C=T;for(;C<e.events.length;)e.events[C][1].end={...w},C++;return Vn(e.events,x+1,0,e.events.slice(T)),e.events.length=C,c(_)}return a(_)}function c(_){if(r===n.length){if(!i)return h(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(nw,u,d)(_)}function u(_){return i&&b(),y(r),h(_)}function d(_){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,p(_)}function h(_){return e.containerState={},t.attempt(nw,f,p)(_)}function f(_){return r++,n.push([e.currentConstruct,e.containerState]),h(_)}function p(_){if(_===null){i&&b(),y(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(_)}function g(_){if(_===null){v(t.exit("chunkFlow"),!0),y(0),t.consume(_);return}return fe(_)?(t.consume(_),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(_),g)}function v(_,T){const x=e.sliceStream(_);if(T&&x.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(x),e.parser.lazy[_.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const C=e.events.length;let I=C,U,O;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(U){O=e.events[I][1].end;break}U=!0}for(y(r),w=C;w<e.events.length;)e.events[w][1].end={...O},w++;Vn(e.events,I+1,0,e.events.slice(C)),e.events.length=w}}function y(_){let T=n.length;for(;T-- >_;){const x=n[T];e.containerState=x[1],x[0].exit.call(e,t)}n.length=_}function b(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function bH(t,e,n){return Re(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yl(t){if(t===null||He(t)||$o(t))return 1;if(Dp(t))return 2}function Pp(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const ty={name:"attention",resolveAll:vH,tokenize:_H};function vH(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};rw(d,-l),rw(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=sr(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=sr(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=sr(c,Pp(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=sr(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=sr(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Vn(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function _H(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yl(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=yl(l),d=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!h)),c._close=!!(s===42?h:h&&(u||!d)),e(l)}}function rw(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const EH={name:"autolink",tokenize:wH};function wH(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(f){return dn(f)?(t.consume(f),o):f===64?n(f):c(f)}function o(f){return f===43||f===45||f===46||Kt(f)?(r=1,a(f)):c(f)}function a(f){return f===58?(t.consume(f),r=0,l):(f===43||f===45||f===46||Kt(f))&&r++<32?(t.consume(f),a):(r=0,c(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||Cf(f)?n(f):(t.consume(f),l)}function c(f){return f===64?(t.consume(f),u):dH(f)?(t.consume(f),c):n(f)}function u(f){return Kt(f)?d(f):n(f)}function d(f){return f===46?(t.consume(f),r=0,u):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):h(f)}function h(f){if((f===45||Kt(f))&&r++<63){const p=f===45?h:d;return t.consume(f),p}return n(f)}}const Wu={partial:!0,tokenize:TH};function TH(t,e,n){return r;function r(s){return Ce(s)?Re(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||fe(s)?e(s):n(s)}}const I2={continuation:{tokenize:SH},exit:CH,name:"blockQuote",tokenize:xH};function xH(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ce(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function SH(t,e,n){const r=this;return i;function i(o){return Ce(o)?Re(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(I2,e,n)(o)}}function CH(t){t.exit("blockQuote")}const D2={name:"characterEscape",tokenize:kH};function kH(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return fH(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const P2={name:"characterReference",tokenize:AH};function AH(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Kt,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=hH,u):(t.enter("characterReferenceValue"),s=7,o=ey,u(d))}function u(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return o===Kt&&!av(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),u):n(d)}}const iw={partial:!0,tokenize:RH},sw={concrete:!0,name:"codeFenced",tokenize:OH};function OH(t,e,n){const r=this,i={partial:!0,tokenize:x};let s=0,o=0,a;return l;function l(w){return c(w)}function c(w){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=w,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(w)}function u(w){return w===a?(o++,t.consume(w),u):o<3?n(w):(t.exit("codeFencedFenceSequence"),Ce(w)?Re(t,d,"whitespace")(w):d(w))}function d(w){return w===null||fe(w)?(t.exit("codeFencedFence"),r.interrupt?e(w):t.check(iw,g,T)(w)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||fe(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(w)):Ce(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Re(t,f,"whitespace")(w)):w===96&&w===a?n(w):(t.consume(w),h)}function f(w){return w===null||fe(w)?d(w):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===null||fe(w)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(w)):w===96&&w===a?n(w):(t.consume(w),p)}function g(w){return t.attempt(i,T,v)(w)}function v(w){return t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),y}function y(w){return s>0&&Ce(w)?Re(t,b,"linePrefix",s+1)(w):b(w)}function b(w){return w===null||fe(w)?t.check(iw,g,T)(w):(t.enter("codeFlowValue"),_(w))}function _(w){return w===null||fe(w)?(t.exit("codeFlowValue"),b(w)):(t.consume(w),_)}function T(w){return t.exit("codeFenced"),e(w)}function x(w,C,I){let U=0;return O;function O(q){return w.enter("lineEnding"),w.consume(q),w.exit("lineEnding"),G}function G(q){return w.enter("codeFencedFence"),Ce(q)?Re(w,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):j(q)}function j(q){return q===a?(w.enter("codeFencedFenceSequence"),X(q)):I(q)}function X(q){return q===a?(U++,w.consume(q),X):U>=o?(w.exit("codeFencedFenceSequence"),Ce(q)?Re(w,$,"whitespace")(q):$(q)):I(q)}function $(q){return q===null||fe(q)?(w.exit("codeFencedFence"),C(q)):I(q)}}}function RH(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Jg={name:"codeIndented",tokenize:IH},NH={partial:!0,tokenize:DH};function IH(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Re(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):fe(c)?t.attempt(NH,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||fe(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function DH(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):fe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Re(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):fe(o)?i(o):n(o)}}const PH={name:"codeText",previous:LH,resolve:MH,tokenize:FH};function MH(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function LH(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function FH(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):fe(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||fe(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class BH{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&oc(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),oc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),oc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);oc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);oc(this.left,n.reverse())}}}function oc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function M2(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new BH(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,UH(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Vn(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function UH(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,d,h=-1,f=n,p=0,g=0;const v=[g];for(;f;){for(;t.get(++i)[1]!==f;);s.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(g=h+1,v.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):v.pop(),h=v.length;h--;){const y=a.slice(v[h],v[h+1]),b=s.pop();l.push([b,b+y.length-1]),t.splice(b,2,y)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const jH={resolve:WH,tokenize:zH},HH={partial:!0,tokenize:$H};function WH(t){return M2(t),t}function zH(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):fe(a)?t.check(HH,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function $H(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Re(t,s,"linePrefix")}function s(o){if(o===null||fe(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function L2(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),h):y===null||y===32||y===41||Cf(y)?n(y):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===62?(t.exit("chunkString"),t.exit(a),h(y)):y===null||y===60||fe(y)?n(y):(t.consume(y),y===92?p:f)}function p(y){return y===60||y===62||y===92?(t.consume(y),f):f(y)}function g(y){return!u&&(y===null||y===41||He(y))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(y)):u<c&&y===40?(t.consume(y),u++,g):y===41?(t.consume(y),u--,g):y===null||y===32||y===40||Cf(y)?n(y):(t.consume(y),y===92?v:g)}function v(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function F2(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(s),u}function u(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(t.exit(s),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):fe(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||fe(f)||a++>999?(t.exit("chunkString"),u(f)):(t.consume(f),l||(l=!Ce(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(t.consume(f),a++,d):d(f)}}function B2(t,e,n,r,i,s){let o;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(s),c(h))}function c(h){return h===o?(t.exit(s),l(o)):h===null?n(h):fe(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Re(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||fe(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?d:u)}function d(h){return h===o||h===92?(t.consume(h),u):u(h)}}function Lc(t,e){let n;return r;function r(i){return fe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ce(i)?Re(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const GH={name:"definition",tokenize:VH},YH={partial:!0,tokenize:qH};function VH(t,e,n){const r=this;let i;return s;function s(f){return t.enter("definition"),o(f)}function o(f){return F2.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=Hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):n(f)}function l(f){return He(f)?Lc(t,c)(f):c(f)}function c(f){return L2(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return t.attempt(YH,d,d)(f)}function d(f){return Ce(f)?Re(t,h,"whitespace")(f):h(f)}function h(f){return f===null||fe(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function qH(t,e,n){return r;function r(a){return He(a)?Lc(t,i)(a):n(a)}function i(a){return B2(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Ce(a)?Re(t,o,"whitespace")(a):o(a)}function o(a){return a===null||fe(a)?e(a):n(a)}}const KH={name:"hardBreakEscape",tokenize:XH};function XH(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return fe(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const QH={name:"headingAtx",resolve:JH,tokenize:ZH};function JH(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Vn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function ZH(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||He(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||fe(u)?(t.exit("atxHeading"),e(u)):Ce(u)?Re(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||He(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const eW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ow=["pre","script","style","textarea"],tW={concrete:!0,name:"htmlFlow",resolveTo:iW,tokenize:sW},nW={partial:!0,tokenize:aW},rW={partial:!0,tokenize:oW};function iW(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function sW(t,e,n){const r=this;let i,s,o,a,l;return c;function c(N){return u(N)}function u(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),d}function d(N){return N===33?(t.consume(N),h):N===47?(t.consume(N),s=!0,g):N===63?(t.consume(N),i=3,r.interrupt?e:S):dn(N)?(t.consume(N),o=String.fromCharCode(N),v):n(N)}function h(N){return N===45?(t.consume(N),i=2,f):N===91?(t.consume(N),i=5,a=0,p):dn(N)?(t.consume(N),i=4,r.interrupt?e:S):n(N)}function f(N){return N===45?(t.consume(N),r.interrupt?e:S):n(N)}function p(N){const ae="CDATA[";return N===ae.charCodeAt(a++)?(t.consume(N),a===ae.length?r.interrupt?e:j:p):n(N)}function g(N){return dn(N)?(t.consume(N),o=String.fromCharCode(N),v):n(N)}function v(N){if(N===null||N===47||N===62||He(N)){const ae=N===47,me=o.toLowerCase();return!ae&&!s&&ow.includes(me)?(i=1,r.interrupt?e(N):j(N)):eW.includes(o.toLowerCase())?(i=6,ae?(t.consume(N),y):r.interrupt?e(N):j(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?b(N):_(N))}return N===45||Kt(N)?(t.consume(N),o+=String.fromCharCode(N),v):n(N)}function y(N){return N===62?(t.consume(N),r.interrupt?e:j):n(N)}function b(N){return Ce(N)?(t.consume(N),b):O(N)}function _(N){return N===47?(t.consume(N),O):N===58||N===95||dn(N)?(t.consume(N),T):Ce(N)?(t.consume(N),_):O(N)}function T(N){return N===45||N===46||N===58||N===95||Kt(N)?(t.consume(N),T):x(N)}function x(N){return N===61?(t.consume(N),w):Ce(N)?(t.consume(N),x):_(N)}function w(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),l=N,C):Ce(N)?(t.consume(N),w):I(N)}function C(N){return N===l?(t.consume(N),l=null,U):N===null||fe(N)?n(N):(t.consume(N),C)}function I(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||He(N)?x(N):(t.consume(N),I)}function U(N){return N===47||N===62||Ce(N)?_(N):n(N)}function O(N){return N===62?(t.consume(N),G):n(N)}function G(N){return N===null||fe(N)?j(N):Ce(N)?(t.consume(N),G):n(N)}function j(N){return N===45&&i===2?(t.consume(N),M):N===60&&i===1?(t.consume(N),W):N===62&&i===4?(t.consume(N),ie):N===63&&i===3?(t.consume(N),S):N===93&&i===5?(t.consume(N),H):fe(N)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(nW,ee,X)(N)):N===null||fe(N)?(t.exit("htmlFlowData"),X(N)):(t.consume(N),j)}function X(N){return t.check(rW,$,ee)(N)}function $(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),q}function q(N){return N===null||fe(N)?X(N):(t.enter("htmlFlowData"),j(N))}function M(N){return N===45?(t.consume(N),S):j(N)}function W(N){return N===47?(t.consume(N),o="",D):j(N)}function D(N){if(N===62){const ae=o.toLowerCase();return ow.includes(ae)?(t.consume(N),ie):j(N)}return dn(N)&&o.length<8?(t.consume(N),o+=String.fromCharCode(N),D):j(N)}function H(N){return N===93?(t.consume(N),S):j(N)}function S(N){return N===62?(t.consume(N),ie):N===45&&i===2?(t.consume(N),S):j(N)}function ie(N){return N===null||fe(N)?(t.exit("htmlFlowData"),ee(N)):(t.consume(N),ie)}function ee(N){return t.exit("htmlFlow"),e(N)}}function oW(t,e,n){const r=this;return i;function i(o){return fe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function aW(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Wu,e,n)}}const lW={name:"htmlText",tokenize:cW};function cW(t,e,n){const r=this;let i,s,o;return a;function a(S){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(S),l}function l(S){return S===33?(t.consume(S),c):S===47?(t.consume(S),x):S===63?(t.consume(S),_):dn(S)?(t.consume(S),I):n(S)}function c(S){return S===45?(t.consume(S),u):S===91?(t.consume(S),s=0,p):dn(S)?(t.consume(S),b):n(S)}function u(S){return S===45?(t.consume(S),f):n(S)}function d(S){return S===null?n(S):S===45?(t.consume(S),h):fe(S)?(o=d,W(S)):(t.consume(S),d)}function h(S){return S===45?(t.consume(S),f):d(S)}function f(S){return S===62?M(S):S===45?h(S):d(S)}function p(S){const ie="CDATA[";return S===ie.charCodeAt(s++)?(t.consume(S),s===ie.length?g:p):n(S)}function g(S){return S===null?n(S):S===93?(t.consume(S),v):fe(S)?(o=g,W(S)):(t.consume(S),g)}function v(S){return S===93?(t.consume(S),y):g(S)}function y(S){return S===62?M(S):S===93?(t.consume(S),y):g(S)}function b(S){return S===null||S===62?M(S):fe(S)?(o=b,W(S)):(t.consume(S),b)}function _(S){return S===null?n(S):S===63?(t.consume(S),T):fe(S)?(o=_,W(S)):(t.consume(S),_)}function T(S){return S===62?M(S):_(S)}function x(S){return dn(S)?(t.consume(S),w):n(S)}function w(S){return S===45||Kt(S)?(t.consume(S),w):C(S)}function C(S){return fe(S)?(o=C,W(S)):Ce(S)?(t.consume(S),C):M(S)}function I(S){return S===45||Kt(S)?(t.consume(S),I):S===47||S===62||He(S)?U(S):n(S)}function U(S){return S===47?(t.consume(S),M):S===58||S===95||dn(S)?(t.consume(S),O):fe(S)?(o=U,W(S)):Ce(S)?(t.consume(S),U):M(S)}function O(S){return S===45||S===46||S===58||S===95||Kt(S)?(t.consume(S),O):G(S)}function G(S){return S===61?(t.consume(S),j):fe(S)?(o=G,W(S)):Ce(S)?(t.consume(S),G):U(S)}function j(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),i=S,X):fe(S)?(o=j,W(S)):Ce(S)?(t.consume(S),j):(t.consume(S),$)}function X(S){return S===i?(t.consume(S),i=void 0,q):S===null?n(S):fe(S)?(o=X,W(S)):(t.consume(S),X)}function $(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||He(S)?U(S):(t.consume(S),$)}function q(S){return S===47||S===62||He(S)?U(S):n(S)}function M(S){return S===62?(t.consume(S),t.exit("htmlTextData"),t.exit("htmlText"),e):n(S)}function W(S){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),D}function D(S){return Ce(S)?Re(t,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):H(S)}function H(S){return t.enter("htmlTextData"),o(S)}}const lv={name:"labelEnd",resolveAll:fW,resolveTo:pW,tokenize:gW},uW={tokenize:mW},dW={tokenize:yW},hW={tokenize:bW};function fW(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Vn(t,0,t.length,n),t}function pW(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=sr(a,t.slice(s+1,s+r+3)),a=sr(a,[["enter",u,e]]),a=sr(a,Pp(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=sr(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=sr(a,t.slice(o+1)),a=sr(a,[["exit",l,e]]),Vn(t,s,t.length,a),t}function gW(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?d(h):(o=r.parser.defined.includes(Hr(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(uW,u,o?u:d)(h):h===91?t.attempt(dW,u,o?c:d)(h):o?u(h):d(h)}function c(h){return t.attempt(hW,u,d)(h)}function u(h){return e(h)}function d(h){return s._balanced=!0,n(h)}}function mW(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return He(d)?Lc(t,s)(d):s(d)}function s(d){return d===41?u(d):L2(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return He(d)?Lc(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?B2(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return He(d)?Lc(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function yW(t,e,n){const r=this;return i;function i(a){return F2.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function bW(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const vW={name:"labelStartImage",resolveAll:lv.resolveAll,tokenize:_W};function _W(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const EW={name:"labelStartLink",resolveAll:lv.resolveAll,tokenize:wW};function wW(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const Zg={name:"lineEnding",tokenize:TW};function TW(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Re(t,e,"linePrefix")}}const Oh={name:"thematicBreak",tokenize:xW};function xW(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||fe(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Ce(c)?Re(t,a,"whitespace")(c):a(c))}}const En={continuation:{tokenize:AW},exit:RW,name:"list",tokenize:kW},SW={partial:!0,tokenize:NW},CW={partial:!0,tokenize:OW};function kW(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:ey(f)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(Oh,n,c)(f):c(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return n(f)}function l(f){return ey(f)&&++o<10?(t.consume(f),l):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),c(f)):n(f)}function c(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(Wu,r.interrupt?n:u,t.attempt(SW,h,d))}function u(f){return r.containerState.initialBlankLine=!0,s++,h(f)}function d(f){return Ce(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function AW(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Wu,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Re(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ce(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(CW,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Re(t,t.attempt(En,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function OW(t,e,n){const r=this;return Re(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function RW(t){t.exit(this.containerState.type)}function NW(t,e,n){const r=this;return Re(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ce(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const aw={name:"setextUnderline",resolveTo:IW,tokenize:DW};function IW(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function DW(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Ce(c)?Re(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||fe(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const PW={tokenize:MW};function MW(t){const e=this,n=t.attempt(Wu,r,t.attempt(this.parser.constructs.flowInitial,i,Re(t,t.attempt(this.parser.constructs.flow,i,t.attempt(jH,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const LW={resolveAll:j2()},FW=U2("string"),BW=U2("text");function U2(t){return{resolveAll:j2(t==="text"?UW:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function j2(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function UW(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const jW={42:En,43:En,45:En,48:En,49:En,50:En,51:En,52:En,53:En,54:En,55:En,56:En,57:En,62:I2},HW={91:GH},WW={[-2]:Jg,[-1]:Jg,32:Jg},zW={35:QH,42:Oh,45:[aw,Oh],60:tW,61:aw,95:Oh,96:sw,126:sw},$W={38:P2,92:D2},GW={[-5]:Zg,[-4]:Zg,[-3]:Zg,33:vW,38:P2,42:ty,60:[EH,lW],91:EW,92:[KH,D2],93:lv,95:ty,96:PH},YW={null:[ty,LW]},VW={null:[42,95]},qW={null:[]},KW=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:VW,contentInitial:HW,disable:qW,document:jW,flow:zW,flowInitial:WW,insideSpan:YW,string:$W,text:GW},Symbol.toStringTag,{value:"Module"}));function XW(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:C(x),check:C(w),consume:b,enter:_,exit:T,interrupt:C(w,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:t,previous:null,sliceSerialize:h,sliceStream:f,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(G){return o=sr(o,G),v(),o[o.length-1]!==null?[]:(I(e,0),c.events=Pp(s,c.events,c),c.events)}function h(G,j){return JW(f(G),j)}function f(G){return QW(o,G)}function p(){const{_bufferIndex:G,_index:j,line:X,column:$,offset:q}=r;return{_bufferIndex:G,_index:j,line:X,column:$,offset:q}}function g(G){i[G.line]=G.column,O()}function v(){let G;for(;r._index<o.length;){const j=o[r._index];if(typeof j=="string")for(G=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===G&&r._bufferIndex<j.length;)y(j.charCodeAt(r._bufferIndex));else y(j)}}function y(G){u=u(G)}function b(G){fe(G)?(r.line++,r.column=1,r.offset+=G===-3?2:1,O()):G!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=G}function _(G,j){const X=j||{};return X.type=G,X.start=p(),c.events.push(["enter",X,c]),a.push(X),X}function T(G){const j=a.pop();return j.end=p(),c.events.push(["exit",j,c]),j}function x(G,j){I(G,j.from)}function w(G,j){j.restore()}function C(G,j){return X;function X($,q,M){let W,D,H,S;return Array.isArray($)?ee($):"tokenize"in $?ee([$]):ie($);function ie(pe){return ye;function ye(et){const tt=et!==null&&pe[et],je=et!==null&&pe.null,Lt=[...Array.isArray(tt)?tt:tt?[tt]:[],...Array.isArray(je)?je:je?[je]:[]];return ee(Lt)(et)}}function ee(pe){return W=pe,D=0,pe.length===0?M:N(pe[D])}function N(pe){return ye;function ye(et){return S=U(),H=pe,pe.partial||(c.currentConstruct=pe),pe.name&&c.parser.constructs.disable.null.includes(pe.name)?me():pe.tokenize.call(j?Object.assign(Object.create(c),j):c,l,ae,me)(et)}}function ae(pe){return G(H,S),q}function me(pe){return S.restore(),++D<W.length?N(W[D]):M}}}function I(G,j){G.resolveAll&&!s.includes(G)&&s.push(G),G.resolve&&Vn(c.events,j,c.events.length-j,G.resolve(c.events.slice(j),c)),G.resolveTo&&(c.events=G.resolveTo(c.events,c))}function U(){const G=p(),j=c.previous,X=c.currentConstruct,$=c.events.length,q=Array.from(a);return{from:$,restore:M};function M(){r=G,c.previous=j,c.currentConstruct=X,c.events.length=$,a=q,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function QW(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function JW(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function ZW(t){const r={constructs:R2([KW,...(t||{}).extensions||[]]),content:i(pH),defined:[],document:i(mH),flow:i(PW),lazy:{},string:i(FW),text:i(BW)};return r;function i(s){return o;function o(a){return XW(r,s,a)}}}function ez(t){for(;!M2(t););return t}const lw=/[\0\t\n\r]/g;function tz(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,h,f;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(lw.lastIndex=d,c=lw.exec(s),h=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(h),!c){e=s.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(s.slice(d,h)),t+=h-d),f){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const nz=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rz(t){return t.replace(nz,iz)}function iz(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return N2(n.slice(s?2:1),s?16:10)}return av(n)||t}const H2={}.hasOwnProperty;function sz(t,e,n){return typeof e!="string"&&(n=e,e=void 0),oz(n)(ez(ZW(n).document().write(tz()(t,e,!0))))}function oz(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(mn),autolinkProtocol:U,autolinkEmail:U,atxHeading:s(Tt),blockQuote:s(je),characterEscape:U,characterReference:U,codeFenced:s(Lt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Lt,o),codeText:s(Qn,o),codeTextData:U,data:U,codeFlowValue:U,definition:s(Ft),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(gr),hardBreakEscape:s(Ae),hardBreakTrailing:s(Ae),htmlFlow:s(tn,o),htmlFlowData:U,htmlText:s(tn,o),htmlTextData:U,image:s(de),label:o,link:s(mn),listItem:s(Oe),listItemValue:h,listOrdered:s(nt,d),listUnordered:s(nt),paragraph:s(Ei),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Tt),strong:s(Bt),thematicBreak:s(ro)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:tt,autolinkProtocol:et,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:pe,characterReference:ye,codeFenced:l(v),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:O,codeIndented:l(y),codeText:l(q),codeTextData:O,data:O,definition:l(),definitionDestinationString:T,definitionLabelString:b,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(j),hardBreakTrailing:l(j),htmlFlow:l(X),htmlFlowData:O,htmlText:l($),htmlTextData:O,image:l(W),label:H,labelText:D,lineEnding:G,link:l(M),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ae,resourceDestinationString:S,resourceTitleString:ie,resource:ee,setextHeading:l(I),setextHeadingLineSequence:C,setextHeadingText:w,strong:l(),thematicBreak:l()}};W2(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(F){let V={type:"root",children:[]};const se={stack:[V],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},le=[];let ge=-1;for(;++ge<F.length;)if(F[ge][1].type==="listOrdered"||F[ge][1].type==="listUnordered")if(F[ge][0]==="enter")le.push(ge);else{const rt=le.pop();ge=i(F,rt,ge)}for(ge=-1;++ge<F.length;){const rt=e[F[ge][0]];H2.call(rt,F[ge][1].type)&&rt[F[ge][1].type].call(Object.assign({sliceSerialize:F[ge][2].sliceSerialize},se),F[ge][1])}if(se.tokenStack.length>0){const rt=se.tokenStack[se.tokenStack.length-1];(rt[1]||cw).call(se,void 0,rt[0])}for(V.position={start:fs(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:fs(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},ge=-1;++ge<e.transforms.length;)V=e.transforms[ge](V)||V;return V}function i(F,V,se){let le=V-1,ge=-1,rt=!1,Jn,nn,Zn,Zi;for(;++le<=se;){const gt=F[le];switch(gt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{gt[0]==="enter"?ge++:ge--,Zi=void 0;break}case"lineEndingBlank":{gt[0]==="enter"&&(Jn&&!Zi&&!ge&&!Zn&&(Zn=le),Zi=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zi=void 0}if(!ge&&gt[0]==="enter"&&gt[1].type==="listItemPrefix"||ge===-1&&gt[0]==="exit"&&(gt[1].type==="listUnordered"||gt[1].type==="listOrdered")){if(Jn){let es=le;for(nn=void 0;es--;){const mr=F[es];if(mr[1].type==="lineEnding"||mr[1].type==="lineEndingBlank"){if(mr[0]==="exit")continue;nn&&(F[nn][1].type="lineEndingBlank",rt=!0),mr[1].type="lineEnding",nn=es}else if(!(mr[1].type==="linePrefix"||mr[1].type==="blockQuotePrefix"||mr[1].type==="blockQuotePrefixWhitespace"||mr[1].type==="blockQuoteMarker"||mr[1].type==="listItemIndent"))break}Zn&&(!nn||Zn<nn)&&(Jn._spread=!0),Jn.end=Object.assign({},nn?F[nn][1].start:gt[1].end),F.splice(nn||le,0,["exit",Jn,gt[2]]),le++,se++}if(gt[1].type==="listItemPrefix"){const es={type:"listItem",_spread:!1,start:Object.assign({},gt[1].start),end:void 0};Jn=es,F.splice(le,0,["enter",es,gt[2]]),le++,se++,Zn=void 0,Zi=!0}}}return F[V][1]._spread=rt,se}function s(F,V){return se;function se(le){a.call(this,F(le),le),V&&V.call(this,le)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(F,V,se){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([V,se||void 0]),F.position={start:fs(V.start),end:void 0}}function l(F){return V;function V(se){F&&F.call(this,se),c.call(this,se)}}function c(F,V){const se=this.stack.pop(),le=this.tokenStack.pop();if(le)le[0].type!==F.type&&(V?V.call(this,F,le[0]):(le[1]||cw).call(this,F,le[0]));else throw new Error("Cannot close `"+F.type+"` ("+Mc({start:F.start,end:F.end})+"): its not open");se.position.end=fs(F.end)}function u(){return ov(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(F){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function f(){const F=this.resume(),V=this.stack[this.stack.length-1];V.lang=F}function p(){const F=this.resume(),V=this.stack[this.stack.length-1];V.meta=F}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const F=this.resume(),V=this.stack[this.stack.length-1];V.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const F=this.resume(),V=this.stack[this.stack.length-1];V.value=F.replace(/(\r?\n|\r)$/g,"")}function b(F){const V=this.resume(),se=this.stack[this.stack.length-1];se.label=V,se.identifier=Hr(this.sliceSerialize(F)).toLowerCase()}function _(){const F=this.resume(),V=this.stack[this.stack.length-1];V.title=F}function T(){const F=this.resume(),V=this.stack[this.stack.length-1];V.url=F}function x(F){const V=this.stack[this.stack.length-1];if(!V.depth){const se=this.sliceSerialize(F).length;V.depth=se}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function C(F){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function U(F){const se=this.stack[this.stack.length-1].children;let le=se[se.length-1];(!le||le.type!=="text")&&(le=no(),le.position={start:fs(F.start),end:void 0},se.push(le)),this.stack.push(le)}function O(F){const V=this.stack.pop();V.value+=this.sliceSerialize(F),V.position.end=fs(F.end)}function G(F){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=V.children[V.children.length-1];se.position.end=fs(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(V.type)&&(U.call(this,F),O.call(this,F))}function j(){this.data.atHardBreak=!0}function X(){const F=this.resume(),V=this.stack[this.stack.length-1];V.value=F}function $(){const F=this.resume(),V=this.stack[this.stack.length-1];V.value=F}function q(){const F=this.resume(),V=this.stack[this.stack.length-1];V.value=F}function M(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=V,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function W(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=V,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function D(F){const V=this.sliceSerialize(F),se=this.stack[this.stack.length-2];se.label=rz(V),se.identifier=Hr(V).toLowerCase()}function H(){const F=this.stack[this.stack.length-1],V=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const le=F.children;se.children=le}else se.alt=V}function S(){const F=this.resume(),V=this.stack[this.stack.length-1];V.url=F}function ie(){const F=this.resume(),V=this.stack[this.stack.length-1];V.title=F}function ee(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function ae(F){const V=this.resume(),se=this.stack[this.stack.length-1];se.label=V,se.identifier=Hr(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function me(F){this.data.characterReferenceType=F.type}function pe(F){const V=this.sliceSerialize(F),se=this.data.characterReferenceType;let le;se?(le=N2(V,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):le=av(V);const ge=this.stack[this.stack.length-1];ge.value+=le}function ye(F){const V=this.stack.pop();V.position.end=fs(F.end)}function et(F){O.call(this,F);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize(F)}function tt(F){O.call(this,F);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize(F)}function je(){return{type:"blockquote",children:[]}}function Lt(){return{type:"code",lang:null,meta:null,value:""}}function Qn(){return{type:"inlineCode",value:""}}function Ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gr(){return{type:"emphasis",children:[]}}function Tt(){return{type:"heading",depth:0,children:[]}}function Ae(){return{type:"break"}}function tn(){return{type:"html",value:""}}function de(){return{type:"image",title:null,url:"",alt:null}}function mn(){return{type:"link",title:null,url:"",children:[]}}function nt(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function Oe(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function Ei(){return{type:"paragraph",children:[]}}function Bt(){return{type:"strong",children:[]}}function no(){return{type:"text",value:""}}function ro(){return{type:"thematicBreak"}}}function fs(t){return{line:t.line,column:t.column,offset:t.offset}}function W2(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?W2(t,r):az(t,r)}}function az(t,e){let n;for(n in e)if(H2.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function cw(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Mc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Mc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Mc({start:e.start,end:e.end})+") is still open")}function lz(t){const e=this;e.parser=n;function n(r){return sz(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function cz(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function uz(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function dz(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function hz(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function fz(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function pz(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Hl(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function gz(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mz(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function z2(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function yz(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return z2(t,e);const i={src:Hl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function bz(t,e){const n={src:Hl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function vz(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function _z(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return z2(t,e);const i={href:Hl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Ez(t,e){const n={href:Hl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function wz(t,e,n){const r=t.all(e),i=n?Tz(n):$2(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function Tz(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=$2(n[r])}return e}function $2(t){const e=t.spread;return e??t.children.length>1}function xz(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function Sz(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Cz(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function kz(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Az(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=vi(e.children[1]),l=Ip(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Oz(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],h={},f=o?o[l]:void 0;f&&(h.align=f);let p={type:"element",tagName:s,properties:h,children:[]};d&&(p.children=t.all(d),t.patch(d,p),p=t.applyData(d,p)),c.push(p)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function Rz(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const uw=9,dw=32;function Nz(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(hw(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(hw(e.slice(i),i>0,!1)),s.join("")}function hw(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===uw||s===dw;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===uw||s===dw;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Iz(t,e){const n={type:"text",value:Nz(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Dz(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Pz={blockquote:cz,break:uz,code:dz,delete:hz,emphasis:fz,footnoteReference:pz,heading:gz,html:mz,imageReference:yz,image:bz,inlineCode:vz,linkReference:_z,link:Ez,listItem:wz,list:xz,paragraph:Sz,root:Cz,strong:kz,table:Az,tableCell:Rz,tableRow:Oz,text:Iz,thematicBreak:Dz,toml:Qd,yaml:Qd,definition:Qd,footnoteDefinition:Qd};function Qd(){}const G2=-1,Mp=0,Fc=1,kf=2,cv=3,uv=4,dv=5,hv=6,Y2=7,V2=8,fw=typeof self=="object"?self:globalThis,Mz=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Mp:case G2:return n(o,i);case Fc:{const a=n([],i);for(const l of o)a.push(r(l));return a}case kf:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case cv:return n(new Date(o),i);case uv:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case dv:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case hv:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case Y2:{const{name:a,message:l}=o;return n(new fw[a](l),i)}case V2:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new fw[s](o),i)};return r},pw=t=>Mz(new Map,t)(0),fa="",{toString:Lz}={},{keys:Fz}=Object,ac=t=>{const e=typeof t;if(e!=="object"||!t)return[Mp,e];const n=Lz.call(t).slice(8,-1);switch(n){case"Array":return[Fc,fa];case"Object":return[kf,fa];case"Date":return[cv,fa];case"RegExp":return[uv,fa];case"Map":return[dv,fa];case"Set":return[hv,fa];case"DataView":return[Fc,n]}return n.includes("Array")?[Fc,n]:n.includes("Error")?[Y2,n]:[kf,n]},Jd=([t,e])=>t===Mp&&(e==="function"||e==="symbol"),Bz=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=ac(o);switch(a){case Mp:{let u=o;switch(l){case"bigint":a=V2,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([G2],o)}return i([a,u],o)}case Fc:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],d=i([a,u],o);for(const h of o)u.push(s(h));return d}case kf:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const h of Fz(o))(t||!Jd(ac(o[h])))&&u.push([s(h),s(o[h])]);return d}case cv:return i([a,o.toISOString()],o);case uv:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case dv:{const u=[],d=i([a,u],o);for(const[h,f]of o)(t||!(Jd(ac(h))||Jd(ac(f))))&&u.push([s(h),s(f)]);return d}case hv:{const u=[],d=i([a,u],o);for(const h of o)(t||!Jd(ac(h)))&&u.push(s(h));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},gw=(t,{json:e,lossy:n}={})=>{const r=[];return Bz(!(e||n),!!e,new Map,r)(t),r},bl=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?pw(gw(t,e)):structuredClone(t):(t,e)=>pw(gw(t,e));function Uz(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function jz(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Hz(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Uz,r=t.options.footnoteBackLabel||jz,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),h=Hl(d.toLowerCase());let f=0;const p=[],g=t.footnoteCounts.get(d);for(;g!==void 0&&++f<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,f);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=u[u.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...p)}else u.push(...p);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(u,!0)};t.patch(c,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...bl(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const zu=function(t){if(t==null)return Gz;if(typeof t=="function")return Lp(t);if(typeof t=="object")return Array.isArray(t)?Wz(t):zz(t);if(typeof t=="string")return $z(t);throw new Error("Expected function, string, or object as test")};function Wz(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=zu(t[n]);return Lp(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function zz(t){const e=t;return Lp(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function $z(t){return Lp(e);function e(n){return n&&n.type===t}}function Lp(t){return e;function e(n,r,i){return!!(Yz(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Gz(){return!0}function Yz(t){return t!==null&&typeof t=="object"&&"type"in t}const q2=[],Vz=!0,ny=!1,qz="skip";function K2(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=zu(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=q2,p,g,v;if((!e||s(l,c,u[u.length-1]||void 0))&&(f=Kz(n(l,u)),f[0]===ny))return f;if("children"in l&&l.children){const y=l;if(y.children&&f[0]!==qz)for(g=(r?y.children.length:-1)+o,v=u.concat(y);g>-1&&g<y.children.length;){const b=y.children[g];if(p=a(b,g,v)(),p[0]===ny)return p;g=typeof p[1]=="number"?p[1]:g+o}}return f}}}function Kz(t){return Array.isArray(t)?t:typeof t=="number"?[Vz,t]:t==null?q2:[t]}function $u(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),K2(t,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const ry={}.hasOwnProperty,Xz={};function Qz(t,e){const n=e||Xz,r=new Map,i=new Map,s=new Map,o={...Pz,...n.handlers},a={all:c,applyData:Zz,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Jz,wrap:t7};return $u(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),a;function l(u,d){const h=u.type,f=a.handlers[h];if(ry.call(a.handlers,h)&&f)return f(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in u){const{children:g,...v}=u,y=bl(v);return y.children=a.all(u),y}return bl(u)}return(a.options.unknownHandler||e7)(a,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let f=-1;for(;++f<h.length;){const p=a.one(h[f],u);if(p){if(f&&h[f-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=mw(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=mw(g.value))}Array.isArray(p)?d.push(...p):d.push(p)}}}return d}}function Jz(t,e){t.position&&(e.position=jj(t))}function Zz(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,bl(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function e7(t,e){const n=e.data||{},r="value"in e&&!(ry.call(n,"hProperties")||ry.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function t7(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function mw(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function yw(t,e){const n=Qz(t,e),r=n.one(t,void 0),i=Hz(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function n7(t,e){return t&&"run"in t?async function(n,r){const i=yw(n,{file:r,...e});await t.run(i,r)}:function(n,r){return yw(n,{file:r,...t||e})}}function bw(t){if(t)throw t}var Rh=Object.prototype.hasOwnProperty,X2=Object.prototype.toString,vw=Object.defineProperty,_w=Object.getOwnPropertyDescriptor,Ew=function(e){return typeof Array.isArray=="function"?Array.isArray(e):X2.call(e)==="[object Array]"},ww=function(e){if(!e||X2.call(e)!=="[object Object]")return!1;var n=Rh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Rh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Rh.call(e,i)},Tw=function(e,n){vw&&n.name==="__proto__"?vw(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},xw=function(e,n){if(n==="__proto__")if(Rh.call(e,n)){if(_w)return _w(e,n).value}else return;return e[n]},r7=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=xw(a,n),i=xw(e,n),a!==i&&(u&&i&&(ww(i)||(s=Ew(i)))?(s?(s=!1,o=r&&Ew(r)?r:[]):o=r&&ww(r)?r:{},Tw(a,{name:n,newValue:t(u,o,i)})):typeof i<"u"&&Tw(a,{name:n,newValue:i}));return a};const em=El(r7);function iy(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function i7(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?s7(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function s7(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const Jr={basename:o7,dirname:a7,extname:l7,join:c7,sep:"/"};function o7(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Gu(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function a7(t){if(Gu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function l7(t){Gu(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function c7(...t){let e=-1,n;for(;++e<t.length;)Gu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":u7(n)}function u7(t){Gu(t);const e=t.codePointAt(0)===47;let n=d7(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function d7(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Gu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const h7={cwd:f7};function f7(){return"/"}function sy(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function p7(t){if(typeof t=="string")t=new URL(t);else if(!sy(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return g7(t)}function g7(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const tm=["history","path","basename","stem","extname","dirname"];class Q2{constructor(e){let n;e?sy(e)?n={path:e}:typeof e=="string"||m7(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":h7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<tm.length;){const s=tm[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)tm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Jr.basename(this.path):void 0}set basename(e){rm(e,"basename"),nm(e,"basename"),this.path=Jr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Jr.dirname(this.path):void 0}set dirname(e){Sw(this.basename,"dirname"),this.path=Jr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Jr.extname(this.path):void 0}set extname(e){if(nm(e,"extname"),Sw(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Jr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){sy(e)&&(e=p7(e)),rm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Jr.basename(this.path,this.extname):void 0}set stem(e){rm(e,"stem"),nm(e,"stem"),this.path=Jr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Zt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function nm(t,e){if(t&&t.includes(Jr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Jr.sep+"`")}function rm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Sw(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function m7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const y7=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},b7={}.hasOwnProperty;class fv extends y7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=i7()}copy(){const e=new fv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(em(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(om("data",this.frozen),this.namespace[e]=n,this):b7.call(this.namespace,e)&&this.namespace[e]||void 0:e?(om("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Zd(e),r=this.parser||this.Parser;return im("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),im("process",this.parser||this.Parser),sm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Zd(e),l=r.parse(a);r.run(l,a,function(u,d,h){if(u||!d||!h)return c(u);const f=d,p=r.stringify(f,h);E7(p)?h.value=p:h.result=p,c(u,h)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),im("processSync",this.parser||this.Parser),sm("processSync",this.compiler||this.Compiler),this.process(e,i),kw("processSync","process",n),r;function i(s,o){n=!0,bw(s),r=o}}run(e,n,r){Cw(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Zd(n);i.run(e,l,c);function c(u,d,h){const f=d||e;u?a(u):o?o(f):r(void 0,f,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),kw("runSync","run",r),i;function s(o,a){bw(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Zd(n),i=this.compiler||this.Compiler;return sm("stringify",i),Cw(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(om("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=em(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[f,...p]=u;const g=r[h][1];iy(g)&&iy(f)&&(f=em(!0,g,f)),r[h]=[c,f,...p]}}}}const v7=new fv().freeze();function im(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function sm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function om(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Cw(t){if(!iy(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function kw(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Zd(t){return _7(t)?t:new Q2(t)}function _7(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function E7(t){return typeof t=="string"||w7(t)}function w7(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const T7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Aw=[],Ow={allowDangerousHtml:!0},x7=/^(https?|ircs?|mailto|xmpp)$/i,S7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function C7(t){const e=k7(t),n=A7(t);return O7(e.runSync(e.parse(n),n),t)}function k7(t){const e=t.rehypePlugins||Aw,n=t.remarkPlugins||Aw,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ow}:Ow;return v7().use(lz).use(n).use(n7,r).use(e)}function A7(t){const e=t.children||"",n=new Q2;return typeof e=="string"&&(n.value=e),n}function O7(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||R7;for(const u of S7)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+T7+u.id,void 0);return $u(t,c),Gj(t,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function c(u,d,h){if(u.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let f;for(f in Qg)if(Object.hasOwn(Qg,f)&&Object.hasOwn(u.properties,f)){const p=u.properties[f],g=Qg[f];(g===null||g.includes(u.tagName))&&(u.properties[f]=l(String(p||""),f,u))}}if(u.type==="element"){let f=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!f&&r&&typeof d=="number"&&(f=!r(u,d,h)),f&&h&&typeof d=="number")return a&&u.children?h.children.splice(d,1,...u.children):h.children.splice(d,1),d}}}function R7(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||x7.test(t.slice(0,e))?t:""}function Rw(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function N7(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function I7(t,e,n){const i=zu((n||{}).ignore||[]),s=D7(e);let o=-1;for(;++o<s.length;)K2(t,"text",a);function a(c,u){let d=-1,h;for(;++d<u.length;){const f=u[d],p=h?h.children:void 0;if(i(f,p?p.indexOf(f):void 0,h))return;h=f}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=s[o][0],f=s[o][1];let p=0;const v=d.children.indexOf(c);let y=!1,b=[];h.lastIndex=0;let _=h.exec(c.value);for(;_;){const T=_.index,x={index:_.index,input:_.input,stack:[...u,c]};let w=f(..._,x);if(typeof w=="string"&&(w=w.length>0?{type:"text",value:w}:void 0),w===!1?h.lastIndex=T+1:(p!==T&&b.push({type:"text",value:c.value.slice(p,T)}),Array.isArray(w)?b.push(...w):w&&b.push(w),p=T+_[0].length,y=!0),!h.global)break;_=h.exec(c.value)}return y?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),d.children.splice(v,1,...b)):b=[c],v+b.length}}function D7(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([P7(i[0]),M7(i[1])])}return e}function P7(t){return typeof t=="string"?new RegExp(N7(t),"g"):t}function M7(t){return typeof t=="function"?t:function(){return t}}const am="phrasing",lm=["autolink","link","image","label"];function L7(){return{transforms:[z7],enter:{literalAutolink:B7,literalAutolinkEmail:cm,literalAutolinkHttp:cm,literalAutolinkWww:cm},exit:{literalAutolink:W7,literalAutolinkEmail:H7,literalAutolinkHttp:U7,literalAutolinkWww:j7}}}function F7(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:am,notInConstruct:lm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:am,notInConstruct:lm},{character:":",before:"[ps]",after:"\\/",inConstruct:am,notInConstruct:lm}]}}function B7(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function cm(t){this.config.enter.autolinkProtocol.call(this,t)}function U7(t){this.config.exit.autolinkProtocol.call(this,t)}function j7(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function H7(t){this.config.exit.autolinkEmail.call(this,t)}function W7(t){this.exit(t)}function z7(t){I7(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,$7],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),G7]],{ignore:["link","linkReference"]})}function $7(t,e,n,r,i){let s="";if(!J2(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Y7(n)))return!1;const o=V7(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function G7(t,e,n,r){return!J2(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Y7(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function V7(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=Rw(t,"(");let s=Rw(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function J2(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||$o(n)||Dp(n))&&(!e||n!==47)}Z2.peek=n$;function q7(){this.buffer()}function K7(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function X7(){this.buffer()}function Q7(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function J7(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Hr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Z7(t){this.exit(t)}function e$(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Hr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function t$(t){this.exit(t)}function n$(){return"["}function Z2(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function r$(){return{enter:{gfmFootnoteCallString:q7,gfmFootnoteCall:K7,gfmFootnoteDefinitionLabelString:X7,gfmFootnoteDefinition:Q7},exit:{gfmFootnoteCallString:J7,gfmFootnoteCall:Z7,gfmFootnoteDefinitionLabelString:e$,gfmFootnoteDefinition:t$}}}function i$(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:Z2},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),u=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),u(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?eO:s$))),c(),l}}function s$(t,e,n){return e===0?t:eO(t,e,n)}function eO(t,e,n){return(n?"":"    ")+t}const o$=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];tO.peek=d$;function a$(){return{canContainEols:["delete"],enter:{strikethrough:c$},exit:{strikethrough:u$}}}function l$(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:o$}],handlers:{delete:tO}}}function c$(t){this.enter({type:"delete",children:[]},t)}function u$(t){this.exit(t)}function tO(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function d$(){return"~"}function h$(t){return t.length}function f$(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||h$,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<t.length;){const g=[],v=[];let y=-1;for(t[u].length>c&&(c=t[u].length);++y<t[u].length;){const b=p$(t[u][y]);if(n.alignDelimiters!==!1){const _=i(b);v[y]=_,(l[y]===void 0||_>l[y])&&(l[y]=_)}g.push(b)}o[u]=g,a[u]=v}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=Nw(r[d]);else{const g=Nw(r);for(;++d<c;)s[d]=g}d=-1;const h=[],f=[];for(;++d<c;){const g=s[d];let v="",y="";g===99?(v=":",y=":"):g===108?v=":":g===114&&(y=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[d]-v.length-y.length);const _=v+"-".repeat(b)+y;n.alignDelimiters!==!1&&(b=v.length+b+y.length,b>l[d]&&(l[d]=b),f[d]=b),h[d]=_}o.splice(1,0,h),a.splice(1,0,f),u=-1;const p=[];for(;++u<o.length;){const g=o[u],v=a[u];d=-1;const y=[];for(;++d<c;){const b=g[d]||"";let _="",T="";if(n.alignDelimiters!==!1){const x=l[d]-(v[d]||0),w=s[d];w===114?_=" ".repeat(x):w===99?x%2?(_=" ".repeat(x/2+.5),T=" ".repeat(x/2-.5)):(_=" ".repeat(x/2),T=_):T=" ".repeat(x)}n.delimiterStart!==!1&&!d&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||d)&&y.push(" "),n.alignDelimiters!==!1&&y.push(_),y.push(b),n.alignDelimiters!==!1&&y.push(T),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&y.push("|")}p.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join(`
`)}function p$(t){return t==null?"":String(t)}function Nw(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const Iw={}.hasOwnProperty;function nO(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&Iw.call(i,t)){const l=String(i[t]);o=Iw.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function g$(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),m$);return i(),o}function m$(t,e,n){return">"+(n?"":" ")+t}function y$(t,e){return Dw(t,e.inConstruct,!0)&&!Dw(t,e.notInConstruct,!1)}function Dw(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function Pw(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&y$(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function b$(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function v$(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function _$(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function E$(t,e,n,r){const i=_$(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(v$(t,n)){const d=n.enter("codeIndented"),h=n.indentLines(s,w$);return d(),h}const a=n.createTracker(r),l=i.repeat(Math.max(b$(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function w$(t,e,n){return(n?"":"    ")+t}function pv(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function T$(t,e,n,r){const i=pv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function x$(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function wu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Af(t,e,n){const r=yl(t),i=yl(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}rO.peek=S$;function rO(t,e,n,r){const i=x$(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=Af(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=wu(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Af(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+wu(d));const f=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function S$(t,e,n){return n.options.emphasis||"*"}function C$(t,e){let n=!1;return $u(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ny}),!!((!t.depth||t.depth<3)&&ov(t)&&(e.options.setext||n))}function k$(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(C$(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=wu(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}iO.peek=A$;function iO(t){return t.value||""}function A$(){return"<"}sO.peek=O$;function sO(t,e,n,r){const i=pv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function O$(){return"!"}oO.peek=R$;function oO(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function R$(){return"!"}aO.peek=N$;function aO(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function N$(){return"`"}function lO(t,e){const n=ov(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}cO.peek=I$;function cO(t,e,n,r){const i=pv(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(lO(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function I$(t,e,n){return lO(t,n)?"<":"["}uO.peek=D$;function uO(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function D$(){return"["}function gv(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function P$(t){const e=gv(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function M$(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function dO(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function L$(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?M$(n):gv(n);const a=t.ordered?o==="."?")":".":P$(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),dO(n)===o&&u){let d=-1;for(;++d<t.children.length;){const h=t.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function F$(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function B$(t,e,n,r){const i=F$(n);let s=n.bulletCurrent||gv(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,h,f){return h?(f?"":" ".repeat(o))+d:(f?s:s+" ".repeat(o-s.length))+d}}function U$(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const j$=zu(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function H$(t,e,n,r){return(t.children.some(function(o){return j$(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function W$(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}hO.peek=z$;function hO(t,e,n,r){const i=W$(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=Af(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=wu(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Af(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+wu(d));const f=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function z$(t,e,n){return n.options.strong||"*"}function $$(t,e,n,r){return n.safe(t.value,r)}function G$(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Y$(t,e,n){const r=(dO(n)+(n.options.ruleSpaces?" ":"")).repeat(G$(n));return n.options.ruleSpaces?r.slice(0,-1):r}const fO={blockquote:g$,break:Pw,code:E$,definition:T$,emphasis:rO,hardBreak:Pw,heading:k$,html:iO,image:sO,imageReference:oO,inlineCode:aO,link:cO,linkReference:uO,list:L$,listItem:B$,paragraph:U$,root:H$,strong:hO,text:$$,thematicBreak:Y$};function V$(){return{enter:{table:q$,tableData:Mw,tableHeader:Mw,tableRow:X$},exit:{codeText:Q$,table:K$,tableData:um,tableHeader:um,tableRow:um}}}function q$(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function K$(t){this.exit(t),this.data.inTable=void 0}function X$(t){this.enter({type:"tableRow",children:[]},t)}function um(t){this.exit(t)}function Mw(t){this.enter({type:"tableCell",children:[]},t)}function Q$(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,J$));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function J$(t,e){return e==="|"?e:t}function Z$(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:a}};function o(f,p,g,v){return c(u(f,g,v),f.align)}function a(f,p,g,v){const y=d(f,g,v),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(f,p,g,v){const y=g.enter("tableCell"),b=g.enter("phrasing"),_=g.containerPhrasing(f,{...v,before:s,after:s});return b(),y(),_}function c(f,p){return f$(f,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function u(f,p,g){const v=f.children;let y=-1;const b=[],_=p.enter("table");for(;++y<v.length;)b[y]=d(v[y],p,g);return _(),b}function d(f,p,g){const v=f.children;let y=-1;const b=[],_=p.enter("tableRow");for(;++y<v.length;)b[y]=l(v[y],f,p,g);return _(),b}function h(f,p,g){let v=fO.inlineCode(f,p,g);return g.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function eG(){return{exit:{taskListCheckValueChecked:Lw,taskListCheckValueUnchecked:Lw,paragraph:nG}}}function tG(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:rG}}}function Lw(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function nG(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function rG(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=fO.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function iG(){return[L7(),r$(),a$(),V$(),eG()]}function sG(t){return{extensions:[F7(),i$(t),l$(),Z$(t),tG()]}}const oG={tokenize:hG,partial:!0},pO={tokenize:fG,partial:!0},gO={tokenize:pG,partial:!0},mO={tokenize:gG,partial:!0},aG={tokenize:mG,partial:!0},yO={name:"wwwAutolink",tokenize:uG,previous:vO},bO={name:"protocolAutolink",tokenize:dG,previous:_O},Ji={name:"emailAutolink",tokenize:cG,previous:EO},_i={};function lG(){return{text:_i}}let ao=48;for(;ao<123;)_i[ao]=Ji,ao++,ao===58?ao=65:ao===91&&(ao=97);_i[43]=Ji;_i[45]=Ji;_i[46]=Ji;_i[95]=Ji;_i[72]=[Ji,bO];_i[104]=[Ji,bO];_i[87]=[Ji,yO];_i[119]=[Ji,yO];function cG(t,e,n){const r=this;let i,s;return o;function o(d){return!oy(d)||!EO.call(r,r.previous)||mv(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return oy(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(aG,u,c)(d):d===45||d===95||Kt(d)?(s=!0,t.consume(d),l):u(d)}function c(d){return t.consume(d),i=!0,l}function u(d){return s&&i&&dn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function uG(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!vO.call(r,r.previous)||mv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(oG,t.attempt(pO,t.attempt(gO,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function dG(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&_O.call(r,r.previous)&&!mv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(dn(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||Cf(d)||He(d)||$o(d)||Dp(d)?n(d):t.attempt(pO,t.attempt(gO,u),n)(d)}function u(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function hG(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function fG(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(mO,l,a)(c):c===null||He(c)||$o(c)||c!==45&&Dp(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function pG(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(mO,e,s)(o):o===null||He(o)||$o(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function gG(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||He(a)||$o(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||He(a)||$o(a)?e(a):r(a)}function s(a){return dn(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):dn(a)?(t.consume(a),o):n(a)}}function mG(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Kt(s)?n(s):e(s)}}function vO(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||He(t)}function _O(t){return!dn(t)}function EO(t){return!(t===47||oy(t))}function oy(t){return t===43||t===45||t===46||t===95||Kt(t)}function mv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const yG={tokenize:SG,partial:!0};function bG(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:wG,continuation:{tokenize:TG},exit:xG}},text:{91:{name:"gfmFootnoteCall",tokenize:EG},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:vG,resolveTo:_G}}}}function vG(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=Hr(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function _G(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function EG(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||He(d))return n(d);if(d===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return i.includes(Hr(r.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return He(d)||(o=!0),s++,t.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(t.consume(d),s++,c):c(d)}}function wG(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(p){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(p)}function u(p){if(o>999||p===93&&!a||p===null||p===91||He(p))return n(p);if(p===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return s=Hr(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(p),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return He(p)||(a=!0),o++,t.consume(p),p===92?d:u}function d(p){return p===91||p===92||p===93?(t.consume(p),o++,u):u(p)}function h(p){return p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),i.includes(s)||i.push(s),Re(t,f,"gfmFootnoteDefinitionWhitespace")):n(p)}function f(p){return e(p)}}function TG(t,e,n){return t.check(Wu,e,t.attempt(yG,e,n))}function xG(t){t.exit("gfmFootnoteDefinition")}function SG(t,e,n){const r=this;return Re(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function CG(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],f=a.parser.constructs.insideSpan.null;f&&Vn(h,h.length,0,Pp(f,o.slice(c+1,l),a)),Vn(h,h.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),Vn(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return h;function h(p){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(p):(o.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const g=yl(c);if(p===126)return d>1?l(p):(o.consume(p),d++,f);if(d<2&&!n)return l(p);const v=o.exit("strikethroughSequenceTemporary"),y=yl(p);return v._open=!y||y===2&&!!g,v._close=!g||g===2&&!!y,a(p)}}}class kG{constructor(){this.map=[]}add(e,n,r){AG(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function AG(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function OG(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function RG(){return{flow:{null:{name:"table",tokenize:NG,resolveAll:IG}}}}function NG(t,e,n){const r=this;let i=0,s=0,o;return a;function a(O){let G=r.events.length-1;for(;G>-1;){const $=r.events[G][1].type;if($==="lineEnding"||$==="linePrefix")G--;else break}const j=G>-1?r.events[G][1].type:null,X=j==="tableHead"||j==="tableRow"?w:l;return X===w&&r.parser.lazy[r.now().line]?n(O):X(O)}function l(O){return t.enter("tableHead"),t.enter("tableRow"),c(O)}function c(O){return O===124||(o=!0,s+=1),u(O)}function u(O){return O===null?n(O):fe(O)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),f):n(O):Ce(O)?Re(t,u,"whitespace")(O):(s+=1,o&&(o=!1,i+=1),O===124?(t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),o=!0,u):(t.enter("data"),d(O)))}function d(O){return O===null||O===124||He(O)?(t.exit("data"),u(O)):(t.consume(O),O===92?h:d)}function h(O){return O===92||O===124?(t.consume(O),d):d(O)}function f(O){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(O):(t.enter("tableDelimiterRow"),o=!1,Ce(O)?Re(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):p(O))}function p(O){return O===45||O===58?v(O):O===124?(o=!0,t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),g):x(O)}function g(O){return Ce(O)?Re(t,v,"whitespace")(O):v(O)}function v(O){return O===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(O),t.exit("tableDelimiterMarker"),y):O===45?(s+=1,y(O)):O===null||fe(O)?T(O):x(O)}function y(O){return O===45?(t.enter("tableDelimiterFiller"),b(O)):x(O)}function b(O){return O===45?(t.consume(O),b):O===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(O),t.exit("tableDelimiterMarker"),_):(t.exit("tableDelimiterFiller"),_(O))}function _(O){return Ce(O)?Re(t,T,"whitespace")(O):T(O)}function T(O){return O===124?p(O):O===null||fe(O)?!o||i!==s?x(O):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(O)):x(O)}function x(O){return n(O)}function w(O){return t.enter("tableRow"),C(O)}function C(O){return O===124?(t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),C):O===null||fe(O)?(t.exit("tableRow"),e(O)):Ce(O)?Re(t,C,"whitespace")(O):(t.enter("data"),I(O))}function I(O){return O===null||O===124||He(O)?(t.exit("data"),C(O)):(t.consume(O),O===92?U:I)}function U(O){return O===92||O===124?(t.consume(O),I):I(O)}}function IG(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const h=new kG;for(;++n<t.length;){const f=t[n],p=f[1];f[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(Fw(h,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,e]])),i=p.type==="tableDelimiterRow"?2:u?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=eh(h,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=eh(h,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):p.type==="tableHead"?(a=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=eh(h,e,s,i,n,d)):o[1]!==0&&(d=eh(h,e,o,i,n,d)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Fw(h,e,l,c,u),h.consume(e.events),n=-1;++n<e.events.length;){const f=e.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=OG(e.events,n))}return t}function eh(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},ba(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=ba(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=ba(e.events,n[2]),u=ba(e.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const h=e.events[n[2]],f=e.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;t.add(p,g,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},ba(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function Fw(t,e,n,r,i){const s=[],o=ba(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function ba(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const DG={name:"tasklistCheck",tokenize:MG};function PG(){return{text:{91:DG}}}function MG(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return He(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return fe(l)?e(l):Ce(l)?t.check({tokenize:LG},e,n)(l):n(l)}}function LG(t,e,n){return Re(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function FG(t){return R2([lG(),bG(),CG(t),RG(),PG()])}const BG={};function UG(t){const e=this,n=t||BG,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(FG(n)),s.push(iG()),o.push(sG(n))}const Bw=function(t,e,n){const r=zu(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},Jo=function(t){if(t==null)return WG;if(typeof t=="string")return HG(t);if(typeof t=="object")return jG(t);if(typeof t=="function")return yv(t);throw new Error("Expected function, string, or array as `test`")};function jG(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Jo(t[n]);return yv(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function HG(t){return yv(e);function e(n){return n.tagName===t}}function yv(t){return e;function e(n,r,i){return!!(zG(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function WG(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function zG(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const Uw=/\n/g,jw=/[\t ]+/g,ay=Jo("br"),Hw=Jo(QG),$G=Jo("p"),Ww=Jo("tr"),GG=Jo(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",XG,JG]),wO=Jo(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function YG(t,e){const n=e||{},r="children"in t?t.children:[],i=wO(t),s=SO(t,{whitespace:n.whitespace||"normal",breakBefore:!1,breakAfter:!1}),o=[];(t.type==="text"||t.type==="comment")&&o.push(...xO(t,{whitespace:s,breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<r.length;)o.push(...TO(r[a],t,{whitespace:s,breakBefore:a?void 0:i,breakAfter:a<r.length-1?ay(r[a+1]):i}));const l=[];let c;for(a=-1;++a<o.length;){const u=o[a];typeof u=="number"?c!==void 0&&u>c&&(c=u):u&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(u))}return l.join("")}function TO(t,e,n){return t.type==="element"?VG(t,e,n):t.type==="text"?n.whitespace==="normal"?xO(t,n):qG(t):[]}function VG(t,e,n){const r=SO(t,n),i=t.children||[];let s=-1,o=[];if(GG(t))return o;let a,l;for(ay(t)||Ww(t)&&Bw(e,t,Ww)?l=`
`:$G(t)?(a=2,l=2):wO(t)&&(a=1,l=1);++s<i.length;)o=o.concat(TO(i[s],t,{whitespace:r,breakBefore:s?void 0:a,breakAfter:s<i.length-1?ay(i[s+1]):l}));return Hw(t)&&Bw(e,t,Hw)&&o.push("	"),a&&o.unshift(a),l&&o.push(l),o}function xO(t,e){const n=String(t.value),r=[],i=[];let s=0;for(;s<=n.length;){Uw.lastIndex=s;const l=Uw.exec(n),c=l&&"index"in l?l.index:n.length;r.push(KG(n.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,c===n.length?e.breakAfter:!0)),s=c+1}let o=-1,a;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(i.push(r[o]),a=void 0):r[o]?(typeof a=="number"&&i.push(a),i.push(r[o]),a=0):(o===0||o===r.length-1)&&i.push(0);return i}function qG(t){return[String(t.value)]}function KG(t,e,n){const r=[];let i=0,s;for(;i<t.length;){jw.lastIndex=i;const o=jw.exec(t);s=o?o.index:t.length,!i&&!s&&o&&!e&&r.push(""),i!==s&&r.push(t.slice(i,s)),i=o?s+o[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function SO(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function XG(t){return!!(t.properties||{}).hidden}function QG(t){return t.tagName==="td"||t.tagName==="th"}function JG(t){return t.tagName==="dialog"&&!(t.properties||{}).open}function ZG(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],T={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},x={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},w=[x,d,a,n,t.C_BLOCK_COMMENT_MODE,u,c],C={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:w.concat([{begin:/\(/,end:/\)/,keywords:T,contains:w.concat(["self"]),relevance:0}]),relevance:0},I={className:"function",begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:T,relevance:0},{begin:f,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:T,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(C,I,x,w,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:T,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:T},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function eY(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=ZG(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function tY(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(a);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},d={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},h=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=t.SHEBANG({binary:`(${h.join("|")})`,relevance:10}),p={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],y={match:/(\/[a-z._-]+)+/},b=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],_=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],T=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],x=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:v,built_in:[...b,..._,"set","shopt",...T,...x]},contains:[f,t.SHEBANG(),p,d,s,o,y,a,l,c,u,n]}}function nY(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",v={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[d,a,n,t.C_BLOCK_COMMENT_MODE,u,c],b={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:v,contains:y.concat([{begin:/\(/,end:/\)/,keywords:v,contains:y.concat(["self"]),relevance:0}]),relevance:0},_={begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:v,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:v,relevance:0},{begin:f,returnBegin:!0,contains:[t.inherit(h,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C",aliases:["h"],keywords:v,disableAutodetect:!0,illegal:"</",contains:[].concat(b,_,y,[d,{begin:t.IDENT_RE+"::",keywords:v},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:d,strings:c,keywords:v}}}function rY(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},u={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},d={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},h={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},f=e.optional(i)+t.IDENT_RE+"\\s*\\(",p=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],T={type:g,keyword:p,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},x={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},w=[x,d,a,n,t.C_BLOCK_COMMENT_MODE,u,c],C={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:T,contains:w.concat([{begin:/\(/,end:/\)/,keywords:T,contains:w.concat(["self"]),relevance:0}]),relevance:0},I={className:"function",begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:T,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:T,relevance:0},{begin:f,returnBegin:!0,contains:[h],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,u]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,u,a,{begin:/\(/,end:/\)/,keywords:T,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,u,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,d]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:T,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(C,I,x,w,[d,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:T,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:T},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function iY(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:e,literal:r},a=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},d=t.inherit(u,{illegal:/\n/}),h={className:"subst",begin:/\{/,end:/\}/,keywords:o},f=t.inherit(h,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,f]},g={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},h]},v=t.inherit(g,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]});h.contains=[g,p,u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.C_BLOCK_COMMENT_MODE],f.contains=[v,p,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const y={variants:[c,g,p,u,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},b={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},_=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",T={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},y,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,b,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,b,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+_+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,b],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[y,l,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},T]}}const sY=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),oY=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],aY=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],lY=[...oY,...aY],cY=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),uY=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),dY=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),hY=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function fY(t){const e=t.regex,n=sY(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+uY.join("|")+")"},{begin:":(:)?("+dY.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+hY.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:cY.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+lY.join("|")+")\\b"}]}}function pY(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function gY(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function mY(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function yY(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[r,s,i,o,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,u=/'[^']*'/,d=e.either(l,c,u),h=e.concat(d,"(\\s*\\.\\s*",d,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:h,className:"attr",starts:{end:/$/,contains:[r,a,s,i,o,n]}}]}}var va="[0-9](_*[0-9])*",th=`\\.(${va})`,nh="[0-9a-fA-F](_*[0-9a-fA-F])*",zw={className:"number",variants:[{begin:`(\\b(${va})((${th})|\\.)?|(${th}))[eE][+-]?(${va})[fFdD]?\\b`},{begin:`\\b(${va})((${th})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${th})[fFdD]?\\b`},{begin:`\\b(${va})[fFdD]\\b`},{begin:`\\b0[xX]((${nh})\\.?|(${nh})?\\.(${nh}))[pP][+-]?(${va})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${nh})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function CO(t,e,n){return n===-1?"":t.replace(e,r=>CO(t,e,n-1))}function bY(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+CO("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[u,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,zw,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},zw,c]}}const $w="[A-Za-z$_][0-9A-Za-z$_]*",vY=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],_Y=["true","false","null","undefined","NaN","Infinity"],kO=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],AO=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],OO=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],EY=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],wY=[].concat(OO,kO,AO);function TY(t){const e=t.regex,n=(D,{after:H})=>{const S="</"+D[0].slice(1);return D.input.indexOf(S,H)!==-1},r=$w,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(D,H)=>{const S=D[0].length+D.index,ie=D.input[S];if(ie==="<"||ie===","){H.ignoreMatch();return}ie===">"&&(n(D,{after:S})||H.ignoreMatch());let ee;const N=D.input.substring(S);if(ee=N.match(/^\s*=/)){H.ignoreMatch();return}if((ee=N.match(/^\s+extends\s+/))&&ee.index===0){H.ignoreMatch();return}}},a={$pattern:$w,keyword:vY,literal:_Y,built_in:wY,"variable.language":EY},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,h]},b={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},_=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,v,{match:/\$\d+/},d];h.contains=_.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(_)});const T=[].concat(b,h.contains),x=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(T)}]),w={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x},C={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},I={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...kO,...AO]}},U={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},O={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},G={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function j(D){return e.concat("(?!",D.join("|"),")")}const X={match:e.concat(/\b/,j([...OO,"super","import"].map(D=>`${D}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},$={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},q={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",W={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:I},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),U,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,v,b,{match:/\$\d+/},d,I,{scope:"attr",match:r+e.lookahead(":"),relevance:0},W,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,t.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},$,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},X,G,C,q,{match:/\$[(.]/}]}}function xY(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var _a="[0-9](_*[0-9])*",rh=`\\.(${_a})`,ih="[0-9a-fA-F](_*[0-9a-fA-F])*",SY={className:"number",variants:[{begin:`(\\b(${_a})((${rh})|\\.)?|(${rh}))[eE][+-]?(${_a})[fFdD]?\\b`},{begin:`\\b(${_a})((${rh})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${rh})[fFdD]?\\b`},{begin:`\\b(${_a})[fFdD]\\b`},{begin:`\\b0[xX]((${ih})\\.?|(${ih})?\\.(${ih}))[pP][+-]?(${_a})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${ih})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function CY(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);const a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(o,{className:"string"}),"self"]}]},c=SY,u=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},h=d;return h.variants[1].contains=[d],d.variants[1].contains=[h],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,u,n,r,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,t.C_LINE_COMMENT_MODE,u],relevance:0},t.C_LINE_COMMENT_MODE,u,a,l,o,t.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const kY=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),AY=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],OY=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],RY=[...AY,...OY],NY=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),RO=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),NO=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),IY=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),DY=RO.concat(NO).sort().reverse();function PY(t){const e=kY(t),n=DY,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],l=function(_){return{className:"string",begin:"~?"+_+".*?"+_}},c=function(_,T,x){return{className:_,begin:T,relevance:x}},u={$pattern:/[a-z-]+/,keyword:r,attribute:NY.join(" ")},d={begin:"\\(",end:"\\)",contains:a,keywords:u,relevance:0};a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,l("'"),l('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,d,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const h=a.concat({begin:/\{/,end:/\}/,contains:o}),f={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},p={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+IY.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:u,returnEnd:!0,contains:a,relevance:0}},v={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:h}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,f,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+RY.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+RO.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+NO.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:h},{begin:"!important"},e.FUNCTION_DISPATCH]},b={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[y]};return o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,g,v,b,p,y,f,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function MY(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function LY(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,o]}}function FY(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},d=t.inherit(c,{contains:[]}),h=t.inherit(u,{contains:[]});c.contains.push(h),u.contains.push(d);let f=[n,l];return[c,u,d,h].forEach(y=>{y.contains=y.contains.concat(f)}),f=f.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},n,s,c,u,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,r,l,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function BY(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function UY(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[a]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},u=[t.BACKSLASH_ESCAPE,s,l],d=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],h=(g,v,y="\\1")=>{const b=y==="\\1"?y:e.concat(y,v);return e.concat(e.concat("(?:",g,")"),v,/(?:\\.|[^\\\/])*?/,b,/(?:\\.|[^\\\/])*?/,y,r)},f=(g,v,y)=>e.concat(e.concat("(?:",g,")"),v,/(?:\\.|[^\\\/])*?/,y,r),p=[l,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:u,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:h("s|tr|y",e.either(...d,{capture:!0}))},{begin:h("s|tr|y","\\(","\\)")},{begin:h("s|tr|y","\\[","\\]")},{begin:h("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:f("(?:m|qr)?",/\//,/\//)},{begin:f("m|qr",e.either(...d,{capture:!0}),/\1/)},{begin:f("m|qr",/\(/,/\)/)},{begin:f("m|qr",/\[/,/\]/)},{begin:f("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,a]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,a,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=p,o.contains=p,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:p}}function jY(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},a={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),u=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":($,q)=>{q.data._beginMatch=$[1]||$[2]},"on:end":($,q)=>{q.data._beginMatch!==$[1]&&q.ignoreMatch()}},h=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),f=`[ 	
]`,p={scope:"string",variants:[u,c,d,h]},g={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},v=["false","null","true"],y=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],b=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],T={keyword:y,literal:($=>{const q=[];return $.forEach(M=>{q.push(M),M.toLowerCase()===M?q.push(M.toUpperCase()):q.push(M.toLowerCase())}),q})(v),built_in:b},x=$=>$.map(q=>q.replace(/\|\d+$/,"")),w={variants:[{match:[/new/,e.concat(f,"+"),e.concat("(?!",x(b).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},C=e.concat(r,"\\b(?!\\()"),I={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),C],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),C],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},U={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},O={relevance:0,begin:/\(/,end:/\)/,keywords:T,contains:[U,o,I,t.C_BLOCK_COMMENT_MODE,p,g,w]},G={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",x(y).join("\\b|"),"|",x(b).join("\\b|"),"\\b)"),r,e.concat(f,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[O]};O.contains.push(G);const j=[U,I,t.C_BLOCK_COMMENT_MODE,p,g,w],X={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:v,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:v,keyword:["new","array"]},contains:["self",...j]},...j,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:T,contains:[X,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},a,{scope:"variable.language",match:/\$this\b/},o,G,I,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},w,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:T,contains:["self",X,o,I,t.C_BLOCK_COMMENT_MODE,p,g]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},p,g]}}function HY(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function WY(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function zY(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},u={begin:/\{\{/,relevance:0},d={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,u,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},h="[0-9](_?[0-9])*",f=`(\\b(${h}))?\\.(${h})|\\b(${h})\\.`,p=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${h})|(${f}))[eE][+-]?(${h})[jJ]?(?=${p})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${p})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${p})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${p})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${p})`},{begin:`\\b(${h})[jJ](?=${p})`}]},v={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,g,d,t.HASH_COMMENT_MODE]}]};return c.contains=[d,g,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,g,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},d,v,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,y,d]}]}}function $Y(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function GY(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function YY(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[a]}),t.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],u={className:"subst",begin:/#\{/,end:/\}/,keywords:o},d={className:"string",contains:[t.BACKSLASH_ESCAPE,u],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,u]})]}]},h="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",p={className:"number",relevance:0,variants:[{begin:`\\b(${h})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},w=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[d,{begin:n}],relevance:0},p,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,u],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);u.contains=w,g.contains=w;const O=[{begin:/^\s*=>/,starts:{end:"$",contains:w}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:w}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(O).concat(c).concat(w)}}function VY(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",a=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],u=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:u,keyword:a,literal:l,built_in:c},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:u}},{className:"punctuation",begin:"->"},s]}}const qY=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),KY=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],XY=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],QY=[...KY,...XY],JY=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ZY=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),eV=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),tV=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function nV(t){const e=qY(t),n=eV,r=ZY,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+QY.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+tV.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,a,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:JY.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function rV(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function iV(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],d=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],h=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=u,p=[...c,...l].filter(x=>!u.includes(x)),g={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={match:e.concat(/\b/,e.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function b(x){return e.concat(/\b/,e.either(...x.map(w=>w.replace(/\s+/,"\\s+"))),/\b/)}const _={scope:"keyword",match:b(h),relevance:0};function T(x,{exceptions:w,when:C}={}){const I=C;return w=w||[],x.map(U=>U.match(/\|\d+$/)||w.includes(U)?U:I(U)?`${U}|0`:U)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:T(p,{when:x=>x.length<3}),literal:s,type:a,built_in:d},contains:[{scope:"type",match:b(o)},_,y,g,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,v]}}function IO(t){return t?typeof t=="string"?t:t.source:null}function lc(t){return Ue("(?=",t,")")}function Ue(...t){return t.map(n=>IO(n)).join("")}function sV(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function on(...t){return"("+(sV(t).capture?"":"?:")+t.map(r=>IO(r)).join("|")+")"}const bv=t=>Ue(/\b/,t,/\w$/.test(t)?/\b/:/\B/),oV=["Protocol","Type"].map(bv),Gw=["init","self"].map(bv),aV=["Any","Self"],dm=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Yw=["false","nil","true"],lV=["assignment","associativity","higherThan","left","lowerThan","none","right"],cV=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Vw=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],DO=on(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),PO=on(DO,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),hm=Ue(DO,PO,"*"),MO=on(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Of=on(MO,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),qr=Ue(MO,Of,"*"),sh=Ue(/[A-Z]/,Of,"*"),uV=["attached","autoclosure",Ue(/convention\(/,on("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Ue(/objc\(/,qr,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],dV=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function hV(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,on(...oV,...Gw)],className:{2:"keyword"}},s={match:Ue(/\./,on(...dm)),relevance:0},o=dm.filter(Ae=>typeof Ae=="string").concat(["_|0"]),a=dm.filter(Ae=>typeof Ae!="string").concat(aV).map(bv),l={variants:[{className:"keyword",match:on(...a,...Gw)}]},c={$pattern:on(/\b\w+/,/#\w+/),keyword:o.concat(cV),literal:Yw},u=[i,s,l],d={match:Ue(/\./,on(...Vw)),relevance:0},h={className:"built_in",match:Ue(/\b/,on(...Vw),/(?=\()/)},f=[d,h],p={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:hm},{match:`\\.(\\.|${PO})+`}]},v=[p,g],y="([0-9]_*)+",b="([0-9a-fA-F]_*)+",_={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${b})(\\.(${b}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},T=(Ae="")=>({className:"subst",variants:[{match:Ue(/\\/,Ae,/[0\\tnr"']/)},{match:Ue(/\\/,Ae,/u\{[0-9a-fA-F]{1,8}\}/)}]}),x=(Ae="")=>({className:"subst",match:Ue(/\\/,Ae,/[\t ]*(?:[\r\n]|\r\n)/)}),w=(Ae="")=>({className:"subst",label:"interpol",begin:Ue(/\\/,Ae,/\(/),end:/\)/}),C=(Ae="")=>({begin:Ue(Ae,/"""/),end:Ue(/"""/,Ae),contains:[T(Ae),x(Ae),w(Ae)]}),I=(Ae="")=>({begin:Ue(Ae,/"/),end:Ue(/"/,Ae),contains:[T(Ae),w(Ae)]}),U={className:"string",variants:[C(),C("#"),C("##"),C("###"),I(),I("#"),I("##"),I("###")]},O=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],G={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:O},j=Ae=>{const tn=Ue(Ae,/\//),de=Ue(/\//,Ae);return{begin:tn,end:de,contains:[...O,{scope:"comment",begin:`#(?!.*${de})`,end:/$/}]}},X={scope:"regexp",variants:[j("###"),j("##"),j("#"),G]},$={match:Ue(/`/,qr,/`/)},q={className:"variable",match:/\$\d+/},M={className:"variable",match:`\\$${Of}+`},W=[$,q,M],D={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:dV,contains:[...v,_,U]}]}},H={scope:"keyword",match:Ue(/@/,on(...uV),lc(on(/\(/,/\s+/)))},S={scope:"meta",match:Ue(/@/,qr)},ie=[D,H,S],ee={match:lc(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Ue(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Of,"+")},{className:"type",match:sh,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Ue(/\s+&\s+/,lc(sh)),relevance:0}]},N={begin:/</,end:/>/,keywords:c,contains:[...r,...u,...ie,p,ee]};ee.contains.push(N);const ae={match:Ue(qr,/\s*:/),keywords:"_|0",relevance:0},me={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",ae,...r,X,...u,...f,...v,_,U,...W,...ie,ee]},pe={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,ee]},ye={begin:on(lc(Ue(qr,/\s*:/)),lc(Ue(qr,/\s+/,qr,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:qr}]},et={begin:/\(/,end:/\)/,keywords:c,contains:[ye,...r,...u,...v,_,U,...ie,ee,me],endsParent:!0,illegal:/["']/},tt={match:[/(func|macro)/,/\s+/,on($.match,qr,hm)],className:{1:"keyword",3:"title.function"},contains:[pe,et,e],illegal:[/\[/,/%/]},je={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[pe,et,e],illegal:/\[|%/},Lt={match:[/operator/,/\s+/,hm],className:{1:"keyword",3:"title"}},Qn={begin:[/precedencegroup/,/\s+/,sh],className:{1:"keyword",3:"title"},contains:[ee],keywords:[...lV,...Yw],end:/}/},Ft={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},gr={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},Tt={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,qr,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[pe,...u,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:sh},...u],relevance:0}]};for(const Ae of U.variants){const tn=Ae.contains.find(mn=>mn.label==="interpol");tn.keywords=c;const de=[...u,...f,...v,_,U,...W];tn.contains=[...de,{begin:/\(/,end:/\)/,contains:["self",...de]}]}return{name:"Swift",keywords:c,contains:[...r,tt,je,Ft,gr,Tt,Lt,Qn,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},X,...u,...f,...v,_,U,...W,...ie,ee,me]}}const Rf="[A-Za-z$_][0-9A-Za-z$_]*",LO=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],FO=["true","false","null","undefined","NaN","Infinity"],BO=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],UO=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],jO=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],HO=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],WO=[].concat(jO,BO,UO);function fV(t){const e=t.regex,n=(D,{after:H})=>{const S="</"+D[0].slice(1);return D.input.indexOf(S,H)!==-1},r=Rf,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(D,H)=>{const S=D[0].length+D.index,ie=D.input[S];if(ie==="<"||ie===","){H.ignoreMatch();return}ie===">"&&(n(D,{after:S})||H.ignoreMatch());let ee;const N=D.input.substring(S);if(ee=N.match(/^\s*=/)){H.ignoreMatch();return}if((ee=N.match(/^\s+extends\s+/))&&ee.index===0){H.ignoreMatch();return}}},a={$pattern:Rf,keyword:LO,literal:FO,built_in:WO,"variable.language":HO},l="[0-9](_?[0-9])*",c=`\\.(${l})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",d={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},h={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"css"}},g={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,h],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,h]},b={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},_=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,v,{match:/\$\d+/},d];h.contains=_.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(_)});const T=[].concat(b,h.contains),x=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(T)}]),w={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x},C={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},I={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...BO,...UO]}},U={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},O={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},G={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function j(D){return e.concat("(?!",D.join("|"),")")}const X={match:e.concat(/\b/,j([...jO,"super","import"].map(D=>`${D}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},$={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},q={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},M="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",W={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(M)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:I},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),U,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,f,p,g,v,b,{match:/\$\d+/},d,I,{scope:"attr",match:r+e.lookahead(":"),relevance:0},W,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[b,t.REGEXP_MODE,{className:"function",begin:M,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},O,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},$,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},X,G,C,q,{match:/\$[(.]/}]}}function pV(t){const e=t.regex,n=fV(t),r=Rf,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},a={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:Rf,keyword:LO.concat(l),literal:FO,built_in:WO.concat(i),"variable.language":HO},u={className:"meta",begin:"@"+r},d=(g,v,y)=>{const b=g.contains.findIndex(_=>_.label===v);if(b===-1)throw new Error("can not find mode to replace");g.contains.splice(b,1,y)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(u);const h=n.contains.find(g=>g.scope==="attr"),f=Object.assign({},h,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,h,f]),n.contains=n.contains.concat([u,s,o,f]),d(n,"shebang",t.SHEBANG()),d(n,"use_strict",a);const p=n.contains.find(g=>g.label==="func.def");return p.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function gV(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(o,a),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},u={className:"label",begin:/^\w+:/},d=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),h=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,l,c,u,d,h,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[h]}]}}function mV(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,t.QUOTE_STRING_MODE,l,c,a]}}function yV(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(s,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function bV(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},a=t.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),h={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},p={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},v=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},h,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},p,g,s,o],y=[...v];return y.pop(),y.push(a),f.contains=y,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}const vV={arduino:eY,bash:tY,c:nY,cpp:rY,csharp:iY,css:fY,diff:pY,go:gY,graphql:mY,ini:yY,java:bY,javascript:TY,json:xY,kotlin:CY,less:PY,lua:MY,makefile:LY,markdown:FY,objectivec:BY,perl:UY,php:jY,"php-template":HY,plaintext:WY,python:zY,"python-repl":$Y,r:GY,ruby:YY,rust:VY,scss:nV,shell:rV,sql:iV,swift:hV,typescript:pV,vbnet:gV,wasm:mV,xml:yV,yaml:bV};function zO(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const n=t[e],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&zO(n)}),t}let qw=class{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function $O(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Is(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const _V="</span>",Kw=t=>!!t.scope,EV=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${e}${t}`};class wV{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=$O(e)}openNode(e){if(!Kw(e))return;const n=EV(e.scope,{prefix:this.classPrefix});this.span(n)}closeNode(e){Kw(e)&&(this.buffer+=_V)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Xw=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class vv{constructor(){this.rootNode=Xw(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=Xw({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{vv._collapse(n)}))}}class TV extends vv{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,n){const r=e.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new wV(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Tu(t){return t?typeof t=="string"?t:t.source:null}function GO(t){return Zo("(?=",t,")")}function xV(t){return Zo("(?:",t,")*")}function SV(t){return Zo("(?:",t,")?")}function Zo(...t){return t.map(n=>Tu(n)).join("")}function CV(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function _v(...t){return"("+(CV(t).capture?"":"?:")+t.map(r=>Tu(r)).join("|")+")"}function YO(t){return new RegExp(t.toString()+"|").exec("").length-1}function kV(t,e){const n=t&&t.exec(e);return n&&n.index===0}const AV=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Ev(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const i=n;let s=Tu(r),o="";for(;s.length>0;){const a=AV.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+i):(o+=a[0],a[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const OV=/\b\B/,VO="[a-zA-Z]\\w*",wv="[a-zA-Z_]\\w*",qO="\\b\\d+(\\.\\d+)?",KO="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",XO="\\b(0b[01]+)",RV="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",NV=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=Zo(e,/.*\b/,t.binary,/\b.*/)),Is({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},xu={begin:"\\\\[\\s\\S]",relevance:0},IV={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[xu]},DV={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[xu]},PV={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Fp=function(t,e,n={}){const r=Is({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=_v("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Zo(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},MV=Fp("//","$"),LV=Fp("/\\*","\\*/"),FV=Fp("#","$"),BV={scope:"number",begin:qO,relevance:0},UV={scope:"number",begin:KO,relevance:0},jV={scope:"number",begin:XO,relevance:0},HV={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[xu,{begin:/\[/,end:/\]/,relevance:0,contains:[xu]}]},WV={scope:"title",begin:VO,relevance:0},zV={scope:"title",begin:wv,relevance:0},$V={begin:"\\.\\s*"+wv,relevance:0},GV=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var oh=Object.freeze({__proto__:null,APOS_STRING_MODE:IV,BACKSLASH_ESCAPE:xu,BINARY_NUMBER_MODE:jV,BINARY_NUMBER_RE:XO,COMMENT:Fp,C_BLOCK_COMMENT_MODE:LV,C_LINE_COMMENT_MODE:MV,C_NUMBER_MODE:UV,C_NUMBER_RE:KO,END_SAME_AS_BEGIN:GV,HASH_COMMENT_MODE:FV,IDENT_RE:VO,MATCH_NOTHING_RE:OV,METHOD_GUARD:$V,NUMBER_MODE:BV,NUMBER_RE:qO,PHRASAL_WORDS_MODE:PV,QUOTE_STRING_MODE:DV,REGEXP_MODE:HV,RE_STARTERS_RE:RV,SHEBANG:NV,TITLE_MODE:WV,UNDERSCORE_IDENT_RE:wv,UNDERSCORE_TITLE_MODE:zV});function YV(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function VV(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function qV(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=YV,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function KV(t,e){Array.isArray(t.illegal)&&(t.illegal=_v(...t.illegal))}function XV(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function QV(t,e){t.relevance===void 0&&(t.relevance=1)}const JV=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=Zo(n.beforeMatch,GO(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},ZV=["of","and","for","in","not","or","if","then","parent","list","value"],eq="keyword";function QO(t,e,n=eq){const r=Object.create(null);return typeof t=="string"?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach(function(s){Object.assign(r,QO(t[s],e,s))}),r;function i(s,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const l=a.split("|");r[l[0]]=[s,tq(l[0],l[1])]})}}function tq(t,e){return e?Number(e):nq(t)?0:1}function nq(t){return ZV.includes(t.toLowerCase())}const Qw={},Mo=t=>{console.error(t)},Jw=(t,...e)=>{console.log(`WARN: ${t}`,...e)},pa=(t,e)=>{Qw[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),Qw[`${t}/${e}`]=!0)},Nf=new Error;function JO(t,e,{key:n}){let r=0;const i=t[n],s={},o={};for(let a=1;a<=e.length;a++)o[a+r]=i[a],s[a+r]=!0,r+=YO(e[a-1]);t[n]=o,t[n]._emit=s,t[n]._multi=!0}function rq(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Mo("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Nf;if(typeof t.beginScope!="object"||t.beginScope===null)throw Mo("beginScope must be object"),Nf;JO(t,t.begin,{key:"beginScope"}),t.begin=Ev(t.begin,{joinWith:""})}}function iq(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Mo("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Nf;if(typeof t.endScope!="object"||t.endScope===null)throw Mo("endScope must be object"),Nf;JO(t,t.end,{key:"endScope"}),t.end=Ev(t.end,{joinWith:""})}}function sq(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function oq(t){sq(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),rq(t),iq(t)}function aq(t){function e(o,a){return new RegExp(Tu(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=YO(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=e(Ev(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const c=l.findIndex((d,h)=>h>0&&d!==void 0),u=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,u)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new n;return this.rules.slice(a).forEach(([c,u])=>l.addRule(c,u)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const u=this.getMatcher(0);u.lastIndex=this.lastIndex+1,c=u.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(o){const a=new r;return o.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function s(o,a){const l=o;if(o.isCompiled)return l;[VV,XV,oq,JV].forEach(u=>u(o,a)),t.compilerExtensions.forEach(u=>u(o,a)),o.__beforeBegin=null,[qV,KV,QV].forEach(u=>u(o,a)),o.isCompiled=!0;let c=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=QO(o.keywords,t.case_insensitive)),l.keywordPatternRe=e(c,!0),a&&(o.begin||(o.begin=/\B|\b/),l.beginRe=e(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=e(l.end)),l.terminatorEnd=Tu(l.end)||"",o.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(l.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(u){return lq(u==="self"?o:u)})),o.contains.forEach(function(u){s(u,l)}),o.starts&&s(o.starts,a),l.matcher=i(l),l}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=Is(t.classNameAliases||{}),s(t)}function ZO(t){return t?t.endsWithParent||ZO(t.starts):!1}function lq(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return Is(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:ZO(t)?Is(t,{starts:t.starts?Is(t.starts):null}):Object.isFrozen(t)?Is(t):t}var cq="11.11.1";class uq extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const fm=$O,Zw=Is,eT=Symbol("nomatch"),dq=7,eR=function(t){const e=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:TV};function l(M){return a.noHighlightRe.test(M)}function c(M){let W=M.className+" ";W+=M.parentNode?M.parentNode.className:"";const D=a.languageDetectRe.exec(W);if(D){const H=I(D[1]);return H||(Jw(s.replace("{}",D[1])),Jw("Falling back to no-highlight mode for this block.",M)),H?D[1]:"no-highlight"}return W.split(/\s+/).find(H=>l(H)||I(H))}function u(M,W,D){let H="",S="";typeof W=="object"?(H=M,D=W.ignoreIllegals,S=W.language):(pa("10.7.0","highlight(lang, code, ...args) has been deprecated."),pa("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),S=M,H=W),D===void 0&&(D=!0);const ie={code:H,language:S};$("before:highlight",ie);const ee=ie.result?ie.result:d(ie.language,ie.code,D);return ee.code=ie.code,$("after:highlight",ee),ee}function d(M,W,D,H){const S=Object.create(null);function ie(F,V){return F.keywords[V]}function ee(){if(!de.keywords){nt.addText(Oe);return}let F=0;de.keywordPatternRe.lastIndex=0;let V=de.keywordPatternRe.exec(Oe),se="";for(;V;){se+=Oe.substring(F,V.index);const le=Tt.case_insensitive?V[0].toLowerCase():V[0],ge=ie(de,le);if(ge){const[rt,Jn]=ge;if(nt.addText(se),se="",S[le]=(S[le]||0)+1,S[le]<=dq&&(Ei+=Jn),rt.startsWith("_"))se+=V[0];else{const nn=Tt.classNameAliases[rt]||rt;me(V[0],nn)}}else se+=V[0];F=de.keywordPatternRe.lastIndex,V=de.keywordPatternRe.exec(Oe)}se+=Oe.substring(F),nt.addText(se)}function N(){if(Oe==="")return;let F=null;if(typeof de.subLanguage=="string"){if(!e[de.subLanguage]){nt.addText(Oe);return}F=d(de.subLanguage,Oe,!0,mn[de.subLanguage]),mn[de.subLanguage]=F._top}else F=f(Oe,de.subLanguage.length?de.subLanguage:null);de.relevance>0&&(Ei+=F.relevance),nt.__addSublanguage(F._emitter,F.language)}function ae(){de.subLanguage!=null?N():ee(),Oe=""}function me(F,V){F!==""&&(nt.startScope(V),nt.addText(F),nt.endScope())}function pe(F,V){let se=1;const le=V.length-1;for(;se<=le;){if(!F._emit[se]){se++;continue}const ge=Tt.classNameAliases[F[se]]||F[se],rt=V[se];ge?me(rt,ge):(Oe=rt,ee(),Oe=""),se++}}function ye(F,V){return F.scope&&typeof F.scope=="string"&&nt.openNode(Tt.classNameAliases[F.scope]||F.scope),F.beginScope&&(F.beginScope._wrap?(me(Oe,Tt.classNameAliases[F.beginScope._wrap]||F.beginScope._wrap),Oe=""):F.beginScope._multi&&(pe(F.beginScope,V),Oe="")),de=Object.create(F,{parent:{value:de}}),de}function et(F,V,se){let le=kV(F.endRe,se);if(le){if(F["on:end"]){const ge=new qw(F);F["on:end"](V,ge),ge.isMatchIgnored&&(le=!1)}if(le){for(;F.endsParent&&F.parent;)F=F.parent;return F}}if(F.endsWithParent)return et(F.parent,V,se)}function tt(F){return de.matcher.regexIndex===0?(Oe+=F[0],1):(ro=!0,0)}function je(F){const V=F[0],se=F.rule,le=new qw(se),ge=[se.__beforeBegin,se["on:begin"]];for(const rt of ge)if(rt&&(rt(F,le),le.isMatchIgnored))return tt(V);return se.skip?Oe+=V:(se.excludeBegin&&(Oe+=V),ae(),!se.returnBegin&&!se.excludeBegin&&(Oe=V)),ye(se,F),se.returnBegin?0:V.length}function Lt(F){const V=F[0],se=W.substring(F.index),le=et(de,F,se);if(!le)return eT;const ge=de;de.endScope&&de.endScope._wrap?(ae(),me(V,de.endScope._wrap)):de.endScope&&de.endScope._multi?(ae(),pe(de.endScope,F)):ge.skip?Oe+=V:(ge.returnEnd||ge.excludeEnd||(Oe+=V),ae(),ge.excludeEnd&&(Oe=V));do de.scope&&nt.closeNode(),!de.skip&&!de.subLanguage&&(Ei+=de.relevance),de=de.parent;while(de!==le.parent);return le.starts&&ye(le.starts,F),ge.returnEnd?0:V.length}function Qn(){const F=[];for(let V=de;V!==Tt;V=V.parent)V.scope&&F.unshift(V.scope);F.forEach(V=>nt.openNode(V))}let Ft={};function gr(F,V){const se=V&&V[0];if(Oe+=F,se==null)return ae(),0;if(Ft.type==="begin"&&V.type==="end"&&Ft.index===V.index&&se===""){if(Oe+=W.slice(V.index,V.index+1),!i){const le=new Error(`0 width match regex (${M})`);throw le.languageName=M,le.badRule=Ft.rule,le}return 1}if(Ft=V,V.type==="begin")return je(V);if(V.type==="illegal"&&!D){const le=new Error('Illegal lexeme "'+se+'" for mode "'+(de.scope||"<unnamed>")+'"');throw le.mode=de,le}else if(V.type==="end"){const le=Lt(V);if(le!==eT)return le}if(V.type==="illegal"&&se==="")return Oe+=`
`,1;if(no>1e5&&no>V.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Oe+=se,se.length}const Tt=I(M);if(!Tt)throw Mo(s.replace("{}",M)),new Error('Unknown language: "'+M+'"');const Ae=aq(Tt);let tn="",de=H||Ae;const mn={},nt=new a.__emitter(a);Qn();let Oe="",Ei=0,Bt=0,no=0,ro=!1;try{if(Tt.__emitTokens)Tt.__emitTokens(W,nt);else{for(de.matcher.considerAll();;){no++,ro?ro=!1:de.matcher.considerAll(),de.matcher.lastIndex=Bt;const F=de.matcher.exec(W);if(!F)break;const V=W.substring(Bt,F.index),se=gr(V,F);Bt=F.index+se}gr(W.substring(Bt))}return nt.finalize(),tn=nt.toHTML(),{language:M,value:tn,relevance:Ei,illegal:!1,_emitter:nt,_top:de}}catch(F){if(F.message&&F.message.includes("Illegal"))return{language:M,value:fm(W),illegal:!0,relevance:0,_illegalBy:{message:F.message,index:Bt,context:W.slice(Bt-100,Bt+100),mode:F.mode,resultSoFar:tn},_emitter:nt};if(i)return{language:M,value:fm(W),illegal:!1,relevance:0,errorRaised:F,_emitter:nt,_top:de};throw F}}function h(M){const W={value:fm(M),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return W._emitter.addText(M),W}function f(M,W){W=W||a.languages||Object.keys(e);const D=h(M),H=W.filter(I).filter(O).map(ae=>d(ae,M,!1));H.unshift(D);const S=H.sort((ae,me)=>{if(ae.relevance!==me.relevance)return me.relevance-ae.relevance;if(ae.language&&me.language){if(I(ae.language).supersetOf===me.language)return 1;if(I(me.language).supersetOf===ae.language)return-1}return 0}),[ie,ee]=S,N=ie;return N.secondBest=ee,N}function p(M,W,D){const H=W&&n[W]||D;M.classList.add("hljs"),M.classList.add(`language-${H}`)}function g(M){let W=null;const D=c(M);if(l(D))return;if($("before:highlightElement",{el:M,language:D}),M.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",M);return}if(M.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(M)),a.throwUnescapedHTML))throw new uq("One of your code blocks includes unescaped HTML.",M.innerHTML);W=M;const H=W.textContent,S=D?u(H,{language:D,ignoreIllegals:!0}):f(H);M.innerHTML=S.value,M.dataset.highlighted="yes",p(M,D,S.language),M.result={language:S.language,re:S.relevance,relevance:S.relevance},S.secondBest&&(M.secondBest={language:S.secondBest.language,relevance:S.secondBest.relevance}),$("after:highlightElement",{el:M,result:S,text:H})}function v(M){a=Zw(a,M)}const y=()=>{T(),pa("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function b(){T(),pa("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let _=!1;function T(){function M(){T()}if(document.readyState==="loading"){_||window.addEventListener("DOMContentLoaded",M,!1),_=!0;return}document.querySelectorAll(a.cssSelector).forEach(g)}function x(M,W){let D=null;try{D=W(t)}catch(H){if(Mo("Language definition for '{}' could not be registered.".replace("{}",M)),i)Mo(H);else throw H;D=o}D.name||(D.name=M),e[M]=D,D.rawDefinition=W.bind(null,t),D.aliases&&U(D.aliases,{languageName:M})}function w(M){delete e[M];for(const W of Object.keys(n))n[W]===M&&delete n[W]}function C(){return Object.keys(e)}function I(M){return M=(M||"").toLowerCase(),e[M]||e[n[M]]}function U(M,{languageName:W}){typeof M=="string"&&(M=[M]),M.forEach(D=>{n[D.toLowerCase()]=W})}function O(M){const W=I(M);return W&&!W.disableAutodetect}function G(M){M["before:highlightBlock"]&&!M["before:highlightElement"]&&(M["before:highlightElement"]=W=>{M["before:highlightBlock"](Object.assign({block:W.el},W))}),M["after:highlightBlock"]&&!M["after:highlightElement"]&&(M["after:highlightElement"]=W=>{M["after:highlightBlock"](Object.assign({block:W.el},W))})}function j(M){G(M),r.push(M)}function X(M){const W=r.indexOf(M);W!==-1&&r.splice(W,1)}function $(M,W){const D=M;r.forEach(function(H){H[D]&&H[D](W)})}function q(M){return pa("10.7.0","highlightBlock will be removed entirely in v12.0"),pa("10.7.0","Please use highlightElement now."),g(M)}Object.assign(t,{highlight:u,highlightAuto:f,highlightAll:T,highlightElement:g,highlightBlock:q,configure:v,initHighlighting:y,initHighlightingOnLoad:b,registerLanguage:x,unregisterLanguage:w,listLanguages:C,getLanguage:I,registerAliases:U,autoDetection:O,inherit:Zw,addPlugin:j,removePlugin:X}),t.debugMode=function(){i=!1},t.safeMode=function(){i=!0},t.versionString=cq,t.regex={concat:Zo,lookahead:GO,either:_v,optional:SV,anyNumberOfTimes:xV};for(const M in oh)typeof oh[M]=="object"&&zO(oh[M]);return Object.assign(t,oh),t},vl=eR({});vl.newInstance=()=>eR({});var hq=vl;vl.HighlightJS=vl;vl.default=vl;const fq=El(hq),tT={},pq="hljs-";function gq(t){const e=fq.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:o,registered:a};function n(l,c,u){const d=u||tT,h=typeof d.prefix=="string"?d.prefix:pq;if(!e.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");e.configure({__emitter:mq,classPrefix:h});const f=e.highlight(c,{ignoreIllegals:!0,language:l});if(f.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:f.errorRaised});const p=f._emitter.root,g=p.data;return g.language=f.language,g.relevance=f.relevance,p}function r(l,c){const d=(c||tT).subset||i();let h=-1,f=0,p;for(;++h<d.length;){const g=d[h];if(!e.getLanguage(g))continue;const v=n(g,l,c);v.data&&v.data.relevance!==void 0&&v.data.relevance>f&&(f=v.data.relevance,p=v)}return p||{type:"root",children:[],data:{language:void 0,relevance:f}}}function i(){return e.listLanguages()}function s(l,c){if(typeof l=="string")e.registerLanguage(l,c);else{let u;for(u in l)Object.hasOwn(l,u)&&e.registerLanguage(u,l[u])}}function o(l,c){if(typeof l=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let u;for(u in l)if(Object.hasOwn(l,u)){const d=l[u];e.registerAliases(typeof d=="string"?d:[...d],{languageName:u})}}}function a(l){return!!e.getLanguage(l)}}class mq{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(o,a){return a?o+"_".repeat(a):n.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const yq={};function bq(t){const e=t||yq,n=e.aliases,r=e.detect||!1,i=e.languages||vV,s=e.plainText,o=e.prefix,a=e.subset;let l="hljs";const c=gq(i);if(n&&c.registerAlias(n),o){const u=o.indexOf("-");l=u===-1?o:o.slice(0,u)}return function(u,d){$u(u,"element",function(h,f,p){if(h.tagName!=="code"||!p||p.type!=="element"||p.tagName!=="pre")return;const g=vq(h);if(g===!1||!g&&!r||g&&s&&s.includes(g))return;Array.isArray(h.properties.className)||(h.properties.className=[]),h.properties.className.includes(l)||h.properties.className.unshift(l);const v=YG(h,{whitespace:"pre"});let y;try{y=g?c.highlight(g,v,{prefix:o}):c.highlightAuto(v,{prefix:o,subset:a})}catch(b){const _=b;if(g&&/Unknown language/.test(_.message)){d.message("Cannot highlight as `"+g+"`, its not registered",{ancestors:[p,h],cause:_,place:h.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw _}!g&&y.data&&y.data.language&&h.properties.className.push("language-"+y.data.language),y.children.length>0&&(h.children=y.children)})}}function vq(t){const e=t.properties.className;let n=-1;if(!Array.isArray(e))return;let r;for(;++n<e.length;){const i=String(e[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!r&&i.slice(0,5)==="lang-"&&(r=i.slice(5)),!r&&i.slice(0,9)==="language-"&&(r=i.slice(9))}return r}const nT=/[#.]/g;function _q(t,e){const n=t||"",r={};let i=0,s,o;for(;i<n.length;){nT.lastIndex=i;const a=nT.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||e||"div",properties:r,children:[]}}function tR(t,e,n){const r=n?xq(n):void 0;function i(s,o,...a){let l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else{l=_q(s,e);const c=l.tagName.toLowerCase(),u=r?r.get(c):void 0;if(l.tagName=u||c,Eq(o))a.unshift(o);else for(const[d,h]of Object.entries(o))wq(t,l.properties,d,h)}for(const c of a)ly(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function Eq(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function wq(t,e,n,r){const i=tv(t,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=G1(r):i.commaSeparated?s=j1(r):i.commaOrSpaceSeparated?s=G1(j1(r).join(" ")):s=rT(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?Tq(r):String(r);if(Array.isArray(s)){const o=[];for(const a of s)o.push(rT(i,i.property,a));s=o}i.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[i.property]=s}}function ly(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)ly(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?ly(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function rT(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||_u(n)===_u(e)))return!0}return n}function Tq(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function xq(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const Sq=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Cq=tR(Rp,"div"),kq=tR(jl,"g",Sq);function Aq(t){const e=String(t),n=[];return{toOffset:i,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=e.length){let o=0;for(;;){let a=n[o];if(a===void 0){const l=iT(e,n[o-1]);a=l===-1?e.length+1:l+1,n[o]=a}if(a>s)return{line:o+1,column:s-(o>0?n[o-1]:0)+1,offset:s};o++}}}function i(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const a=n[n.length-1],l=iT(e,a),c=l===-1?e.length+1:l+1;if(a===c)break;n.push(c)}const o=(s.line>1?n[s.line-2]:0)+s.column-1;if(o<n[s.line-1])return o}}}function iT(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const xo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nR={}.hasOwnProperty,Oq=Object.prototype;function Rq(t,e){const n=e||{};return Tv({file:n.file||void 0,location:!1,schema:n.space==="svg"?jl:Rp,verbose:n.verbose||!1},t)}function Tv(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},Nh(t,r,n),n}case"#document":case"#document-fragment":{const r=e,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:rR(t,e.childNodes),data:{quirksMode:i}},t.file&&t.location){const s=String(t.file),o=Aq(s),a=o.toPoint(0),l=o.toPoint(s.length);n.position={start:a,end:l}}return n}case"#documentType":{const r=e;return n={type:"doctype"},Nh(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},Nh(t,r,n),n}default:return n=Nq(t,e),n}}function rR(t,e){let n=-1;const r=[];for(;++n<e.length;){const i=Tv(t,e[n]);r.push(i)}return r}function Nq(t,e){const n=t.schema;t.schema=e.namespaceURI===xo.svg?jl:Rp;let r=-1;const i={};for(;++r<e.attrs.length;){const a=e.attrs[r],l=(a.prefix?a.prefix+":":"")+a.name;nR.call(Oq,l)||(i[l]=a.value)}const o=(t.schema.space==="svg"?kq:Cq)(e.tagName,i,rR(t,e.childNodes));if(Nh(t,e,o),o.tagName==="template"){const a=e,l=a.sourceCodeLocation,c=l&&l.startTag&&Fa(l.startTag),u=l&&l.endTag&&Fa(l.endTag),d=Tv(t,a.content);c&&u&&t.file&&(d.position={start:c.end,end:u.start}),o.content=d}return t.schema=n,o}function Nh(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=Iq(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function Iq(t,e,n){const r=Fa(n);if(e.type==="element"){const i=e.children[e.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),t.verbose){const s={};let o;if(n.attrs)for(o in n.attrs)nR.call(n.attrs,o)&&(s[tv(t.schema,o).property]=Fa(n.attrs[o]));n.startTag;const a=Fa(n.startTag),l=n.endTag?Fa(n.endTag):void 0,c={opening:a};l&&(c.closing=l),c.properties=s,e.data={position:c}}}return r}function Fa(t){const e=sT({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=sT({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function sT(t){return t.line&&t.column?t:void 0}class Yu{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Yu.prototype.property={};Yu.prototype.normal={};Yu.prototype.space=null;function iR(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Yu(n,r,e)}function cy(t){return t.toLowerCase()}class pr{constructor(e,n){this.property=e,this.attribute=n}}pr.prototype.space=null;pr.prototype.boolean=!1;pr.prototype.booleanish=!1;pr.prototype.overloadedBoolean=!1;pr.prototype.number=!1;pr.prototype.commaSeparated=!1;pr.prototype.spaceSeparated=!1;pr.prototype.commaOrSpaceSeparated=!1;pr.prototype.mustUseProperty=!1;pr.prototype.defined=!1;let Dq=0;const Ee=ea(),bt=ea(),sR=ea(),re=ea(),$e=ea(),Qa=ea(),Un=ea();function ea(){return 2**++Dq}const uy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ee,booleanish:bt,commaOrSpaceSeparated:Un,commaSeparated:Qa,number:re,overloadedBoolean:sR,spaceSeparated:$e},Symbol.toStringTag,{value:"Module"})),pm=Object.keys(uy);class xv extends pr{constructor(e,n,r,i){let s=-1;if(super(e,n),oT(this,"space",i),typeof r=="number")for(;++s<pm.length;){const o=pm[s];oT(this,pm[s],(r&uy[o])===uy[o])}}}xv.prototype.defined=!0;function oT(t,e,n){n&&(t[e]=n)}const Pq={}.hasOwnProperty;function Wl(t){const e={},n={};let r;for(r in t.properties)if(Pq.call(t.properties,r)){const i=t.properties[r],s=new xv(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[cy(r)]=r,n[cy(s.attribute)]=r}return new Yu(e,n,t.space)}const oR=Wl({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),aR=Wl({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function lR(t,e){return e in t?t[e]:e}function cR(t,e){return lR(t,e.toLowerCase())}const uR=Wl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:cR,properties:{xmlns:null,xmlnsXLink:null}}),dR=Wl({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:bt,ariaAutoComplete:null,ariaBusy:bt,ariaChecked:bt,ariaColCount:re,ariaColIndex:re,ariaColSpan:re,ariaControls:$e,ariaCurrent:null,ariaDescribedBy:$e,ariaDetails:null,ariaDisabled:bt,ariaDropEffect:$e,ariaErrorMessage:null,ariaExpanded:bt,ariaFlowTo:$e,ariaGrabbed:bt,ariaHasPopup:null,ariaHidden:bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$e,ariaLevel:re,ariaLive:null,ariaModal:bt,ariaMultiLine:bt,ariaMultiSelectable:bt,ariaOrientation:null,ariaOwns:$e,ariaPlaceholder:null,ariaPosInSet:re,ariaPressed:bt,ariaReadOnly:bt,ariaRelevant:null,ariaRequired:bt,ariaRoleDescription:$e,ariaRowCount:re,ariaRowIndex:re,ariaRowSpan:re,ariaSelected:bt,ariaSetSize:re,ariaSort:null,ariaValueMax:re,ariaValueMin:re,ariaValueNow:re,ariaValueText:null,role:null}}),Mq=Wl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:cR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Qa,acceptCharset:$e,accessKey:$e,action:null,allow:null,allowFullScreen:Ee,allowPaymentRequest:Ee,allowUserMedia:Ee,alt:null,as:null,async:Ee,autoCapitalize:null,autoComplete:$e,autoFocus:Ee,autoPlay:Ee,blocking:$e,capture:null,charSet:null,checked:Ee,cite:null,className:$e,cols:re,colSpan:null,content:null,contentEditable:bt,controls:Ee,controlsList:$e,coords:re|Qa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ee,defer:Ee,dir:null,dirName:null,disabled:Ee,download:sR,draggable:bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ee,formTarget:null,headers:$e,height:re,hidden:Ee,high:re,href:null,hrefLang:null,htmlFor:$e,httpEquiv:$e,id:null,imageSizes:null,imageSrcSet:null,inert:Ee,inputMode:null,integrity:null,is:null,isMap:Ee,itemId:null,itemProp:$e,itemRef:$e,itemScope:Ee,itemType:$e,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ee,low:re,manifest:null,max:null,maxLength:re,media:null,method:null,min:null,minLength:re,multiple:Ee,muted:Ee,name:null,nonce:null,noModule:Ee,noValidate:Ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ee,optimum:re,pattern:null,ping:$e,placeholder:null,playsInline:Ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ee,referrerPolicy:null,rel:$e,required:Ee,reversed:Ee,rows:re,rowSpan:re,sandbox:$e,scope:null,scoped:Ee,seamless:Ee,selected:Ee,shadowRootClonable:Ee,shadowRootDelegatesFocus:Ee,shadowRootMode:null,shape:null,size:re,sizes:null,slot:null,span:re,spellCheck:bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:re,step:null,style:null,tabIndex:re,target:null,title:null,translate:null,type:null,typeMustMatch:Ee,useMap:null,value:bt,width:re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$e,axis:null,background:null,bgColor:null,border:re,borderColor:null,bottomMargin:re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ee,declare:Ee,event:null,face:null,frame:null,frameBorder:null,hSpace:re,leftMargin:re,link:null,longDesc:null,lowSrc:null,marginHeight:re,marginWidth:re,noResize:Ee,noHref:Ee,noShade:Ee,noWrap:Ee,object:null,profile:null,prompt:null,rev:null,rightMargin:re,rules:null,scheme:null,scrolling:bt,standby:null,summary:null,text:null,topMargin:re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ee,disableRemotePlayback:Ee,prefix:null,property:null,results:re,security:null,unselectable:null}}),Lq=Wl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:lR,properties:{about:Un,accentHeight:re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:re,amplitude:re,arabicForm:null,ascent:re,attributeName:null,attributeType:null,azimuth:re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:re,by:null,calcMode:null,capHeight:re,className:$e,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:re,diffuseConstant:re,direction:null,display:null,dur:null,divisor:re,dominantBaseline:null,download:Ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:re,enableBackground:null,end:null,event:null,exponent:re,externalResourcesRequired:null,fill:null,fillOpacity:re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Qa,g2:Qa,glyphName:Qa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:re,horizOriginX:re,horizOriginY:re,id:null,ideographic:re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:re,k:re,k1:re,k2:re,k3:re,k4:re,kernelMatrix:Un,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:re,overlineThickness:re,paintOrder:null,panose1:null,path:null,pathLength:re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$e,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:re,pointsAtY:re,pointsAtZ:re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Un,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Un,rev:Un,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Un,requiredFeatures:Un,requiredFonts:Un,requiredFormats:Un,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:re,specularExponent:re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:re,strikethroughThickness:re,string:null,stroke:null,strokeDashArray:Un,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:re,strokeOpacity:re,strokeWidth:null,style:null,surfaceScale:re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Un,tabIndex:re,tableValues:null,target:null,targetX:re,targetY:re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Un,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:re,underlineThickness:re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:re,values:null,vAlphabetic:re,vMathematical:re,vectorEffect:null,vHanging:re,vIdeographic:re,version:null,vertAdvY:re,vertOriginX:re,vertOriginY:re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Fq=/^data[-\w.:]+$/i,aT=/-[a-z]/g,Bq=/[A-Z]/g;function Uq(t,e){const n=cy(e);let r=e,i=pr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Fq.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(aT,Hq);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!aT.test(s)){let o=s.replace(Bq,jq);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=xv}return new i(r,e)}function jq(t){return"-"+t.toLowerCase()}function Hq(t){return t.charAt(1).toUpperCase()}const Wq=iR([aR,oR,uR,dR,Mq],"html"),hR=iR([aR,oR,uR,dR,Lq],"svg"),zq={},$q={}.hasOwnProperty,fR=nO("type",{handlers:{root:Yq,element:Qq,text:Kq,comment:Xq,doctype:qq}});function Gq(t,e){const r=(e||zq).space;return fR(t,r==="svg"?hR:Wq)}function Yq(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Sv(t.children,n,e),zl(t,n),n}function Vq(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Sv(t.children,n,e),zl(t,n),n}function qq(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return zl(t,e),e}function Kq(t){const e={nodeName:"#text",value:t.value,parentNode:null};return zl(t,e),e}function Xq(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return zl(t,e),e}function Qq(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=hR);const i=[];let s;if(t.properties){for(s in t.properties)if(s!=="children"&&$q.call(t.properties,s)){const l=Jq(r,s,t.properties[s]);l&&i.push(l)}}const o=r.space,a={nodeName:t.tagName,tagName:t.tagName,attrs:i,namespaceURI:xo[o],childNodes:[],parentNode:null};return a.childNodes=Sv(t.children,a,r),zl(t,a),t.tagName==="template"&&t.content&&(a.content=Vq(t.content,r)),a}function Jq(t,e,n){const r=Uq(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?g2(n):T2(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=i.name.indexOf(":");s<0?i.prefix="":(i.name=i.name.slice(s+1),i.prefix=r.attribute.slice(0,s)),i.namespace=xo[r.space]}return i}function Sv(t,e,n){let r=-1;const i=[];if(t)for(;++r<t.length;){const s=fR(t[r],n);s.parentNode=e,i.push(s)}return i}function zl(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const Zq=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],eK=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Qe="";var k;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(k||(k={}));const _n={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function pR(t){return t>=55296&&t<=57343}function tK(t){return t>=56320&&t<=57343}function nK(t,e){return(t-55296)*1024+9216+e}function gR(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function mR(t){return t>=64976&&t<=65007||eK.has(t)}var K;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(K||(K={}));const rK=65536;class iK{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=rK,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:i,offset:s}=this,o=i+n,a=s+n;return{code:e,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:a,endOffset:a}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(tK(n))return this.pos++,this._addGap(),nK(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,k.EOF;return this._err(K.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,k.EOF;const r=this.html.charCodeAt(n);return r===k.CARRIAGE_RETURN?k.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,k.EOF;let e=this.html.charCodeAt(this.pos);return e===k.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,k.LINE_FEED):e===k.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,pR(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===k.LINE_FEED||e===k.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){gR(e)?this._err(K.controlCharacterInInputStream):mR(e)&&this._err(K.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Se;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(Se||(Se={}));function yR(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const sK=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),oK=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function aK(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=oK.get(t))!==null&&e!==void 0?e:t}var Pt;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Pt||(Pt={}));const lK=32;var Ds;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Ds||(Ds={}));function dy(t){return t>=Pt.ZERO&&t<=Pt.NINE}function cK(t){return t>=Pt.UPPER_A&&t<=Pt.UPPER_F||t>=Pt.LOWER_A&&t<=Pt.LOWER_F}function uK(t){return t>=Pt.UPPER_A&&t<=Pt.UPPER_Z||t>=Pt.LOWER_A&&t<=Pt.LOWER_Z||dy(t)}function dK(t){return t===Pt.EQUALS||uK(t)}var It;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(It||(It={}));var Ni;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ni||(Ni={}));class hK{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=It.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ni.Strict}startEntity(e){this.decodeMode=e,this.state=It.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case It.EntityStart:return e.charCodeAt(n)===Pt.NUM?(this.state=It.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=It.NamedEntity,this.stateNamedEntity(e,n));case It.NumericStart:return this.stateNumericStart(e,n);case It.NumericDecimal:return this.stateNumericDecimal(e,n);case It.NumericHex:return this.stateNumericHex(e,n);case It.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|lK)===Pt.LOWER_X?(this.state=It.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=It.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+Number.parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(dy(i)||cK(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(dy(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Pt.SEMI)this.consumed+=1;else if(this.decodeMode===Ni.Strict)return 0;return this.emitCodePoint(aK(this.result),this.consumed),this.errors&&(e!==Pt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&Ds.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=fK(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Ni.Attribute&&(s===0||dK(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&Ds.VALUE_LENGTH)>>14,s!==0){if(o===Pt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ni.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&Ds.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~Ds.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case It.NamedEntity:return this.result!==0&&(this.decodeMode!==Ni.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case It.NumericDecimal:return this.emitNumericEntity(0,2);case It.NumericHex:return this.emitNumericEntity(0,3);case It.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case It.EntityStart:return 0}}}function fK(t,e,n,r){const i=(e&Ds.BRANCH_LENGTH)>>7,s=e&Ds.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:t[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,c=t[l];if(c<r)o=l+1;else if(c>r)a=l-1;else return t[l+i]}return-1}var J;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(J||(J={}));var Lo;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Lo||(Lo={}));var or;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(or||(or={}));var z;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(z||(z={}));var m;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(m||(m={}));const pK=new Map([[z.A,m.A],[z.ADDRESS,m.ADDRESS],[z.ANNOTATION_XML,m.ANNOTATION_XML],[z.APPLET,m.APPLET],[z.AREA,m.AREA],[z.ARTICLE,m.ARTICLE],[z.ASIDE,m.ASIDE],[z.B,m.B],[z.BASE,m.BASE],[z.BASEFONT,m.BASEFONT],[z.BGSOUND,m.BGSOUND],[z.BIG,m.BIG],[z.BLOCKQUOTE,m.BLOCKQUOTE],[z.BODY,m.BODY],[z.BR,m.BR],[z.BUTTON,m.BUTTON],[z.CAPTION,m.CAPTION],[z.CENTER,m.CENTER],[z.CODE,m.CODE],[z.COL,m.COL],[z.COLGROUP,m.COLGROUP],[z.DD,m.DD],[z.DESC,m.DESC],[z.DETAILS,m.DETAILS],[z.DIALOG,m.DIALOG],[z.DIR,m.DIR],[z.DIV,m.DIV],[z.DL,m.DL],[z.DT,m.DT],[z.EM,m.EM],[z.EMBED,m.EMBED],[z.FIELDSET,m.FIELDSET],[z.FIGCAPTION,m.FIGCAPTION],[z.FIGURE,m.FIGURE],[z.FONT,m.FONT],[z.FOOTER,m.FOOTER],[z.FOREIGN_OBJECT,m.FOREIGN_OBJECT],[z.FORM,m.FORM],[z.FRAME,m.FRAME],[z.FRAMESET,m.FRAMESET],[z.H1,m.H1],[z.H2,m.H2],[z.H3,m.H3],[z.H4,m.H4],[z.H5,m.H5],[z.H6,m.H6],[z.HEAD,m.HEAD],[z.HEADER,m.HEADER],[z.HGROUP,m.HGROUP],[z.HR,m.HR],[z.HTML,m.HTML],[z.I,m.I],[z.IMG,m.IMG],[z.IMAGE,m.IMAGE],[z.INPUT,m.INPUT],[z.IFRAME,m.IFRAME],[z.KEYGEN,m.KEYGEN],[z.LABEL,m.LABEL],[z.LI,m.LI],[z.LINK,m.LINK],[z.LISTING,m.LISTING],[z.MAIN,m.MAIN],[z.MALIGNMARK,m.MALIGNMARK],[z.MARQUEE,m.MARQUEE],[z.MATH,m.MATH],[z.MENU,m.MENU],[z.META,m.META],[z.MGLYPH,m.MGLYPH],[z.MI,m.MI],[z.MO,m.MO],[z.MN,m.MN],[z.MS,m.MS],[z.MTEXT,m.MTEXT],[z.NAV,m.NAV],[z.NOBR,m.NOBR],[z.NOFRAMES,m.NOFRAMES],[z.NOEMBED,m.NOEMBED],[z.NOSCRIPT,m.NOSCRIPT],[z.OBJECT,m.OBJECT],[z.OL,m.OL],[z.OPTGROUP,m.OPTGROUP],[z.OPTION,m.OPTION],[z.P,m.P],[z.PARAM,m.PARAM],[z.PLAINTEXT,m.PLAINTEXT],[z.PRE,m.PRE],[z.RB,m.RB],[z.RP,m.RP],[z.RT,m.RT],[z.RTC,m.RTC],[z.RUBY,m.RUBY],[z.S,m.S],[z.SCRIPT,m.SCRIPT],[z.SEARCH,m.SEARCH],[z.SECTION,m.SECTION],[z.SELECT,m.SELECT],[z.SOURCE,m.SOURCE],[z.SMALL,m.SMALL],[z.SPAN,m.SPAN],[z.STRIKE,m.STRIKE],[z.STRONG,m.STRONG],[z.STYLE,m.STYLE],[z.SUB,m.SUB],[z.SUMMARY,m.SUMMARY],[z.SUP,m.SUP],[z.TABLE,m.TABLE],[z.TBODY,m.TBODY],[z.TEMPLATE,m.TEMPLATE],[z.TEXTAREA,m.TEXTAREA],[z.TFOOT,m.TFOOT],[z.TD,m.TD],[z.TH,m.TH],[z.THEAD,m.THEAD],[z.TITLE,m.TITLE],[z.TR,m.TR],[z.TRACK,m.TRACK],[z.TT,m.TT],[z.U,m.U],[z.UL,m.UL],[z.SVG,m.SVG],[z.VAR,m.VAR],[z.WBR,m.WBR],[z.XMP,m.XMP]]);function $l(t){var e;return(e=pK.get(t))!==null&&e!==void 0?e:m.UNKNOWN}const Z=m,gK={[J.HTML]:new Set([Z.ADDRESS,Z.APPLET,Z.AREA,Z.ARTICLE,Z.ASIDE,Z.BASE,Z.BASEFONT,Z.BGSOUND,Z.BLOCKQUOTE,Z.BODY,Z.BR,Z.BUTTON,Z.CAPTION,Z.CENTER,Z.COL,Z.COLGROUP,Z.DD,Z.DETAILS,Z.DIR,Z.DIV,Z.DL,Z.DT,Z.EMBED,Z.FIELDSET,Z.FIGCAPTION,Z.FIGURE,Z.FOOTER,Z.FORM,Z.FRAME,Z.FRAMESET,Z.H1,Z.H2,Z.H3,Z.H4,Z.H5,Z.H6,Z.HEAD,Z.HEADER,Z.HGROUP,Z.HR,Z.HTML,Z.IFRAME,Z.IMG,Z.INPUT,Z.LI,Z.LINK,Z.LISTING,Z.MAIN,Z.MARQUEE,Z.MENU,Z.META,Z.NAV,Z.NOEMBED,Z.NOFRAMES,Z.NOSCRIPT,Z.OBJECT,Z.OL,Z.P,Z.PARAM,Z.PLAINTEXT,Z.PRE,Z.SCRIPT,Z.SECTION,Z.SELECT,Z.SOURCE,Z.STYLE,Z.SUMMARY,Z.TABLE,Z.TBODY,Z.TD,Z.TEMPLATE,Z.TEXTAREA,Z.TFOOT,Z.TH,Z.THEAD,Z.TITLE,Z.TR,Z.TRACK,Z.UL,Z.WBR,Z.XMP]),[J.MATHML]:new Set([Z.MI,Z.MO,Z.MN,Z.MS,Z.MTEXT,Z.ANNOTATION_XML]),[J.SVG]:new Set([Z.TITLE,Z.FOREIGN_OBJECT,Z.DESC]),[J.XLINK]:new Set,[J.XML]:new Set,[J.XMLNS]:new Set},hy=new Set([Z.H1,Z.H2,Z.H3,Z.H4,Z.H5,Z.H6]);z.STYLE,z.SCRIPT,z.XMP,z.IFRAME,z.NOEMBED,z.NOFRAMES,z.PLAINTEXT;var R;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(R||(R={}));const ft={DATA:R.DATA,RCDATA:R.RCDATA,RAWTEXT:R.RAWTEXT,SCRIPT_DATA:R.SCRIPT_DATA,PLAINTEXT:R.PLAINTEXT,CDATA_SECTION:R.CDATA_SECTION};function mK(t){return t>=k.DIGIT_0&&t<=k.DIGIT_9}function yc(t){return t>=k.LATIN_CAPITAL_A&&t<=k.LATIN_CAPITAL_Z}function yK(t){return t>=k.LATIN_SMALL_A&&t<=k.LATIN_SMALL_Z}function ms(t){return yK(t)||yc(t)}function lT(t){return ms(t)||mK(t)}function ah(t){return t+32}function bR(t){return t===k.SPACE||t===k.LINE_FEED||t===k.TABULATION||t===k.FORM_FEED}function cT(t){return bR(t)||t===k.SOLIDUS||t===k.GREATER_THAN_SIGN}function bK(t){return t===k.NULL?K.nullCharacterReference:t>1114111?K.characterReferenceOutsideUnicodeRange:pR(t)?K.surrogateCharacterReference:mR(t)?K.noncharacterCharacterReference:gR(t)||t===k.CARRIAGE_RETURN?K.controlCharacterReference:null}class vK{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=R.DATA,this.returnState=R.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new iK(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new hK(sK,(r,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(K.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(K.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const i=bK(r);i&&this._err(i,1)}}:void 0)}_err(e,n=0){var r,i;(i=(r=this.handler).onParseError)===null||i===void 0||i.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e==null||e())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Se.START_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Se.END_TAG,tagName:"",tagID:m.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:Se.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:Se.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(yR(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(K.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=$l(e.tagName),e.type===Se.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(K.endTagWithAttributes),e.selfClosing&&this._err(K.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case Se.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Se.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Se.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:Se.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=bR(e)?Se.WHITESPACE_CHARACTER:e===k.NULL?Se.NULL_CHARACTER:Se.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(Se.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=R.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ni.Attribute:Ni.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===R.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===R.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case R.DATA:{this._stateData(e);break}case R.RCDATA:{this._stateRcdata(e);break}case R.RAWTEXT:{this._stateRawtext(e);break}case R.SCRIPT_DATA:{this._stateScriptData(e);break}case R.PLAINTEXT:{this._statePlaintext(e);break}case R.TAG_OPEN:{this._stateTagOpen(e);break}case R.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case R.TAG_NAME:{this._stateTagName(e);break}case R.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case R.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case R.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case R.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case R.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case R.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case R.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case R.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case R.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case R.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case R.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case R.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case R.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case R.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case R.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case R.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case R.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case R.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case R.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case R.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case R.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case R.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case R.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case R.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case R.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case R.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case R.BOGUS_COMMENT:{this._stateBogusComment(e);break}case R.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case R.COMMENT_START:{this._stateCommentStart(e);break}case R.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case R.COMMENT:{this._stateComment(e);break}case R.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case R.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case R.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case R.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case R.COMMENT_END:{this._stateCommentEnd(e);break}case R.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case R.DOCTYPE:{this._stateDoctype(e);break}case R.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case R.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case R.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case R.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case R.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case R.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case R.CDATA_SECTION:{this._stateCdataSection(e);break}case R.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case R.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case R.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case R.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case k.LESS_THAN_SIGN:{this.state=R.TAG_OPEN;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(K.unexpectedNullCharacter),this._emitCodePoint(e);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case k.AMPERSAND:{this._startCharacterReference();break}case k.LESS_THAN_SIGN:{this.state=R.RCDATA_LESS_THAN_SIGN;break}case k.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(Qe);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case k.LESS_THAN_SIGN:{this.state=R.RAWTEXT_LESS_THAN_SIGN;break}case k.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(Qe);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case k.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_LESS_THAN_SIGN;break}case k.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(Qe);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case k.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(Qe);break}case k.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(ms(e))this._createStartTagToken(),this.state=R.TAG_NAME,this._stateTagName(e);else switch(e){case k.EXCLAMATION_MARK:{this.state=R.MARKUP_DECLARATION_OPEN;break}case k.SOLIDUS:{this.state=R.END_TAG_OPEN;break}case k.QUESTION_MARK:{this._err(K.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=R.BOGUS_COMMENT,this._stateBogusComment(e);break}case k.EOF:{this._err(K.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=R.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(ms(e))this._createEndTagToken(),this.state=R.TAG_NAME,this._stateTagName(e);else switch(e){case k.GREATER_THAN_SIGN:{this._err(K.missingEndTagName),this.state=R.DATA;break}case k.EOF:{this._err(K.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(K.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=R.BEFORE_ATTRIBUTE_NAME;break}case k.SOLIDUS:{this.state=R.SELF_CLOSING_START_TAG;break}case k.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentTagToken();break}case k.NULL:{this._err(K.unexpectedNullCharacter),n.tagName+=Qe;break}case k.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(yc(e)?ah(e):e)}}_stateRcdataLessThanSign(e){e===k.SOLIDUS?this.state=R.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){ms(e)?(this.state=R.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=R.BEFORE_ATTRIBUTE_NAME,!1;case k.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=R.SELF_CLOSING_START_TAG,!1;case k.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=R.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=R.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===k.SOLIDUS?this.state=R.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=R.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){ms(e)?(this.state=R.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=R.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case k.SOLIDUS:{this.state=R.SCRIPT_DATA_END_TAG_OPEN;break}case k.EXCLAMATION_MARK:{this.state=R.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=R.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){ms(e)?(this.state=R.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===k.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===k.HYPHEN_MINUS?(this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=R.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case k.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(Qe);break}case k.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case k.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.NULL:{this._err(K.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case k.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case k.HYPHEN_MINUS:{this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case k.GREATER_THAN_SIGN:{this.state=R.SCRIPT_DATA,this._emitChars(">");break}case k.NULL:{this._err(K.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_ESCAPED,this._emitChars(Qe);break}case k.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===k.SOLIDUS?this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ms(e)?(this._emitChars("<"),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){ms(e)?(this.state=R.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(_n.SCRIPT,!1)&&cT(this.preprocessor.peek(_n.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<_n.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case k.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.NULL:{this._err(K.unexpectedNullCharacter),this._emitChars(Qe);break}case k.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case k.HYPHEN_MINUS:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.NULL:{this._err(K.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case k.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case k.HYPHEN_MINUS:{this._emitChars("-");break}case k.LESS_THAN_SIGN:{this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case k.GREATER_THAN_SIGN:{this.state=R.SCRIPT_DATA,this._emitChars(">");break}case k.NULL:{this._err(K.unexpectedNullCharacter),this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Qe);break}case k.EOF:{this._err(K.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===k.SOLIDUS?(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(_n.SCRIPT,!1)&&cT(this.preprocessor.peek(_n.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<_n.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=R.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=R.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.SOLIDUS:case k.GREATER_THAN_SIGN:case k.EOF:{this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case k.EQUALS_SIGN:{this._err(K.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=R.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:case k.SOLIDUS:case k.GREATER_THAN_SIGN:case k.EOF:{this._leaveAttrName(),this.state=R.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case k.EQUALS_SIGN:{this._leaveAttrName(),this.state=R.BEFORE_ATTRIBUTE_VALUE;break}case k.QUOTATION_MARK:case k.APOSTROPHE:case k.LESS_THAN_SIGN:{this._err(K.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case k.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.name+=Qe;break}default:this.currentAttr.name+=String.fromCodePoint(yc(e)?ah(e):e)}}_stateAfterAttributeName(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.SOLIDUS:{this.state=R.SELF_CLOSING_START_TAG;break}case k.EQUALS_SIGN:{this.state=R.BEFORE_ATTRIBUTE_VALUE;break}case k.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=R.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{this.state=R.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this.state=R.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(K.missingAttributeValue),this.state=R.DATA,this.emitCurrentTagToken();break}default:this.state=R.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case k.QUOTATION_MARK:{this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case k.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case k.APOSTROPHE:{this.state=R.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case k.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break}case k.AMPERSAND:{this._startCharacterReference();break}case k.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break}case k.NULL:{this._err(K.unexpectedNullCharacter),this.currentAttr.value+=Qe;break}case k.QUOTATION_MARK:case k.APOSTROPHE:case k.LESS_THAN_SIGN:case k.EQUALS_SIGN:case k.GRAVE_ACCENT:{this._err(K.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case k.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this._leaveAttrValue(),this.state=R.BEFORE_ATTRIBUTE_NAME;break}case k.SOLIDUS:{this._leaveAttrValue(),this.state=R.SELF_CLOSING_START_TAG;break}case k.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=R.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBetweenAttributes),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case k.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=R.DATA,this.emitCurrentTagToken();break}case k.EOF:{this._err(K.eofInTag),this._emitEOFToken();break}default:this._err(K.unexpectedSolidusInTag),this.state=R.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case k.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentComment(n);break}case k.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case k.NULL:{this._err(K.unexpectedNullCharacter),n.data+=Qe;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(_n.DASH_DASH,!0)?(this._createCommentToken(_n.DASH_DASH.length+1),this.state=R.COMMENT_START):this._consumeSequenceIfMatch(_n.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(_n.DOCTYPE.length+1),this.state=R.DOCTYPE):this._consumeSequenceIfMatch(_n.CDATA_START,!0)?this.inForeignNode?this.state=R.CDATA_SECTION:(this._err(K.cdataInHtmlContent),this._createCommentToken(_n.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=R.BOGUS_COMMENT):this._ensureHibernation()||(this._err(K.incorrectlyOpenedComment),this._createCommentToken(2),this.state=R.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case k.HYPHEN_MINUS:{this.state=R.COMMENT_START_DASH;break}case k.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=R.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=R.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case k.HYPHEN_MINUS:{this.state=R.COMMENT_END;break}case k.GREATER_THAN_SIGN:{this._err(K.abruptClosingOfEmptyComment),this.state=R.DATA,this.emitCurrentComment(n);break}case k.EOF:{this._err(K.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=R.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case k.HYPHEN_MINUS:{this.state=R.COMMENT_END_DASH;break}case k.LESS_THAN_SIGN:{n.data+="<",this.state=R.COMMENT_LESS_THAN_SIGN;break}case k.NULL:{this._err(K.unexpectedNullCharacter),n.data+=Qe;break}case k.EOF:{this._err(K.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case k.EXCLAMATION_MARK:{n.data+="!",this.state=R.COMMENT_LESS_THAN_SIGN_BANG;break}case k.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=R.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===k.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=R.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===k.HYPHEN_MINUS?this.state=R.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=R.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==k.GREATER_THAN_SIGN&&e!==k.EOF&&this._err(K.nestedComment),this.state=R.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case k.HYPHEN_MINUS:{this.state=R.COMMENT_END;break}case k.EOF:{this._err(K.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=R.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case k.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentComment(n);break}case k.EXCLAMATION_MARK:{this.state=R.COMMENT_END_BANG;break}case k.HYPHEN_MINUS:{n.data+="-";break}case k.EOF:{this._err(K.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=R.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case k.HYPHEN_MINUS:{n.data+="--!",this.state=R.COMMENT_END_DASH;break}case k.GREATER_THAN_SIGN:{this._err(K.incorrectlyClosedComment),this.state=R.DATA,this.emitCurrentComment(n);break}case k.EOF:{this._err(K.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=R.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case k.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(K.missingWhitespaceBeforeDoctypeName),this.state=R.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(yc(e))this._createDoctypeToken(String.fromCharCode(ah(e))),this.state=R.DOCTYPE_NAME;else switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.NULL:{this._err(K.unexpectedNullCharacter),this._createDoctypeToken(Qe),this.state=R.DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this._err(K.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case k.EOF:{this._err(K.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=R.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=R.AFTER_DOCTYPE_NAME;break}case k.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case k.NULL:{this._err(K.unexpectedNullCharacter),n.name+=Qe;break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(yc(e)?ah(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(_n.PUBLIC,!1)?this.state=R.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(_n.SYSTEM,!1)?this.state=R.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(K.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.publicId="",this.state=R.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(K.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case k.QUOTATION_MARK:{this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.NULL:{this._err(K.unexpectedNullCharacter),n.publicId+=Qe;break}case k.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case k.APOSTROPHE:{this.state=R.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case k.NULL:{this._err(K.unexpectedNullCharacter),n.publicId+=Qe;break}case k.GREATER_THAN_SIGN:{this._err(K.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=R.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case k.GREATER_THAN_SIGN:{this.state=R.DATA,this.emitCurrentDoctype(n);break}case k.QUOTATION_MARK:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(K.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case k.QUOTATION_MARK:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:{this.state=R.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.QUOTATION_MARK:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{this._err(K.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.QUOTATION_MARK:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case k.APOSTROPHE:{n.systemId="",this.state=R.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case k.GREATER_THAN_SIGN:{this._err(K.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.DATA,this.emitCurrentDoctype(n);break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(K.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case k.QUOTATION_MARK:{this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.NULL:{this._err(K.unexpectedNullCharacter),n.systemId+=Qe;break}case k.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case k.APOSTROPHE:{this.state=R.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case k.NULL:{this._err(K.unexpectedNullCharacter),n.systemId+=Qe;break}case k.GREATER_THAN_SIGN:{this._err(K.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=R.DATA;break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case k.SPACE:case k.LINE_FEED:case k.TABULATION:case k.FORM_FEED:break;case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case k.EOF:{this._err(K.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(K.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=R.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case k.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=R.DATA;break}case k.NULL:{this._err(K.unexpectedNullCharacter);break}case k.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case k.RIGHT_SQUARE_BRACKET:{this.state=R.CDATA_SECTION_BRACKET;break}case k.EOF:{this._err(K.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===k.RIGHT_SQUARE_BRACKET?this.state=R.CDATA_SECTION_END:(this._emitChars("]"),this.state=R.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case k.GREATER_THAN_SIGN:{this.state=R.DATA;break}case k.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=R.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(k.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&lT(this.preprocessor.peek(1))?R.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){lT(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===k.SEMICOLON&&this._err(K.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const vR=new Set([m.DD,m.DT,m.LI,m.OPTGROUP,m.OPTION,m.P,m.RB,m.RP,m.RT,m.RTC]),uT=new Set([...vR,m.CAPTION,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]),If=new Set([m.APPLET,m.CAPTION,m.HTML,m.MARQUEE,m.OBJECT,m.TABLE,m.TD,m.TEMPLATE,m.TH]),_K=new Set([...If,m.OL,m.UL]),EK=new Set([...If,m.BUTTON]),dT=new Set([m.ANNOTATION_XML,m.MI,m.MN,m.MO,m.MS,m.MTEXT]),hT=new Set([m.DESC,m.FOREIGN_OBJECT,m.TITLE]),wK=new Set([m.TR,m.TEMPLATE,m.HTML]),TK=new Set([m.TBODY,m.TFOOT,m.THEAD,m.TEMPLATE,m.HTML]),xK=new Set([m.TABLE,m.TEMPLATE,m.HTML]),SK=new Set([m.TD,m.TH]);class CK{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=m.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===m.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===J.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const i=this._indexOf(e)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==J.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(hy,J.HTML)}popUntilTableCellPopped(){this.popUntilPopped(SK,J.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(xK,J.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TK,J.HTML)}clearBackToTableRowContext(){this.clearBackTo(wK,J.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===m.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===m.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const i=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case J.HTML:{if(i===e)return!0;if(n.has(i))return!1;break}case J.SVG:{if(hT.has(i))return!1;break}case J.MATHML:{if(dT.has(i))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,If)}hasInListItemScope(e){return this.hasInDynamicScope(e,_K)}hasInButtonScope(e){return this.hasInDynamicScope(e,EK)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case J.HTML:{if(hy.has(n))return!0;if(If.has(n))return!1;break}case J.SVG:{if(hT.has(n))return!1;break}case J.MATHML:{if(dT.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===J.HTML)switch(this.tagIDs[n]){case e:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===J.HTML)switch(this.tagIDs[e]){case m.TBODY:case m.THEAD:case m.TFOOT:return!0;case m.TABLE:case m.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===J.HTML)switch(this.tagIDs[n]){case e:return!0;case m.OPTION:case m.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&vR.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&uT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&uT.has(this.currentTagId);)this.pop()}}const gm=3;var ri;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(ri||(ri={}));const fT={type:ri.Marker};class kK{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],i=n.length,s=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);for(let a=0;a<this.entries.length;a++){const l=this.entries[a];if(l.type===ri.Marker)break;const{element:c}=l;if(this.treeAdapter.getTagName(c)===s&&this.treeAdapter.getNamespaceURI(c)===o){const u=this.treeAdapter.getAttrList(c);u.length===i&&r.push({idx:a,attrs:u})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<gm)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<gm)return;const i=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<r.length;o++){const a=r[o];a.attrs.every(l=>i.get(l.name)===l.value)&&(s+=1,s>=gm&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(fT)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:ri.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:ri.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(fT);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===ri.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===ri.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===ri.Element&&n.element===e)}}const ys={createDocument(){return{nodeName:"#document",mode:or.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const i=t.childNodes.find(s=>s.nodeName==="#documentType");if(i)i.name=e,i.publicId=n,i.systemId=r;else{const s={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};ys.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(ys.isTextNode(n)){n.value+=e;return}}ys.appendChild(t,ys.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&ys.isTextNode(r)?r.value+=e:ys.insertBefore(t,ys.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},_R="html",AK="about:legacy-compat",OK="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",ER=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],RK=[...ER,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],NK=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),wR=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],IK=[...wR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function pT(t,e){return e.some(n=>t.startsWith(n))}function DK(t){return t.name===_R&&t.publicId===null&&(t.systemId===null||t.systemId===AK)}function PK(t){if(t.name!==_R)return or.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===OK)return or.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),NK.has(n))return or.QUIRKS;let r=e===null?RK:ER;if(pT(n,r))return or.QUIRKS;if(r=e===null?wR:IK,pT(n,r))return or.LIMITED_QUIRKS}return or.NO_QUIRKS}const gT={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},MK="definitionurl",LK="definitionURL",FK=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),BK=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:J.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:J.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:J.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:J.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:J.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:J.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:J.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:J.XML}],["xml:space",{prefix:"xml",name:"space",namespace:J.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:J.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:J.XMLNS}]]),UK=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),jK=new Set([m.B,m.BIG,m.BLOCKQUOTE,m.BODY,m.BR,m.CENTER,m.CODE,m.DD,m.DIV,m.DL,m.DT,m.EM,m.EMBED,m.H1,m.H2,m.H3,m.H4,m.H5,m.H6,m.HEAD,m.HR,m.I,m.IMG,m.LI,m.LISTING,m.MENU,m.META,m.NOBR,m.OL,m.P,m.PRE,m.RUBY,m.S,m.SMALL,m.SPAN,m.STRONG,m.STRIKE,m.SUB,m.SUP,m.TABLE,m.TT,m.U,m.UL,m.VAR]);function HK(t){const e=t.tagID;return e===m.FONT&&t.attrs.some(({name:r})=>r===Lo.COLOR||r===Lo.SIZE||r===Lo.FACE)||jK.has(e)}function TR(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===MK){t.attrs[e].name=LK;break}}function xR(t){for(let e=0;e<t.attrs.length;e++){const n=FK.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function Cv(t){for(let e=0;e<t.attrs.length;e++){const n=BK.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function WK(t){const e=UK.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=$l(t.tagName))}function zK(t,e){return e===J.MATHML&&(t===m.MI||t===m.MO||t===m.MN||t===m.MS||t===m.MTEXT)}function $K(t,e,n){if(e===J.MATHML&&t===m.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Lo.ENCODING){const i=n[r].value.toLowerCase();return i===gT.TEXT_HTML||i===gT.APPLICATION_XML}}return e===J.SVG&&(t===m.FOREIGN_OBJECT||t===m.DESC||t===m.TITLE)}function GK(t,e,n,r){return(!r||r===J.HTML)&&$K(t,e,n)||(!r||r===J.MATHML)&&zK(t,e)}const YK="hidden",VK=8,qK=3;var P;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(P||(P={}));const KK={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},SR=new Set([m.TABLE,m.TBODY,m.TFOOT,m.THEAD,m.TR]),mT={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ys,onParseError:null};class yT{constructor(e,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=P.INITIAL,this.originalInsertionMode=P.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...mT,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new vK(this.options,this),this.activeFormattingElements=new kK(this.treeAdapter),this.fragmentContextID=r?$l(this.treeAdapter.getTagName(r)):m.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new CK(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...mT,...n};e??(e=r.treeAdapter.createElement(z.TEMPLATE,J.HTML,[]));const i=r.treeAdapter.createElement("documentmock",J.HTML,[]),s=new this(r,i,e);return s.fragmentContextID===m.TEMPLATE&&s.tmplInsertionModeStack.unshift(P.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var i;if(!this.onParseError)return;const s=(i=e.location)!==null&&i!==void 0?i:KK,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(e,n,r){var i,s;(s=(i=this.treeAdapter).onItemPush)===null||s===void 0||s.call(i,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,e,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===J.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,J.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=P.TEXT}switchToPlaintextParsing(){this.insertionMode=P.TEXT,this.originalInsertionMode=P.IN_BODY,this.tokenizer.state=ft.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===z.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==J.HTML))switch(this.fragmentContextID){case m.TITLE:case m.TEXTAREA:{this.tokenizer.state=ft.RCDATA;break}case m.STYLE:case m.XMP:case m.IFRAME:case m.NOEMBED:case m.NOFRAMES:case m.NOSCRIPT:{this.tokenizer.state=ft.RAWTEXT;break}case m.SCRIPT:{this.tokenizer.state=ft.SCRIPT_DATA;break}case m.PLAINTEXT:{this.tokenizer.state=ft.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",i=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),e.location){const o=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));o&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,J.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,J.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(z.HTML,J.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,m.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const i=this.treeAdapter.getChildNodes(n),s=r?i.lastIndexOf(r):i.length,o=i[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:l,endCol:c,endOffset:u}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:l,endCol:c,endOffset:u})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(e),s=n.type===Se.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===m.SVG&&this.treeAdapter.getTagName(n)===z.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===J.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===m.MGLYPH||e.tagID===m.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,J.HTML)}_processToken(e){switch(e.type){case Se.CHARACTER:{this.onCharacter(e);break}case Se.NULL_CHARACTER:{this.onNullCharacter(e);break}case Se.COMMENT:{this.onComment(e);break}case Se.DOCTYPE:{this.onDoctype(e);break}case Se.START_TAG:{this._processStartTag(e);break}case Se.END_TAG:{this.onEndTag(e);break}case Se.EOF:{this.onEof(e);break}case Se.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const i=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return GK(e,i,s,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===ri.Marker||this.openElements.contains(i.element)),r=n===-1?e-1:n-1;for(let i=r;i>=0;i--){const s=this.activeFormattingElements.entries[i];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=P.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(m.P),this.openElements.popUntilTagNamePopped(m.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case m.TR:{this.insertionMode=P.IN_ROW;return}case m.TBODY:case m.THEAD:case m.TFOOT:{this.insertionMode=P.IN_TABLE_BODY;return}case m.CAPTION:{this.insertionMode=P.IN_CAPTION;return}case m.COLGROUP:{this.insertionMode=P.IN_COLUMN_GROUP;return}case m.TABLE:{this.insertionMode=P.IN_TABLE;return}case m.BODY:{this.insertionMode=P.IN_BODY;return}case m.FRAMESET:{this.insertionMode=P.IN_FRAMESET;return}case m.SELECT:{this._resetInsertionModeForSelect(e);return}case m.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case m.HTML:{this.insertionMode=this.headElement?P.AFTER_HEAD:P.BEFORE_HEAD;return}case m.TD:case m.TH:{if(e>0){this.insertionMode=P.IN_CELL;return}break}case m.HEAD:{if(e>0){this.insertionMode=P.IN_HEAD;return}break}}this.insertionMode=P.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===m.TEMPLATE)break;if(r===m.TABLE){this.insertionMode=P.IN_SELECT_IN_TABLE;return}}this.insertionMode=P.IN_SELECT}_isElementCausesFosterParenting(e){return SR.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case m.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===J.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case m.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return gK[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){SQ(this,e);return}switch(this.insertionMode){case P.INITIAL:{cc(this,e);break}case P.BEFORE_HTML:{Bc(this,e);break}case P.BEFORE_HEAD:{Uc(this,e);break}case P.IN_HEAD:{jc(this,e);break}case P.IN_HEAD_NO_SCRIPT:{Hc(this,e);break}case P.AFTER_HEAD:{Wc(this,e);break}case P.IN_BODY:case P.IN_CAPTION:case P.IN_CELL:case P.IN_TEMPLATE:{kR(this,e);break}case P.TEXT:case P.IN_SELECT:case P.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case P.IN_TABLE:case P.IN_TABLE_BODY:case P.IN_ROW:{mm(this,e);break}case P.IN_TABLE_TEXT:{DR(this,e);break}case P.IN_COLUMN_GROUP:{Df(this,e);break}case P.AFTER_BODY:{Pf(this,e);break}case P.AFTER_AFTER_BODY:{Ih(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){xQ(this,e);return}switch(this.insertionMode){case P.INITIAL:{cc(this,e);break}case P.BEFORE_HTML:{Bc(this,e);break}case P.BEFORE_HEAD:{Uc(this,e);break}case P.IN_HEAD:{jc(this,e);break}case P.IN_HEAD_NO_SCRIPT:{Hc(this,e);break}case P.AFTER_HEAD:{Wc(this,e);break}case P.TEXT:{this._insertCharacters(e);break}case P.IN_TABLE:case P.IN_TABLE_BODY:case P.IN_ROW:{mm(this,e);break}case P.IN_COLUMN_GROUP:{Df(this,e);break}case P.AFTER_BODY:{Pf(this,e);break}case P.AFTER_AFTER_BODY:{Ih(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){fy(this,e);return}switch(this.insertionMode){case P.INITIAL:case P.BEFORE_HTML:case P.BEFORE_HEAD:case P.IN_HEAD:case P.IN_HEAD_NO_SCRIPT:case P.AFTER_HEAD:case P.IN_BODY:case P.IN_TABLE:case P.IN_CAPTION:case P.IN_COLUMN_GROUP:case P.IN_TABLE_BODY:case P.IN_ROW:case P.IN_CELL:case P.IN_SELECT:case P.IN_SELECT_IN_TABLE:case P.IN_TEMPLATE:case P.IN_FRAMESET:case P.AFTER_FRAMESET:{fy(this,e);break}case P.IN_TABLE_TEXT:{uc(this,e);break}case P.AFTER_BODY:{nX(this,e);break}case P.AFTER_AFTER_BODY:case P.AFTER_AFTER_FRAMESET:{rX(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case P.INITIAL:{iX(this,e);break}case P.BEFORE_HEAD:case P.IN_HEAD:case P.IN_HEAD_NO_SCRIPT:case P.AFTER_HEAD:{this._err(e,K.misplacedDoctype);break}case P.IN_TABLE_TEXT:{uc(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,K.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?CQ(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case P.INITIAL:{cc(this,e);break}case P.BEFORE_HTML:{sX(this,e);break}case P.BEFORE_HEAD:{aX(this,e);break}case P.IN_HEAD:{Yr(this,e);break}case P.IN_HEAD_NO_SCRIPT:{uX(this,e);break}case P.AFTER_HEAD:{hX(this,e);break}case P.IN_BODY:{en(this,e);break}case P.IN_TABLE:{_l(this,e);break}case P.IN_TABLE_TEXT:{uc(this,e);break}case P.IN_CAPTION:{lQ(this,e);break}case P.IN_COLUMN_GROUP:{Ov(this,e);break}case P.IN_TABLE_BODY:{jp(this,e);break}case P.IN_ROW:{Hp(this,e);break}case P.IN_CELL:{dQ(this,e);break}case P.IN_SELECT:{LR(this,e);break}case P.IN_SELECT_IN_TABLE:{fQ(this,e);break}case P.IN_TEMPLATE:{gQ(this,e);break}case P.AFTER_BODY:{yQ(this,e);break}case P.IN_FRAMESET:{bQ(this,e);break}case P.AFTER_FRAMESET:{_Q(this,e);break}case P.AFTER_AFTER_BODY:{wQ(this,e);break}case P.AFTER_AFTER_FRAMESET:{TQ(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?kQ(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case P.INITIAL:{cc(this,e);break}case P.BEFORE_HTML:{oX(this,e);break}case P.BEFORE_HEAD:{lX(this,e);break}case P.IN_HEAD:{cX(this,e);break}case P.IN_HEAD_NO_SCRIPT:{dX(this,e);break}case P.AFTER_HEAD:{fX(this,e);break}case P.IN_BODY:{Up(this,e);break}case P.TEXT:{JX(this,e);break}case P.IN_TABLE:{Su(this,e);break}case P.IN_TABLE_TEXT:{uc(this,e);break}case P.IN_CAPTION:{cQ(this,e);break}case P.IN_COLUMN_GROUP:{uQ(this,e);break}case P.IN_TABLE_BODY:{py(this,e);break}case P.IN_ROW:{MR(this,e);break}case P.IN_CELL:{hQ(this,e);break}case P.IN_SELECT:{FR(this,e);break}case P.IN_SELECT_IN_TABLE:{pQ(this,e);break}case P.IN_TEMPLATE:{mQ(this,e);break}case P.AFTER_BODY:{UR(this,e);break}case P.IN_FRAMESET:{vQ(this,e);break}case P.AFTER_FRAMESET:{EQ(this,e);break}case P.AFTER_AFTER_BODY:{Ih(this,e);break}}}onEof(e){switch(this.insertionMode){case P.INITIAL:{cc(this,e);break}case P.BEFORE_HTML:{Bc(this,e);break}case P.BEFORE_HEAD:{Uc(this,e);break}case P.IN_HEAD:{jc(this,e);break}case P.IN_HEAD_NO_SCRIPT:{Hc(this,e);break}case P.AFTER_HEAD:{Wc(this,e);break}case P.IN_BODY:case P.IN_TABLE:case P.IN_CAPTION:case P.IN_COLUMN_GROUP:case P.IN_TABLE_BODY:case P.IN_ROW:case P.IN_CELL:case P.IN_SELECT:case P.IN_SELECT_IN_TABLE:{NR(this,e);break}case P.TEXT:{ZX(this,e);break}case P.IN_TABLE_TEXT:{uc(this,e);break}case P.IN_TEMPLATE:{BR(this,e);break}case P.AFTER_BODY:case P.IN_FRAMESET:case P.AFTER_FRAMESET:case P.AFTER_AFTER_BODY:case P.AFTER_AFTER_FRAMESET:{Av(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===k.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case P.IN_HEAD:case P.IN_HEAD_NO_SCRIPT:case P.AFTER_HEAD:case P.TEXT:case P.IN_COLUMN_GROUP:case P.IN_SELECT:case P.IN_SELECT_IN_TABLE:case P.IN_FRAMESET:case P.AFTER_FRAMESET:{this._insertCharacters(e);break}case P.IN_BODY:case P.IN_CAPTION:case P.IN_CELL:case P.IN_TEMPLATE:case P.AFTER_BODY:case P.AFTER_AFTER_BODY:case P.AFTER_AFTER_FRAMESET:{CR(this,e);break}case P.IN_TABLE:case P.IN_TABLE_BODY:case P.IN_ROW:{mm(this,e);break}case P.IN_TABLE_TEXT:{IR(this,e);break}}}}function XK(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):RR(t,e),n}function QK(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const i=t.openElements.items[r];if(i===e.element)break;t._isSpecialElement(i,t.openElements.tagIDs[r])&&(n=i)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function JK(t,e,n){let r=e,i=t.openElements.getCommonAncestor(e);for(let s=0,o=i;o!==n;s++,o=i){i=t.openElements.getCommonAncestor(o);const a=t.activeFormattingElements.getElementEntry(o),l=a&&s>=qK;!a||l?(l&&t.activeFormattingElements.removeEntry(a),t.openElements.remove(o)):(o=ZK(t,a),r===e&&(t.activeFormattingElements.bookmark=a),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(o,r),r=o)}return r}function ZK(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function eX(t,e,n){const r=t.treeAdapter.getTagName(e),i=$l(r);if(t._isElementCausesFosterParenting(i))t._fosterParentElement(n);else{const s=t.treeAdapter.getNamespaceURI(e);i===m.TEMPLATE&&s===J.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function tX(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=t.treeAdapter.createElement(i.tagName,r,i.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,i),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,s,i.tagID)}function kv(t,e){for(let n=0;n<VK;n++){const r=XK(t,e);if(!r)break;const i=QK(t,r);if(!i)break;t.activeFormattingElements.bookmark=r;const s=JK(t,i,r.element),o=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(s),o&&eX(t,o,s),tX(t,i,r)}}function fy(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function nX(t,e){t._appendCommentNode(e,t.openElements.items[0])}function rX(t,e){t._appendCommentNode(e,t.document)}function Av(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],i=t.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],o=t.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&t._setEndLocation(s,e)}}}}function iX(t,e){t._setDocumentType(e);const n=e.forceQuirks?or.QUIRKS:PK(e);DK(e)||t._err(e,K.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=P.BEFORE_HTML}function cc(t,e){t._err(e,K.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,or.QUIRKS),t.insertionMode=P.BEFORE_HTML,t._processToken(e)}function sX(t,e){e.tagID===m.HTML?(t._insertElement(e,J.HTML),t.insertionMode=P.BEFORE_HEAD):Bc(t,e)}function oX(t,e){const n=e.tagID;(n===m.HTML||n===m.HEAD||n===m.BODY||n===m.BR)&&Bc(t,e)}function Bc(t,e){t._insertFakeRootElement(),t.insertionMode=P.BEFORE_HEAD,t._processToken(e)}function aX(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.HEAD:{t._insertElement(e,J.HTML),t.headElement=t.openElements.current,t.insertionMode=P.IN_HEAD;break}default:Uc(t,e)}}function lX(t,e){const n=e.tagID;n===m.HEAD||n===m.BODY||n===m.HTML||n===m.BR?Uc(t,e):t._err(e,K.endTagWithoutMatchingOpenElement)}function Uc(t,e){t._insertFakeElement(z.HEAD,m.HEAD),t.headElement=t.openElements.current,t.insertionMode=P.IN_HEAD,t._processToken(e)}function Yr(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:{t._appendElement(e,J.HTML),e.ackSelfClosing=!0;break}case m.TITLE:{t._switchToTextParsing(e,ft.RCDATA);break}case m.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,ft.RAWTEXT):(t._insertElement(e,J.HTML),t.insertionMode=P.IN_HEAD_NO_SCRIPT);break}case m.NOFRAMES:case m.STYLE:{t._switchToTextParsing(e,ft.RAWTEXT);break}case m.SCRIPT:{t._switchToTextParsing(e,ft.SCRIPT_DATA);break}case m.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=P.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(P.IN_TEMPLATE);break}case m.HEAD:{t._err(e,K.misplacedStartTagForHeadElement);break}default:jc(t,e)}}function cX(t,e){switch(e.tagID){case m.HEAD:{t.openElements.pop(),t.insertionMode=P.AFTER_HEAD;break}case m.BODY:case m.BR:case m.HTML:{jc(t,e);break}case m.TEMPLATE:{ta(t,e);break}default:t._err(e,K.endTagWithoutMatchingOpenElement)}}function ta(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==m.TEMPLATE&&t._err(e,K.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(m.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,K.endTagWithoutMatchingOpenElement)}function jc(t,e){t.openElements.pop(),t.insertionMode=P.AFTER_HEAD,t._processToken(e)}function uX(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.BASEFONT:case m.BGSOUND:case m.HEAD:case m.LINK:case m.META:case m.NOFRAMES:case m.STYLE:{Yr(t,e);break}case m.NOSCRIPT:{t._err(e,K.nestedNoscriptInHead);break}default:Hc(t,e)}}function dX(t,e){switch(e.tagID){case m.NOSCRIPT:{t.openElements.pop(),t.insertionMode=P.IN_HEAD;break}case m.BR:{Hc(t,e);break}default:t._err(e,K.endTagWithoutMatchingOpenElement)}}function Hc(t,e){const n=e.type===Se.EOF?K.openElementsLeftAfterEof:K.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=P.IN_HEAD,t._processToken(e)}function hX(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.BODY:{t._insertElement(e,J.HTML),t.framesetOk=!1,t.insertionMode=P.IN_BODY;break}case m.FRAMESET:{t._insertElement(e,J.HTML),t.insertionMode=P.IN_FRAMESET;break}case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{t._err(e,K.abandonedHeadElementChild),t.openElements.push(t.headElement,m.HEAD),Yr(t,e),t.openElements.remove(t.headElement);break}case m.HEAD:{t._err(e,K.misplacedStartTagForHeadElement);break}default:Wc(t,e)}}function fX(t,e){switch(e.tagID){case m.BODY:case m.HTML:case m.BR:{Wc(t,e);break}case m.TEMPLATE:{ta(t,e);break}default:t._err(e,K.endTagWithoutMatchingOpenElement)}}function Wc(t,e){t._insertFakeElement(z.BODY,m.BODY),t.insertionMode=P.IN_BODY,Bp(t,e)}function Bp(t,e){switch(e.type){case Se.CHARACTER:{kR(t,e);break}case Se.WHITESPACE_CHARACTER:{CR(t,e);break}case Se.COMMENT:{fy(t,e);break}case Se.START_TAG:{en(t,e);break}case Se.END_TAG:{Up(t,e);break}case Se.EOF:{NR(t,e);break}}}function CR(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function kR(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function pX(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function gX(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function mX(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,J.HTML),t.insertionMode=P.IN_FRAMESET)}function yX(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,J.HTML)}function bX(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&hy.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,J.HTML)}function vX(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,J.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function _X(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,J.HTML),n||(t.formElement=t.openElements.current))}function EX(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const i=t.openElements.tagIDs[r];if(n===m.LI&&i===m.LI||(n===m.DD||n===m.DT)&&(i===m.DD||i===m.DT)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.popUntilTagNamePopped(i);break}if(i!==m.ADDRESS&&i!==m.DIV&&i!==m.P&&t._isSpecialElement(t.openElements.items[r],i))break}t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,J.HTML)}function wX(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,J.HTML),t.tokenizer.state=ft.PLAINTEXT}function TX(t,e){t.openElements.hasInScope(m.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(m.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,J.HTML),t.framesetOk=!1}function xX(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(z.A);n&&(kv(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,J.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function SX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,J.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function CX(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(m.NOBR)&&(kv(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,J.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function kX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,J.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function AX(t,e){t.treeAdapter.getDocumentMode(t.document)!==or.QUIRKS&&t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._insertElement(e,J.HTML),t.framesetOk=!1,t.insertionMode=P.IN_TABLE}function AR(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,J.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function OR(t){const e=yR(t,Lo.TYPE);return e!=null&&e.toLowerCase()===YK}function OX(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,J.HTML),OR(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function RX(t,e){t._appendElement(e,J.HTML),e.ackSelfClosing=!0}function NX(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._appendElement(e,J.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function IX(t,e){e.tagName=z.IMG,e.tagID=m.IMG,AR(t,e)}function DX(t,e){t._insertElement(e,J.HTML),t.skipNextNewLine=!0,t.tokenizer.state=ft.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=P.TEXT}function PX(t,e){t.openElements.hasInButtonScope(m.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,ft.RAWTEXT)}function MX(t,e){t.framesetOk=!1,t._switchToTextParsing(e,ft.RAWTEXT)}function bT(t,e){t._switchToTextParsing(e,ft.RAWTEXT)}function LX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,J.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===P.IN_TABLE||t.insertionMode===P.IN_CAPTION||t.insertionMode===P.IN_TABLE_BODY||t.insertionMode===P.IN_ROW||t.insertionMode===P.IN_CELL?P.IN_SELECT_IN_TABLE:P.IN_SELECT}function FX(t,e){t.openElements.currentTagId===m.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,J.HTML)}function BX(t,e){t.openElements.hasInScope(m.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,J.HTML)}function UX(t,e){t.openElements.hasInScope(m.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(m.RTC),t._insertElement(e,J.HTML)}function jX(t,e){t._reconstructActiveFormattingElements(),TR(e),Cv(e),e.selfClosing?t._appendElement(e,J.MATHML):t._insertElement(e,J.MATHML),e.ackSelfClosing=!0}function HX(t,e){t._reconstructActiveFormattingElements(),xR(e),Cv(e),e.selfClosing?t._appendElement(e,J.SVG):t._insertElement(e,J.SVG),e.ackSelfClosing=!0}function vT(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,J.HTML)}function en(t,e){switch(e.tagID){case m.I:case m.S:case m.B:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.SMALL:case m.STRIKE:case m.STRONG:{SX(t,e);break}case m.A:{xX(t,e);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{bX(t,e);break}case m.P:case m.DL:case m.OL:case m.UL:case m.DIV:case m.DIR:case m.NAV:case m.MAIN:case m.MENU:case m.ASIDE:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.DETAILS:case m.ADDRESS:case m.ARTICLE:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{yX(t,e);break}case m.LI:case m.DD:case m.DT:{EX(t,e);break}case m.BR:case m.IMG:case m.WBR:case m.AREA:case m.EMBED:case m.KEYGEN:{AR(t,e);break}case m.HR:{NX(t,e);break}case m.RB:case m.RTC:{BX(t,e);break}case m.RT:case m.RP:{UX(t,e);break}case m.PRE:case m.LISTING:{vX(t,e);break}case m.XMP:{PX(t,e);break}case m.SVG:{HX(t,e);break}case m.HTML:{pX(t,e);break}case m.BASE:case m.LINK:case m.META:case m.STYLE:case m.TITLE:case m.SCRIPT:case m.BGSOUND:case m.BASEFONT:case m.TEMPLATE:{Yr(t,e);break}case m.BODY:{gX(t,e);break}case m.FORM:{_X(t,e);break}case m.NOBR:{CX(t,e);break}case m.MATH:{jX(t,e);break}case m.TABLE:{AX(t,e);break}case m.INPUT:{OX(t,e);break}case m.PARAM:case m.TRACK:case m.SOURCE:{RX(t,e);break}case m.IMAGE:{IX(t,e);break}case m.BUTTON:{TX(t,e);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{kX(t,e);break}case m.IFRAME:{MX(t,e);break}case m.SELECT:{LX(t,e);break}case m.OPTION:case m.OPTGROUP:{FX(t,e);break}case m.NOEMBED:case m.NOFRAMES:{bT(t,e);break}case m.FRAMESET:{mX(t,e);break}case m.TEXTAREA:{DX(t,e);break}case m.NOSCRIPT:{t.options.scriptingEnabled?bT(t,e):vT(t,e);break}case m.PLAINTEXT:{wX(t,e);break}case m.COL:case m.TH:case m.TD:case m.TR:case m.HEAD:case m.FRAME:case m.TBODY:case m.TFOOT:case m.THEAD:case m.CAPTION:case m.COLGROUP:break;default:vT(t,e)}}function WX(t,e){if(t.openElements.hasInScope(m.BODY)&&(t.insertionMode=P.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function zX(t,e){t.openElements.hasInScope(m.BODY)&&(t.insertionMode=P.AFTER_BODY,UR(t,e))}function $X(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function GX(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(m.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(m.FORM):n&&t.openElements.remove(n))}function YX(t){t.openElements.hasInButtonScope(m.P)||t._insertFakeElement(z.P,m.P),t._closePElement()}function VX(t){t.openElements.hasInListItemScope(m.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(m.LI),t.openElements.popUntilTagNamePopped(m.LI))}function qX(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function KX(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function XX(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function QX(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(z.BR,m.BR),t.openElements.pop(),t.framesetOk=!1}function RR(t,e){const n=e.tagName,r=e.tagID;for(let i=t.openElements.stackTop;i>0;i--){const s=t.openElements.items[i],o=t.openElements.tagIDs[i];if(r===o&&(r!==m.UNKNOWN||t.treeAdapter.getTagName(s)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=i&&t.openElements.shortenToLength(i);break}if(t._isSpecialElement(s,o))break}}function Up(t,e){switch(e.tagID){case m.A:case m.B:case m.I:case m.S:case m.U:case m.EM:case m.TT:case m.BIG:case m.CODE:case m.FONT:case m.NOBR:case m.SMALL:case m.STRIKE:case m.STRONG:{kv(t,e);break}case m.P:{YX(t);break}case m.DL:case m.UL:case m.OL:case m.DIR:case m.DIV:case m.NAV:case m.PRE:case m.MAIN:case m.MENU:case m.ASIDE:case m.BUTTON:case m.CENTER:case m.FIGURE:case m.FOOTER:case m.HEADER:case m.HGROUP:case m.DIALOG:case m.ADDRESS:case m.ARTICLE:case m.DETAILS:case m.SEARCH:case m.SECTION:case m.SUMMARY:case m.LISTING:case m.FIELDSET:case m.BLOCKQUOTE:case m.FIGCAPTION:{$X(t,e);break}case m.LI:{VX(t);break}case m.DD:case m.DT:{qX(t,e);break}case m.H1:case m.H2:case m.H3:case m.H4:case m.H5:case m.H6:{KX(t);break}case m.BR:{QX(t);break}case m.BODY:{WX(t,e);break}case m.HTML:{zX(t,e);break}case m.FORM:{GX(t);break}case m.APPLET:case m.OBJECT:case m.MARQUEE:{XX(t,e);break}case m.TEMPLATE:{ta(t,e);break}default:RR(t,e)}}function NR(t,e){t.tmplInsertionModeStack.length>0?BR(t,e):Av(t,e)}function JX(t,e){var n;e.tagID===m.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function ZX(t,e){t._err(e,K.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function mm(t,e){if(t.openElements.currentTagId!==void 0&&SR.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=P.IN_TABLE_TEXT,e.type){case Se.CHARACTER:{DR(t,e);break}case Se.WHITESPACE_CHARACTER:{IR(t,e);break}}else Vu(t,e)}function eQ(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,J.HTML),t.insertionMode=P.IN_CAPTION}function tQ(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,J.HTML),t.insertionMode=P.IN_COLUMN_GROUP}function nQ(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(z.COLGROUP,m.COLGROUP),t.insertionMode=P.IN_COLUMN_GROUP,Ov(t,e)}function rQ(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,J.HTML),t.insertionMode=P.IN_TABLE_BODY}function iQ(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(z.TBODY,m.TBODY),t.insertionMode=P.IN_TABLE_BODY,jp(t,e)}function sQ(t,e){t.openElements.hasInTableScope(m.TABLE)&&(t.openElements.popUntilTagNamePopped(m.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function oQ(t,e){OR(e)?t._appendElement(e,J.HTML):Vu(t,e),e.ackSelfClosing=!0}function aQ(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,J.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function _l(t,e){switch(e.tagID){case m.TD:case m.TH:case m.TR:{iQ(t,e);break}case m.STYLE:case m.SCRIPT:case m.TEMPLATE:{Yr(t,e);break}case m.COL:{nQ(t,e);break}case m.FORM:{aQ(t,e);break}case m.TABLE:{sQ(t,e);break}case m.TBODY:case m.TFOOT:case m.THEAD:{rQ(t,e);break}case m.INPUT:{oQ(t,e);break}case m.CAPTION:{eQ(t,e);break}case m.COLGROUP:{tQ(t,e);break}default:Vu(t,e)}}function Su(t,e){switch(e.tagID){case m.TABLE:{t.openElements.hasInTableScope(m.TABLE)&&(t.openElements.popUntilTagNamePopped(m.TABLE),t._resetInsertionMode());break}case m.TEMPLATE:{ta(t,e);break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Vu(t,e)}}function Vu(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Bp(t,e),t.fosterParentingEnabled=n}function IR(t,e){t.pendingCharacterTokens.push(e)}function DR(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function uc(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Vu(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const PR=new Set([m.CAPTION,m.COL,m.COLGROUP,m.TBODY,m.TD,m.TFOOT,m.TH,m.THEAD,m.TR]);function lQ(t,e){const n=e.tagID;PR.has(n)?t.openElements.hasInTableScope(m.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(m.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=P.IN_TABLE,_l(t,e)):en(t,e)}function cQ(t,e){const n=e.tagID;switch(n){case m.CAPTION:case m.TABLE:{t.openElements.hasInTableScope(m.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(m.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=P.IN_TABLE,n===m.TABLE&&Su(t,e));break}case m.BODY:case m.COL:case m.COLGROUP:case m.HTML:case m.TBODY:case m.TD:case m.TFOOT:case m.TH:case m.THEAD:case m.TR:break;default:Up(t,e)}}function Ov(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.COL:{t._appendElement(e,J.HTML),e.ackSelfClosing=!0;break}case m.TEMPLATE:{Yr(t,e);break}default:Df(t,e)}}function uQ(t,e){switch(e.tagID){case m.COLGROUP:{t.openElements.currentTagId===m.COLGROUP&&(t.openElements.pop(),t.insertionMode=P.IN_TABLE);break}case m.TEMPLATE:{ta(t,e);break}case m.COL:break;default:Df(t,e)}}function Df(t,e){t.openElements.currentTagId===m.COLGROUP&&(t.openElements.pop(),t.insertionMode=P.IN_TABLE,t._processToken(e))}function jp(t,e){switch(e.tagID){case m.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,J.HTML),t.insertionMode=P.IN_ROW;break}case m.TH:case m.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(z.TR,m.TR),t.insertionMode=P.IN_ROW,Hp(t,e);break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=P.IN_TABLE,_l(t,e));break}default:_l(t,e)}}function py(t,e){const n=e.tagID;switch(e.tagID){case m.TBODY:case m.TFOOT:case m.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=P.IN_TABLE);break}case m.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=P.IN_TABLE,Su(t,e));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:case m.TR:break;default:Su(t,e)}}function Hp(t,e){switch(e.tagID){case m.TH:case m.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,J.HTML),t.insertionMode=P.IN_CELL,t.activeFormattingElements.insertMarker();break}case m.CAPTION:case m.COL:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{t.openElements.hasInTableScope(m.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=P.IN_TABLE_BODY,jp(t,e));break}default:_l(t,e)}}function MR(t,e){switch(e.tagID){case m.TR:{t.openElements.hasInTableScope(m.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=P.IN_TABLE_BODY);break}case m.TABLE:{t.openElements.hasInTableScope(m.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=P.IN_TABLE_BODY,py(t,e));break}case m.TBODY:case m.TFOOT:case m.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(m.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=P.IN_TABLE_BODY,py(t,e));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:case m.TD:case m.TH:break;default:Su(t,e)}}function dQ(t,e){const n=e.tagID;PR.has(n)?(t.openElements.hasInTableScope(m.TD)||t.openElements.hasInTableScope(m.TH))&&(t._closeTableCell(),Hp(t,e)):en(t,e)}function hQ(t,e){const n=e.tagID;switch(n){case m.TD:case m.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=P.IN_ROW);break}case m.TABLE:case m.TBODY:case m.TFOOT:case m.THEAD:case m.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),MR(t,e));break}case m.BODY:case m.CAPTION:case m.COL:case m.COLGROUP:case m.HTML:break;default:Up(t,e)}}function LR(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.OPTION:{t.openElements.currentTagId===m.OPTION&&t.openElements.pop(),t._insertElement(e,J.HTML);break}case m.OPTGROUP:{t.openElements.currentTagId===m.OPTION&&t.openElements.pop(),t.openElements.currentTagId===m.OPTGROUP&&t.openElements.pop(),t._insertElement(e,J.HTML);break}case m.HR:{t.openElements.currentTagId===m.OPTION&&t.openElements.pop(),t.openElements.currentTagId===m.OPTGROUP&&t.openElements.pop(),t._appendElement(e,J.HTML),e.ackSelfClosing=!0;break}case m.INPUT:case m.KEYGEN:case m.TEXTAREA:case m.SELECT:{t.openElements.hasInSelectScope(m.SELECT)&&(t.openElements.popUntilTagNamePopped(m.SELECT),t._resetInsertionMode(),e.tagID!==m.SELECT&&t._processStartTag(e));break}case m.SCRIPT:case m.TEMPLATE:{Yr(t,e);break}}}function FR(t,e){switch(e.tagID){case m.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===m.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===m.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===m.OPTGROUP&&t.openElements.pop();break}case m.OPTION:{t.openElements.currentTagId===m.OPTION&&t.openElements.pop();break}case m.SELECT:{t.openElements.hasInSelectScope(m.SELECT)&&(t.openElements.popUntilTagNamePopped(m.SELECT),t._resetInsertionMode());break}case m.TEMPLATE:{ta(t,e);break}}}function fQ(t,e){const n=e.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?(t.openElements.popUntilTagNamePopped(m.SELECT),t._resetInsertionMode(),t._processStartTag(e)):LR(t,e)}function pQ(t,e){const n=e.tagID;n===m.CAPTION||n===m.TABLE||n===m.TBODY||n===m.TFOOT||n===m.THEAD||n===m.TR||n===m.TD||n===m.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(m.SELECT),t._resetInsertionMode(),t.onEndTag(e)):FR(t,e)}function gQ(t,e){switch(e.tagID){case m.BASE:case m.BASEFONT:case m.BGSOUND:case m.LINK:case m.META:case m.NOFRAMES:case m.SCRIPT:case m.STYLE:case m.TEMPLATE:case m.TITLE:{Yr(t,e);break}case m.CAPTION:case m.COLGROUP:case m.TBODY:case m.TFOOT:case m.THEAD:{t.tmplInsertionModeStack[0]=P.IN_TABLE,t.insertionMode=P.IN_TABLE,_l(t,e);break}case m.COL:{t.tmplInsertionModeStack[0]=P.IN_COLUMN_GROUP,t.insertionMode=P.IN_COLUMN_GROUP,Ov(t,e);break}case m.TR:{t.tmplInsertionModeStack[0]=P.IN_TABLE_BODY,t.insertionMode=P.IN_TABLE_BODY,jp(t,e);break}case m.TD:case m.TH:{t.tmplInsertionModeStack[0]=P.IN_ROW,t.insertionMode=P.IN_ROW,Hp(t,e);break}default:t.tmplInsertionModeStack[0]=P.IN_BODY,t.insertionMode=P.IN_BODY,en(t,e)}}function mQ(t,e){e.tagID===m.TEMPLATE&&ta(t,e)}function BR(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(m.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):Av(t,e)}function yQ(t,e){e.tagID===m.HTML?en(t,e):Pf(t,e)}function UR(t,e){var n;if(e.tagID===m.HTML){if(t.fragmentContext||(t.insertionMode=P.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===m.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else Pf(t,e)}function Pf(t,e){t.insertionMode=P.IN_BODY,Bp(t,e)}function bQ(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.FRAMESET:{t._insertElement(e,J.HTML);break}case m.FRAME:{t._appendElement(e,J.HTML),e.ackSelfClosing=!0;break}case m.NOFRAMES:{Yr(t,e);break}}}function vQ(t,e){e.tagID===m.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==m.FRAMESET&&(t.insertionMode=P.AFTER_FRAMESET))}function _Q(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.NOFRAMES:{Yr(t,e);break}}}function EQ(t,e){e.tagID===m.HTML&&(t.insertionMode=P.AFTER_AFTER_FRAMESET)}function wQ(t,e){e.tagID===m.HTML?en(t,e):Ih(t,e)}function Ih(t,e){t.insertionMode=P.IN_BODY,Bp(t,e)}function TQ(t,e){switch(e.tagID){case m.HTML:{en(t,e);break}case m.NOFRAMES:{Yr(t,e);break}}}function xQ(t,e){e.chars=Qe,t._insertCharacters(e)}function SQ(t,e){t._insertCharacters(e),t.framesetOk=!1}function jR(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==J.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function CQ(t,e){if(HK(e))jR(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===J.MATHML?TR(e):r===J.SVG&&(WK(e),xR(e)),Cv(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function kQ(t,e){if(e.tagID===m.P||e.tagID===m.BR){jR(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===J.HTML){t._endTagOutsideForeignContent(e);break}const i=t.treeAdapter.getTagName(r);if(i.toLowerCase()===e.tagName){e.tagName=i,t.openElements.shortenToLength(n);break}}}z.AREA,z.BASE,z.BASEFONT,z.BGSOUND,z.BR,z.COL,z.EMBED,z.FRAME,z.HR,z.IMG,z.INPUT,z.KEYGEN,z.LINK,z.META,z.PARAM,z.SOURCE,z.TRACK,z.WBR;const AQ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,OQ=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),_T={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function HR(t,e){const n=UQ(t),r=nO("type",{handlers:{root:RQ,element:NQ,text:IQ,comment:zR,doctype:DQ,raw:MQ},unknown:LQ}),i={parser:n?new yT(_T):yT.getFragmentParser(void 0,_T),handle(a){r(a,i)},stitches:!1,options:e||{}};r(t,i),Gl(i,vi());const s=n?i.parser.document:i.parser.getFragment(),o=Rq(s,{file:i.options.file});return i.stitches&&$u(o,"comment",function(a,l,c){const u=a;if(u.value.stitch&&c&&l!==void 0){const d=c.children;return d[l]=u.value.stitch,l}}),o.type==="root"&&o.children.length===1&&o.children[0].type===t.type?o.children[0]:o}function WR(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function RQ(t,e){WR(t.children,e)}function NQ(t,e){FQ(t,e),WR(t.children,e),BQ(t,e)}function IQ(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:Se.CHARACTER,chars:t.value,location:qu(t)};Gl(e,vi(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function DQ(t,e){const n={type:Se.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:qu(t)};Gl(e,vi(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function PQ(t,e){e.stitches=!0;const n=jQ(t);if("children"in t&&"children"in n){const r=HR({type:"root",children:t.children},e.options);n.children=r.children}zR({type:"comment",value:{stitch:n}},e)}function zR(t,e){const n=t.value,r={type:Se.COMMENT,data:n,location:qu(t)};Gl(e,vi(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function MQ(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,$R(e,vi(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(AQ,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function LQ(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))PQ(n,e);else{let r="";throw OQ.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Gl(t,e){$R(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=ft.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function $R(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function FQ(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===ft.PLAINTEXT)return;Gl(e,vi(t));const r=e.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:xo.html;i===xo.html&&n==="svg"&&(i=xo.svg);const s=Gq({...t,children:[]},{space:i===xo.svg?"svg":"html"}),o={type:Se.START_TAG,tagName:n,tagID:$l(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:qu(t)};e.parser.currentToken=o,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function BQ(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&Zq.includes(n)||e.parser.tokenizer.state===ft.PLAINTEXT)return;Gl(e,Ip(t));const r={type:Se.END_TAG,tagName:n,tagID:$l(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:qu(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===ft.RCDATA||e.parser.tokenizer.state===ft.RAWTEXT||e.parser.tokenizer.state===ft.SCRIPT_DATA)&&(e.parser.tokenizer.state=ft.DATA)}function UQ(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function qu(t){const e=vi(t)||{line:void 0,column:void 0,offset:void 0},n=Ip(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function jQ(t){return"children"in t?bl({...t,children:[]}):bl(t)}function HQ(t){return function(e,n){return HR(e,{...t,file:n})}}const WQ=({content:t,className:e=""})=>E.jsx("div",{className:`prose prose-sm max-w-none ${e}`,children:E.jsx(C7,{remarkPlugins:[UG],rehypePlugins:[HQ,bq],children:t})}),zQ=()=>{const t=Tk(),[e,n]=A.useState(!0),[r,i]=A.useState(!1),[s,o]=A.useState(""),[a,l]=A.useState(!1),[c,u]=A.useState("Anonymous"),[d,h]=A.useState(""),f="Anonymous",p=A.useRef(null),g=A.useRef(null),v=A.useRef(null);A.useEffect(()=>(y(),b(),()=>{p.current&&li.removeChannel(p.current),g.current&&clearTimeout(g.current)}),[]);const y=async()=>{try{const{data:q,error:M}=await li.from("collaborative_dashboard").select("*").eq("id",1).single();if(M)throw M;if(q){let W=q.content||"";if(W.includes("<")&&W.includes(">")){console.log("Found HTML content, converting to plain text");const D=document.createElement("div");D.innerHTML=W,W=D.textContent||D.innerText||""}o(W),u(q.last_updated_by),h(q.updated_at)}}catch(q){console.error("Error loading content:",q),Mr.error("Failed to load dashboard")}finally{n(!1)}},b=()=>{p.current=li.channel("collaborative_dashboard_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"collaborative_dashboard",filter:"id=eq.1"},q=>{const M=q.new;if(M.last_updated_by!==f){let W=M.content||"";if(W.includes("<")&&W.includes(">")){const D=document.createElement("div");D.innerHTML=W,W=D.textContent||D.innerText||""}o(W),u(M.last_updated_by),h(M.updated_at),Mr.info(`Updated by ${M.last_updated_by}`)}}).subscribe()},_=A.useCallback(async q=>{if(!r){i(!0);try{const{error:M}=await li.from("collaborative_dashboard").update({content:q,last_updated_by:f}).eq("id",1);if(M)throw M;u(f),h(new Date().toISOString())}catch(M){console.error("Error saving:",M),Mr.error("Failed to save changes")}finally{i(!1)}}},[f,r]),T=q=>{o(q),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{_(q)},6e4)},x=()=>{g.current&&clearTimeout(g.current),_(s),l(!1),Mr.success("Saved!",{style:{background:"hsl(330, 100%, 95%)",color:"hsl(330, 70%, 40%)",border:"2px solid hsl(330, 85%, 65%)"}})},w=(q,M="")=>{const W=v.current;if(!W)return;const D=W.selectionStart,H=W.selectionEnd,S=s.substring(D,H),ie=s.substring(0,D)+q+S+M+s.substring(H);o(ie),T(ie),setTimeout(()=>{W.focus();const ee=D+q.length+S.length;W.setSelectionRange(ee,ee)},0)},C=()=>w("**","**"),I=()=>w("*","*"),U=()=>w("`","`"),O=()=>w("# ",""),G=()=>w("## ",""),j=()=>w("### ",""),X=()=>w('<mark style="background-color: #ffb3d9;">',"</mark>"),$=()=>w('<span style="color: #d4a5d4;">',"</span>");return e?E.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:E.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading dashboard..."})}):E.jsxs("div",{className:"min-h-screen bg-background pb-16",children:[E.jsx("div",{className:"win95-border bg-card sticky top-0 z-10 shadow-md",children:E.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-4",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:()=>t("/"),className:"win95-border p-2 hover:bg-accent bg-white flex items-center gap-2",title:"Back to Home",children:[E.jsx(DP,{className:"w-4 h-4"}),E.jsx("span",{className:"text-sm font-bold hidden sm:inline",children:"Home"})]}),E.jsx("h1",{className:"text-xl font-bold text-primary",children:" Collaborative Dashboard"})]}),E.jsxs("button",{onClick:a?x:()=>l(!0),disabled:r,className:`win95-border px-3 py-1.5 text-sm hover:bg-accent ${a?"bg-primary/20":"bg-white"} disabled:opacity-50 flex items-center gap-2`,title:a?"Done Editing":"Edit",children:[a?E.jsx(CP,{className:"w-4 h-4"}):E.jsx(jP,{className:"w-4 h-4"}),E.jsx("span",{children:a?r?"Saving...":"Done":"Edit"})]})]}),a&&E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[E.jsx("button",{onClick:C,className:"win95-border p-1 hover:bg-accent bg-white",title:"Bold",children:E.jsx(EP,{className:"w-4 h-4"})}),E.jsx("button",{onClick:I,className:"win95-border p-1 hover:bg-accent bg-white",title:"Italic",children:E.jsx(PP,{className:"w-4 h-4"})}),E.jsx("button",{onClick:U,className:"win95-border p-1 hover:bg-accent bg-white",title:"Inline Code",children:E.jsx(TP,{className:"w-4 h-4"})}),E.jsx("div",{className:"w-px h-6 bg-border mx-1"}),E.jsx("button",{onClick:X,className:"win95-border p-1 hover:bg-accent bg-white",title:"Highlight (Light Pink)",children:E.jsx(IP,{className:"w-4 h-4"})}),E.jsx("button",{onClick:$,className:"win95-border p-1 hover:bg-accent bg-white",title:"Lighter Color Text",children:E.jsx(BP,{className:"w-4 h-4"})}),E.jsx("div",{className:"w-px h-6 bg-border mx-1"}),E.jsx("button",{onClick:O,className:"win95-border p-1 hover:bg-accent bg-white",title:"Heading 1",children:E.jsx(OP,{className:"w-4 h-4"})}),E.jsx("button",{onClick:G,className:"win95-border p-1 hover:bg-accent bg-white",title:"Heading 2",children:E.jsx(RP,{className:"w-4 h-4"})}),E.jsx("button",{onClick:j,className:"win95-border p-1 hover:bg-accent bg-white",title:"Heading 3",children:E.jsx(NP,{className:"w-4 h-4"})})]}),E.jsxs("div",{className:"text-xs text-muted-foreground hidden md:block",children:[c!==f&&E.jsxs("span",{children:["Last updated by ",c]}),d&&E.jsx("span",{className:"ml-2",children:new Date(d).toLocaleString()})]})]})]})}),E.jsx("div",{className:"max-w-5xl mx-auto px-6 py-6",children:a?E.jsx("textarea",{ref:v,value:s,onChange:q=>T(q.target.value),className:"win95-border-inset w-full min-h-[calc(100vh-250px)] p-6 text-sm resize-none bg-white font-mono",placeholder:"Start typing... Markdown supported: [link](url), **bold**, `code`, etc.",autoFocus:!0}):E.jsx("div",{className:"win95-border bg-white p-8 min-h-[calc(100vh-250px)]",children:s?E.jsx(WQ,{content:s}):E.jsx("p",{className:"text-sm text-muted-foreground italic",children:'No content yet. Click "Edit" to start writing.'})})}),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 win95-border bg-muted py-2 px-6",children:E.jsx("div",{className:"max-w-5xl mx-auto",children:E.jsx("p",{className:"text-xs text-muted-foreground text-center",children:'Collaborative space. Click "Edit" to write markdown. Auto-saves after 1 minute. Markdown: [link](url), **bold**, `code`, ```js code blocks ```'})})})]})},$Q=()=>{const t=kb();return A.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),E.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),E.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),E.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},GQ=new fF,YQ=()=>E.jsx(gF,{client:GQ,children:E.jsxs(z3,{children:[E.jsx(CM,{}),E.jsx(iL,{}),E.jsx(l4,{children:E.jsxs(s4,{children:[E.jsx(Th,{path:"/",element:E.jsx(Z9,{})}),E.jsx(Th,{path:"/dashboard",element:E.jsx(zQ,{})}),E.jsx(Th,{path:"*",element:E.jsx($Q,{})})]})})]})});$S(document.getElementById("root")).render(E.jsx(YQ,{}));
